{"version":3,"file":"epsgis.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","../../../projects/epsgis/utils/console-log.ts","../../../projects/epsgis/models/app-config.ts","../../../projects/epsgis/directives/component-container.directive.ts","../../../projects/epsgis/directives/directives.module.ts","../../../projects/epsgis/models/base-widget.ts","../../../projects/epsgis/components/base-widget.ts","../../../projects/epsgis/models/http/request.result.ts","../../../projects/epsgis/decorator/component-register.decorator.ts","../../../projects/epsgis/components/shared/json-editor/json-editor.component.ts","../../../projects/epsgis/components/setting/base-setting.component.ts","../../../projects/epsgis/components/setting/widget-setting/widget-setting.component.html","../../../projects/epsgis/components/setting/widget-setting/widget-setting.component.ts","../../../projects/epsgis/components/icon/icon-setting.component.ts","../../../projects/epsgis/components/base-widget/base-widget.component.ts","../../../projects/epsgis/components/on-screen-widget-icon/on-screen-widget-icon.component.html","../../../projects/epsgis/components/on-screen-widget-icon/on-screen-widget-icon.component.ts","../../../projects/epsgis/models/base-panel.ts","../../../projects/epsgis/services/aspect.service.ts","../../../projects/epsgis/components/base-panel/base-panel.component.ts","../../../projects/epsgis/components/icon/icon-uncollapsed.component.ts","../../../projects/epsgis/components/icon/icon-collapsed.component.ts","../../../projects/epsgis/components/icon/icon-unmaximize.component.ts","../../../projects/epsgis/components/icon/icon-maximize.component.ts","../../../projects/epsgis/components/icon/icon-close.component.ts","../../../projects/epsgis/components/base-panel/panel-titlebar.component.ts","../../../projects/epsgis/components/on-screen-widget-panel/on-screen-widget-panel.component.ts","../../../projects/epsgis/components/on-screen-widget-panel/on-screen-widget-panel.component.html","../../../projects/epsgis/components/ex-panels/base-dockable-panel.ts","../../../projects/epsgis/components/ex-panels/dockable-panel-at-bottom/dockable-panel-at-bottom.component.ts","../../../projects/epsgis/components/ex-panels/dockable-panel-at-bottom/dockable-panel-at-bottom.component.html","../../../projects/epsgis/components/ex-panels/dockable-panel-at-right/dockable-panel-at-right.component.ts","../../../projects/epsgis/components/ex-panels/dockable-panel-at-right/dockable-panel-at-right.component.html","../../../projects/epsgis/components/ex-panels/dockable-panel-at-left/dockable-panel-at-left.component.ts","../../../projects/epsgis/components/ex-panels/dockable-panel-at-left/dockable-panel-at-left.component.html","../../../projects/epsgis/components/mobile/base-mobile-panel.ts","../../../projects/epsgis/components/mobile/action-panel/action-panel.component.html","../../../projects/epsgis/components/mobile/action-panel/action-panel.component.ts","../../../projects/epsgis/components/mobile/drawer-panel/drawer-panel.component.html","../../../projects/epsgis/components/mobile/drawer-panel/drawer-panel.component.ts","../../../projects/epsgis/components/mobile/modal-panel/modal-panel.component.html","../../../projects/epsgis/components/mobile/modal-panel/modal-panel.component.ts","../../../projects/epsgis/components/mobile/popup-panel/popup-panel.component.html","../../../projects/epsgis/components/mobile/popup-panel/popup-panel.component.ts","../../../projects/epsgis/components/mobile/drawer-panel-right/drawer-panel-right.component.html","../../../projects/epsgis/components/mobile/drawer-panel-right/drawer-panel-right.component.ts","../../../projects/epsgis/pipes/safeurl.pipe.ts","../../../projects/epsgis/components/ex-panels/iframe-panel/iframe-panel.component.html","../../../projects/epsgis/components/ex-panels/iframe-panel/iframe-panel.component.ts","../../../projects/epsgis/pipes/pipes.module.ts","../../../projects/epsgis/components/shared/resultfof/resultfof.component.ts","../../../projects/epsgis/components/shared/resultfof/resultfof.component.html","../../../projects/epsgis/components/shared/resultfoo/resultfoo.component.ts","../../../projects/epsgis/components/shared/resultfoo/resultfoo.component.html","../../../projects/epsgis/components/shared/resultfot/resultfot.component.ts","../../../projects/epsgis/components/shared/resultfot/resultfot.component.html","../../../projects/epsgis/components/shared/shared.module.ts","../../../projects/epsgis/components/icon/icon-arrow-down.component.ts","../../../projects/epsgis/components/icon/icon-arrow-left.component.ts","../../../projects/epsgis/components/icon/icon-arrow-right.component.ts","../../../projects/epsgis/components/icon/icon-module.ts","../../../projects/epsgis/components/widget-base.module.ts","../../../projects/epsgis/services/shared/shared-utils.service.ts","../../../projects/epsgis/utils/platform.ts","../../../projects/epsgis/services/utils.service.ts","../../../projects/epsgis/services/platform.service.ts","../../../projects/epsgis/services/common.service.ts","../../../projects/epsgis/services/component-loader.service.ts","../../../projects/epsgis/models/base-widget-frame.ts","../../../projects/epsgis/models/base-widget-panel.ts","../../../projects/epsgis/models/base-widget-setting.ts","../../../projects/epsgis/models/on-screen-widget-panel.ts","../../../projects/epsgis/models/widget-placeholder.ts","../../../projects/epsgis/services/event-emitter.service.ts","../../../projects/epsgis/services/request.service.ts","../../../projects/epsgis/services/widget-manager.service.ts","../../../projects/epsgis/services/config-loader.service.ts","../../../projects/epsgis/services/config-manager.service.ts","../../../projects/epsgis/services/panel-manager.service.ts","../../../projects/epsgis/services/map-manager.service.ts","../../../projects/epsgis/services/layout-manager.service.ts","../../../projects/epsgis/services/widget-place-holder.service.ts","../../../projects/epsgis/components/modal/modal-ref.ts","../../../projects/epsgis/components/modal/modal-types.ts","../../../projects/epsgis/components/modal/utils.ts","../../../projects/epsgis/components/modal/modal-container/modal-container.component.html","../../../projects/epsgis/components/modal/modal-container/modal-container.component.ts","../../../projects/epsgis/services/modal-manager.service.ts","../../../projects/epsgis/services/setting.service.ts","../../../projects/epsgis/services/service-injector.ts","../../../projects/epsgis/services/simple-loader.service.ts","../../../projects/epsgis/services/auth.service.ts","../../../projects/epsgis/services/gis-auth.service.ts","../../../projects/epsgis/components/comp-container/comp-container.component.ts","../../../projects/epsgis/components/comp-container/comp-container.component.html","../../../projects/epsgis/components/comp-container/comp-container.module.ts","../../../projects/epsgis/components/modal/modal.component.ts","../../../projects/epsgis/components/modal/modal-footer.component.ts","../../../projects/epsgis/components/base-map/base-map.component.ts","../../../projects/epsgis/components/modal/modal-footer.directive.ts","../../../projects/epsgis/components/modal/modal-options.ts","../../../projects/epsgis/components/shared/ngxviewer/pdf-viewer/pdf-viewer.component.html","../../../projects/epsgis/components/shared/ngxviewer/pdf-viewer/pdf-viewer.component.ts","../../../projects/epsgis/components/shared/ngxviewer/image-viewer/image-viewer.component.html","../../../projects/epsgis/components/shared/ngxviewer/image-viewer/image-viewer.component.ts","../../../projects/epsgis/components/shared/ngxviewer/video-viewer/video-viewer.component.html","../../../projects/epsgis/components/shared/ngxviewer/video-viewer/video-viewer.component.ts","../../../projects/epsgis/components/shared/ngxviewer/e-ngx-viewer.component.html","../../../projects/epsgis/components/shared/ngxviewer/e-ngx-viewer.component.ts","../../../projects/epsgis/components/shared/jsonviewer/json-viewer.component.html","../../../projects/epsgis/components/shared/jsonviewer/json-viewer.component.ts","../../../projects/epsgis/strategy/simple-reuse-strategy.ts","../../../projects/epsgis/components/menu-tab/menu-tab.service.ts","../../../projects/epsgis/components/menu-tab/menu-tab.component.html","../../../projects/epsgis/components/menu-tab/menu-tab.component.ts","../../../projects/epsgis/components/modal/modal-titlebar-button.component.ts","../../../projects/epsgis/components/modal/modal.module.ts","../../../projects/epsgis/epsgis.module.ts","../../../projects/epsgis/components/shared/ngxviewer/e-ngx-viewer.module.ts","../../../projects/epsgis/components/menu-tab/menu-tab.module.ts","../../../projects/epsgis/utils/id-generater.ts","../../../projects/epsgis/utils/localstorage-helper.ts","../../../projects/epsgis/utils/md5.ts","../../../projects/epsgis/utils/prop-watcher.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * 重写日志函数\n */\nexport class LogService {\n    /**\n     * 依赖全局配置，还是改为静态吧\n     */\n    static overwriteLog(log: boolean) {\n        const CONSOLE_METHODS = ['debug', 'error', 'info', \"log\", 'warn', 'time', 'timeEnd', 'count'];\n        CONSOLE_METHODS.forEach((item) => {\n            window.console[item] = (function (oriLogFunc) {\n                return function () {\n                    if (log) {\n                        try {\n                            oriLogFunc.call(console, ...arguments);\n                            // if (item === \"error\") {\n                            //     console.trace(...arguments);\n                            // }\n                        } catch (e) {\n                            console.error('console.log error', e);\n                        }\n                    }\n                }\n            })(window.console[item]);\n        });\n    }\n}","import * as _ from \"lodash\";\r\nimport { InjectionToken, Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { LogService } from \"../utils/console-log\";\r\nexport const AppGlobalConfigToken = new InjectionToken<AppGlobalConfig>('app_global_config');\r\nconst defaultGlobalConfigPath: string = \"assets/global.json\";\r\nconst defuaultConfigPath: string = \"assets/config.json\";\r\n/**\r\n * \r\n */\r\n@Injectable({ providedIn: 'root' })\r\nexport class AppInitService {\r\n\r\n    private _mergedConfig: AppGlobalConfig;\r\n    /*\r\n    Error during template compile of 'createGlobalConfig'\r\n Function expressions are not supported in decorators\r\n   Consider changing the function expression into an exported function.\r\n   */\r\n\r\n    /**\r\n     * \r\n     * @param config \r\n     */\r\n    constructor(\r\n        private httpClient: HttpClient\r\n        // 这里不能注入ActivatedRoute？\r\n        //    , private route: ActivatedRoute\r\n    ) {\r\n    }\r\n    /**\r\n     * \r\n     */\r\n    private getPath(): string {\r\n        let fullPath, path;\r\n        fullPath = window.location.pathname;\r\n        if (fullPath === '/' || fullPath.substr(fullPath.length - 1) === '/') {\r\n            path = fullPath;\r\n        } else {\r\n            let sections = fullPath.split('/');\r\n            path = sections.join('/') + '/';\r\n        }\r\n        return path;\r\n    }\r\n    /**\r\n     * \r\n     */\r\n    private getUrlParams() {\r\n        let s = window.location.search,\r\n            p;\r\n        if (s === '') {\r\n            s = window.location.hash;\r\n            if (s && s.indexOf('?') > 0) {\r\n                s = s.substring(s.indexOf('?'));\r\n            }\r\n        }\r\n        if (s === '') {\r\n            return {};\r\n        }\r\n\r\n        p = new Object();\r\n        if (s.indexOf(\"?\") != -1) {\r\n            let strs = s.substr(1).split(\"&\");\r\n            for (let i = 0; i < strs.length; i++) {\r\n                p[strs[i].split(\"=\")[0]] = decodeURIComponent((strs[i].split(\"=\")[1]));\r\n            }\r\n        }\r\n\r\n        return p;\r\n    }\r\n    /**\r\n     * \r\n     * @param __config \r\n     */\r\n    init(__config: AppGlobalConfig) {\r\n        let __mergedConfig = _.cloneDeep(defaultAppGlobalConfig)\r\n        if (!__mergedConfig.path) {\r\n            __mergedConfig.path = __mergedConfig.appInfo.path = this.getPath();\r\n        }\r\n        __mergedConfig.urlParams = _.merge(__mergedConfig.urlParams, this.getUrlParams());\r\n\r\n        if (__mergedConfig.jimuConfig.isDesignMode === true\r\n            && typeof __mergedConfig.urlParams.config === \"string\" && __mergedConfig.urlParams.config.length >= 1) {\r\n            __mergedConfig.appInfo.configFile = \"./project/\" + __mergedConfig.urlParams.config + \"/config.json\";\r\n            __mergedConfig.appInfo.extendInitjs = \"./project/\" + __mergedConfig.urlParams.config + \"/thirdpartyLibs/init.js\";\r\n            __mergedConfig.appInfo.folderUrlPrefix = \"./project/\" + __mergedConfig.urlParams.config;\r\n        }\r\n        if (__config) {\r\n            __mergedConfig = _.merge(__mergedConfig, __config);\r\n        }\r\n        this._mergedConfig = __mergedConfig; //_.cloneDeep(__mergedConfig);\r\n        return this;\r\n    }\r\n    loadGlobalConfig(): Promise<boolean> {\r\n        return new Promise((resolve, reject) => {\r\n            this._mergedConfig.globalConfigFilePath = this._mergedConfig.globalConfigFilePath || defaultGlobalConfigPath;\r\n            if (this._mergedConfig.globalConfigFilePath) {\r\n                this.httpClient.get(this._mergedConfig.globalConfigFilePath).toPromise().then((cfg: any) => {\r\n                    //this._mergedConfig.globalConfig = { ...this._mergedConfig.globalConfig, ...cfg };\r\n                    if (cfg) {\r\n                        this._mergedConfig = { ...this._mergedConfig, ...cfg };\r\n                        if (cfg.title) {\r\n                            document.title = cfg.title;\r\n                        }\r\n                    }\r\n                    LogService.overwriteLog(this._mergedConfig.log);\r\n                    resolve(true);\r\n                }).catch(err => {\r\n                    console.log(\"配置文件global.json读取失败\");\r\n                    resolve(true);\r\n                });\r\n            } else {\r\n                console.log(\"没有global.json\");\r\n                resolve(true);\r\n            }\r\n        });\r\n    }\r\n    getConfig() {\r\n        return this._mergedConfig;\r\n    }\r\n\r\n}\r\n/**\r\n * 系统配置\r\n */\r\n@Injectable({ providedIn: 'root' })\r\nexport class AppGlobalConfig {\r\n    title?: string;\r\n    subtitle?: string;\r\n    logo?: string;\r\n    apiRootUrl?: string;\r\n    /**\r\n     * 定时任务服务地址\r\n     */\r\n    jobApiUrl?:string;\r\n    /**\r\n     * setting服务地址\r\n     * 服务越来越多，要整为服务。。。网关了。。。\r\n     */\r\n    settingApiUrl?:string;\r\n    // is3D?: boolean;\r\n    widgetRootPath?: string;\r\n    wabVersion?: string;\r\n    path?: string;\r\n    urlParams?: UrlParams;\r\n    jimuConfig?: JimuConfig;\r\n    appInfo?: AppInfo;\r\n    dojoConfig?: DojoConfig;\r\n    epsoConfig?: EpsoConfig;\r\n    globalConfigFilePath?: string;\r\n    // globalConfig?: any;\r\n    menuConfig?: {\r\n        notReuseRoutes?: Array<String>;\r\n        notShowInTabRoutes?: Array<String>,\r\n        menuData?: Array<MenuItem>\r\n    };\r\n    mapConfig?: {\r\n        is3D?: boolean;\r\n        jsApi?: string;\r\n        [key: string]: any;\r\n    };\r\n    /**\r\n     * 是否输出日志\r\n     */\r\n    log?: boolean;\r\n    [key: string]: any;\r\n}\r\n/**\r\n * \r\n */\r\ninterface JimuConfig {\r\n    mapId?: string;\r\n    zIndex?: string;\r\n    isSettings?: boolean;\r\n    isDesignMode?: boolean;\r\n    [key: string]: any;\r\n}\r\n/**\r\n * \r\n */\r\ninterface AppInfo {\r\n    path?: string;\r\n    configFile?: string;\r\n    extendInitjs?: string;\r\n    folderUrlPrefix?: string;\r\n    appPath?: string;\r\n    isRunInMobile?: boolean;\r\n    [key: string]: any;\r\n}\r\n/**\r\n * \r\n */\r\ninterface DojoConfig {\r\n    locale?: string;\r\n    [key: string]: any;\r\n}\r\n/**\r\n * \r\n */\r\ninterface UrlParams {\r\n    [key: string]: string | number | boolean;\r\n}\r\ninterface EpsoConfig {\r\n    showWorkAreaInAddUser?: boolean;\r\n    WorkAreaMinDepthInAddUser?: number;\r\n    defaultCityCode?: string;\r\n    [key: string]: any;\r\n}\r\n/**\r\n * 临时这么处理下\r\n */\r\ninterface MenuItem {\r\n    name?: string;\r\n    path?: string;\r\n    children?: MenuItem[];\r\n    [key: string]: any\r\n}\r\n/**\r\n * 默认配置\r\n */\r\nexport const defaultAppGlobalConfig: AppGlobalConfig = {\r\n    title: \"EPSGIS\",\r\n    subtitle: \"山维科技\",\r\n    logo: \"\",\r\n    apiRootUrl: \"\",\r\n    // is3D: false,\r\n    widgetRootPath: \"widgets\",\r\n    wabVersion: undefined,\r\n    path: \"\",\r\n    urlParams: {\r\n        mode: \"\"\r\n    },\r\n    jimuConfig: {\r\n        zIndex: \"auto\",\r\n        isDesignMode: false,\r\n        isSettings: false,\r\n        mapId: \"mapContainer\"\r\n    },\r\n    appInfo: {\r\n        path: \"\",\r\n        configFile: defuaultConfigPath,\r\n        extendInitjs: \"\",\r\n        folderUrlPrefix: \"\",\r\n        appPath: \"\",\r\n        isRunInMobile: false\r\n    },\r\n    dojoConfig: {\r\n        locale: \"\"\r\n    },\r\n    epsoConfig: {\r\n        showWorkAreaInAddUser: true,\r\n        defaultCityCode: \"520100\"\r\n    },\r\n    globalConfigFilePath: defaultGlobalConfigPath,\r\n    // globalConfig: {},\r\n    menuConfig: {\r\n        notReuseRoutes: [],\r\n        notShowInTabRoutes: [],\r\n        menuData: []\r\n    },\r\n    mapConfig: {\r\n        is3D: false,\r\n        jsApi: \"\"\r\n    },\r\n    log: true\r\n};","import { Directive, ViewContainerRef } from '@angular/core';\r\n\r\n/**\r\n * 组件容器\r\n */\r\n@Directive({\r\n    selector: '[component-host]'\r\n})\r\nexport class ComponentContainerDirective {\r\n\r\n    constructor(public viewContainerRef: ViewContainerRef) { }\r\n\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { ComponentContainerDirective } from './component-container.directive';\r\n\r\n@NgModule({\r\n    imports: [CommonModule],\r\n    declarations: [\r\n        ComponentContainerDirective\r\n    ],\r\n    exports: [ComponentContainerDirective]\r\n})\r\nexport class EpsGisDirectivesModule { }","import { PanelOptions } from './base-panel';\n\n/**\n * create by ruir 191014  baseWidget.js\n */\n// export class BaseWidget {\n\n\n//     constructor() {\n\n//     }\n// }\n/**\n * 组件类型\n */\nexport enum WidgetType {\n    /**\n     * 组件\n     */\n    widget = \"widget\",\n    /**\n     * 弹窗\n     */\n    panel = \"panel\",\n    /**\n     * 图标\n     */\n    icon = \"icon\"\n}\n\n/**\n * 组件位置\n */\nexport class WidgetPosition {\n    [key: string]: any;\n    constructor(public top?: number | string,\n        public left?: number | string,\n        public bottom?: number | string,\n        public right?: number | string,\n\n        public height?: number | string,\n        public width?: number | string,\n        public zIndex?: number | string,\n        public position?: string\n        , public relativeTo: string = \"\") {\n        this.position = \"absolute\";\n    }\n}\n/**\n * 组件状态\n */\nexport enum WidgetState {\n    /**\n     * 关闭\n     */\n    closed = \"closed\",\n    /**\n     * 打开\n     */\n    opened = \"opened\",\n    /**\n     * \n     */\n    active = \"active\"\n}\n/**\n * panel状态\n */\nexport enum WidgetWindowState {\n    /**\n     * 正常\n     */\n    normal = \"normal\",\n    /**\n     * 最小化\n     */\n    minimized = \"minimized\",\n    /**\n     * 最大化\n     */\n    maximized = \"maximized\",\n    /**\n     * \n     */\n    collapsed = \"collapsed\"\n}\n// export interface IGetComponentInfo {\n//     getCompInfo(): ComponentInfo;//不能标记为static\n// }\n\n/**\n * 打开widget时的参数\n */\nexport interface WidgetOpenOptions {\n    /**\n     * 要打开组件的选择器\n     */\n    uri: string;\n    /**\n     * 打开位置，在config.json中没有配置时，需要传position\n     */\n    position?: WidgetPosition;\n    /**\n     * 要显示在panel中时，panel的参数\n     */\n    panel?: PanelOptions;\n    /**\n     * 要传递给panel或widget的数据\n     */\n    param?: any;\n    /**\n     * 仅创建组件 \n     */\n    onlyCreateWidget?: boolean;\n}","import { AfterViewInit, Directive, Input, OnDestroy, OnInit } from \"@angular/core\";\nimport { EventManager } from \"@angular/platform-browser\";\nimport * as _ from 'lodash';\nimport { ComponentLoaderService } from \"../services/component-loader.service\";\nimport { EventEmitterService } from \"../services/event-emitter.service\";\nimport { ServiceInjector } from \"../services/service-injector\";\nimport { WidgetPosition, WidgetState, WidgetType, WidgetWindowState } from \"../models/base-widget\";\nimport { AppGlobalConfig } from \"../models/models\";\nimport { CommonService } from \"../services/common.service\";\nimport { ConfigLoaderService } from \"../services/config-loader.service\";\nimport { ConfigManagerService } from \"../services/config-manager.service\";\nimport { MapManagerService } from \"../services/map-manager.service\";\nimport { PanelManagerService } from \"../services/panel-manager.service\";\nimport { HttpReqService } from \"../services/request.service\";\nimport { LayoutManagerService, WidgetManagerService, WidgetPlaceHolderService } from \"../services/services\";\nimport { UtilsService } from \"../services/utils.service\";\nimport { ModalManagerService } from \"../services/modal-manager.service\";\nimport { IComponentInfo } from \"../decorator/component-register.decorator\";\nimport { SettingService } from \"../services/setting.service\";\n@Directive()\nexport class BaseWidget implements OnInit, AfterViewInit, OnDestroy {\n    /**\n     * 类型，widget|panel|icon\n     */\n    type: WidgetType = WidgetType.widget;\n    /**\n     * 唯一标识\n     */\n    id: string = \"\";\n    /**\n     * 标题\n     */\n    label: string = undefined;\n    /**\n     * 图标地址\n     */\n    icon: string = undefined;\n    /**\n     * 组件地址\n     */\n    uri: string = undefined;\n\n    /**\n     * 最初的位置，运行中不会改变\n     */\n    originPosition: WidgetPosition = new WidgetPosition();\n    /**\n     * 位置\n     */\n    position: WidgetPosition = new WidgetPosition();\n    /**\n     * 组件(业务功能)配置信息\n     */\n    config: any = undefined;\n    /**\n     * \n     */\n    openAtStart: boolean = false;\n    /**\n     * 二维地图\n     */\n    map: any = null;\n    /**\n     * 三维场景\n     */\n    view: any = null;\n    /**\n     * 项目配置信息\n     */\n    appConfig: any = null;\n    /**\n     * 目录地址\n     */\n    folderUrl: string = null;\n    /**\n     * 组件状态\n     */\n    state: WidgetState = WidgetState.closed;\n    /**\n     * panel 状态\n     */\n    windowState: WidgetWindowState = WidgetWindowState.normal;\n    /**\n     * 组件是否已启动\n     */\n    started: boolean = false;\n    /**\n     * 组件名称\n     */\n    name: string = '';\n    /**\n     * 鼠标移动到组件时是否激活组件\n     */\n    moveTopOnActive: boolean = true;\n\n    /**\n     * 组件（自身属性）配置信息\n     */\n    widgetConfig: any = null;\n    /**\n     * \n     */\n    configId: string = null;\n\n    /**\n     * \n     */\n    style: string = \"\";\n    /**\n     * 标题\n     */\n    title: string = \"\";\n    /**\n     * 提示\n     */\n    tooltip: string = \"\";\n    /**\n     * 请求参数\n     */\n    reqPara: any = undefined;\n    /**\n     * 分组id\n     */\n    gid: string = \"\";\n    inPanel: boolean = true;\n    isOnScreen: boolean = true;\n\n    globalParams: AppGlobalConfig;\n    utils: UtilsService;\n    commonService: CommonService;\n    httpService: HttpReqService;\n    configLoader: ConfigLoaderService;\n    configManager: ConfigManagerService;\n    mapManager: MapManagerService;\n    panelManager: PanelManagerService;\n    widgetManager: WidgetManagerService;\n    widgetPlaceHolder: WidgetPlaceHolderService;\n    layoutManager: LayoutManagerService;\n    eventService: EventEmitterService;\n    jsEventManager: EventManager;\n    componentLoader: ComponentLoaderService;\n    modalManager: ModalManagerService;\n    settingService: SettingService\n    private minZindex: number = 102;\n    /**\n    * 组件路径，用于获取confing.json、manifest.json以及图片等当前组件的静态资源\n    */\n    // componentPath: string = \"\";\n    /**\n     * 组件信息\n     */\n    private _compInfo: IComponentInfo = { uri: \"\", name: \"BaseWidgetComponent\", path: \"\" };\n    /**\n     * constructor\n     */\n    constructor() { }\n\n    /**\n       * 用于AOP\n       * 之前的aspect.after(this.comRefMap.instance, \"ngOnInit\", this.test);\n       * 无法执行了，但自定义的函数可以，所以通过在钩子函数中调用自定义的函数来实现。\n       * 也就是在ngOnInit中调用afterNgOnInit\n       * 然后aspect.after(this.comRefMap.instance, \"afterNgOnInit\", this.test);\n       */\n    afterNgOnInit() {\n\n    }\n    /**\n   * 用于AOP，类同afterNgOnInit\n   */\n    afterNgAfterViewInit() {\n\n    }\n    /**\n   * 子组件必须要调用该函数\n   */\n    ngOnInit() {\n        //这样导致监听太多\n        // this.eventService.rss.on(this.eventService._viewChanged, (view) => {\n        //   this.view = view;\n        //   this.onViewChange(this.view);\n        // });\n        // this.eventService.rss.on(this.eventService._mapChanged, (map) => {\n        //   this.map = map;\n        //   this.onMapChange(this.map);\n        // });\n        this.afterNgOnInit();\n    }\n\n    /**\n     * 子组件必须要调用该函数\n     */\n    ngAfterViewInit() {\n        this.afterNgAfterViewInit();\n    }\n\n    ngOnDestroy(): void {\n    }\n\n    /**\n     * 返回组件信息\n     */\n    getCompInfo(): IComponentInfo {\n        return this._compInfo;\n    }\n    // constructor(\n    //   serviceInjector: ServiceInjector) {\n    //   this.globalParams = serviceInjector.config;\n    //   this.utils = serviceInjector.utils;\n    //   this.commonService = serviceInjector.commonService;\n    //   this.httpService = serviceInjector.httpService;\n    //   this.configLoader = serviceInjector.configLoader;\n    //   this.configManager = serviceInjector.configManager;\n    //   this.mapManager = serviceInjector.mapManager;\n    //   this.panelManager = serviceInjector.panelManager;\n    //   this.widgetManager = serviceInjector.widgetManager;\n    //   this.widgetPlaceHolder = serviceInjector.widgetPlaceHolder;\n    //   this.layoutManager = serviceInjector.layoutManager;\n    // }\n    /**\n     * 设置服务\n     * @param serviceInjector \n     */\n    setServiceInjector(serviceInjector: ServiceInjector) {\n        if (!serviceInjector) return;\n\n        this.globalParams = serviceInjector.config;\n        this.utils = serviceInjector.utils;\n        this.commonService = serviceInjector.commonService;\n        this.httpService = serviceInjector.httpService;\n        this.configLoader = serviceInjector.configLoader;\n        this.configManager = serviceInjector.configManager;\n        this.mapManager = serviceInjector.mapManager;\n        this.panelManager = serviceInjector.panelManager;\n        this.widgetManager = serviceInjector.widgetManager;\n        this.widgetPlaceHolder = serviceInjector.widgetPlaceHolder;\n        this.layoutManager = serviceInjector.layoutManager;\n        this.eventService = this.layoutManager.eventService;\n        this.jsEventManager = serviceInjector.jsEventManager;\n        this.componentLoader = serviceInjector.componentManager;\n        this.modalManager = serviceInjector.modalManaer;\n        this.settingService = serviceInjector.settingService;\n    }\n    /**\n     * 初始加载时设置元素位置\n     * @param positionConfig \n     */\n    setPosition(positionConfig: any) {\n        this.position = this.commonService.getPosition(positionConfig);\n        this.originPosition = _.cloneDeep(this.position);\n    }\n    /**\n     * 改变元素位置\n     * @param positionConfig \n     */\n    changePosition(positionConfig: any) {\n        this.position = this.commonService.getPosition(positionConfig);\n    }\n    /**\n     * \n     * @param state \n     */\n    setState(state: WidgetState) {\n        this.state = state;\n    }\n    /**\n     * \n     */\n    startup() {\n        this.started = true;\n    }\n    /**\n     * \n     */\n    onOpen() {\n        this.state = WidgetState.opened;\n        // console.log(\"widget onOpen\");\n    }\n    /**\n     * \n     */\n    resize(position?: any) {\n\n    }\n    onDeActive() {\n\n    }\n    onClose() {\n        this.state = WidgetState.closed;\n        // console.log(\"widget onClose\");\n    }\n    onAction(name: string, data?: any) {\n\n    }\n    /**\n     * 改变zindex，可选值：‘active’,'deactive',具体的值\n     */\n    setZIndex(index: string) {\n        switch (index) {\n            case \"active\":\n                this.position.zIndex = this.minZindex;\n                break;\n            case \"deactive\":\n                this.position.zIndex = \"auto\";\n                break;\n            default:\n                this.position.zIndex = index;\n                break;\n        }\n\n    }\n    onNormalize() {\n    }\n    onMinimize() { }\n    onMaximize() {\n\n    }\n    /**\n   * \n   * @param map \n   */\n    changeMap(map: any) {\n        this.map = map;\n        this.eventService.rss.emit(this.eventService._mapChanged, map);\n    }\n    /**\n     * 地图改变\n     * @param map \n     */\n    onMapChange(map: any) {\n    }\n    /**\n     * \n     * @param view \n     */\n    changeView(view: any) {\n        this.view = view;\n        this.eventService.rss.emit(this.eventService._viewChanged, view);\n    }\n    /**\n     * 场景改变\n     * @param view \n     */\n    onViewChange(view: any) {\n    }\n\n    get isSettingMode() {\n        return this.globalParams?.urlParams[\"mode\"] === \"config\";\n    }\n}","/**\n * 请求api后返回的结果实体模型\n */\nexport class RequestResultModel {\n    error?: { errorCode?: string, errorMsg?: string } = { errorCode: \"\", errorMsg: \"\" };\n    /**\n     * \n     * @param success 成功标记\n     * @param msg 描述信息\n     * @param data 数据\n     */\n    constructor(\n        public success: boolean,\n        public msg: string = \"\",\n        public data: any = null) {\n    }\n}\nexport interface TokenModel {\n    access_token?: string;\n    token_type?: string;\n    expires_in?: number;\n    refresh_token?: string;\n    error?: string;\n    error_description?: string;\n    client_id?: string;\n    user_name?: string;\n    userid?: string;\n    issued?: string;//时间\n    expires?: string;//时间\n}\nexport enum OrderByType {\n    asc = 0,\n    desc = 1\n}\n/**\n * \n */\nexport interface CurrentLoginUser {\n    userid?: string;\n    user_name?: string;\n    login_name?: string;\n    org_id?: string;\n    org_name?: string;\n    depart_ids?: string[];\n    depart_names?: string[];\n    role_ids?: string[];\n    role_names?: string[];\n    super_admin?: boolean;\n    org_admin?: boolean;\n    depart_admin?: boolean;\n    real_name?: string;\n    gender?: number;\n    mobile?: string;\n    email?: string;\n    login_date?: string;\n    last_login_date?: string;\n    token?: TokenModel;\n    work_area?: string;\n    leader?: boolean;\n}","export const ComponentRegistry: Map<string, IRegisteredComponentInfo> = new Map();\n// WeakMap\nexport interface IComponentInfo {\n  /**\n   * 选择器或唯一健值\n   */\n  uri: string\n  /**\n   * 组件路径\n   */\n  path?: string;\n  name?: string;\n}\nexport interface IRegisteredComponentInfo extends IComponentInfo {\n  component: any;\n}\n/**\n * 组件注册\n */\nexport const ComponentRegister = (info: IComponentInfo): any => {\n  return (cls: any) => {\n    // if((<BaseWidgetComponent>cls).getCompInfo()){\n\n    // }\n    if (cls.getCompInfo && typeof cls.getCompInfo === \"function\") {\n      // 如果重写了getCompInfo\n      const c = cls.getCompInfo();\n      if (!info.path) {\n        info.path = c.path;\n      }\n      if (!info.name) {\n        info.name = c.name;\n      }\n    }\n    // cls._compInfo = info;//静态属性\n    cls.prototype.getCompInfo = function () {\n      return info;\n    }\n    const reg: IRegisteredComponentInfo = Object.assign({}, info, { component: cls });\n    //切记相同key被覆盖，确保selector唯一\n    ComponentRegistry.set(info.uri.toLocaleLowerCase(), reg);\n  };\n};\n/**\n * \n * @param uri \n */\nexport function findComponentInfo(uri: string) {\n  if (!uri) {\n    return undefined;\n  }\n  //大小写不一致时取不到值...存时统一转为小写？\n  return ComponentRegistry.get(uri.toLocaleLowerCase());\n}","import { Component, ElementRef, EventEmitter, forwardRef, Input, NgZone, OnInit, Output, ViewChild } from '@angular/core';\n// import { simpleLoader } from '../../../services/simple-loader.service';\nimport { ComponentRegister } from '../../../decorator/component-register.decorator';\n// import * as JSONEditor from \"../../../utils/jsoneditor\";\n// import * as JSONEditor from \"jsoneditor\";\nimport { JSONEditorMode, JSONEditorOptions } from \"jsoneditor\";\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\ndeclare var JSONEditor: any;\n/**\n * Json编辑器 ruir\n */\n@ComponentRegister({\n  uri: 'epsgis-json-editor',\n  path: \"components/shared/json-editor\"\n})\n@Component({\n  selector: 'epsgis-json-editor',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => JsonEditorComponent),\n      multi: true\n    }\n  ],\n  template: `<div #jsoneditor></div>`,\n  styles: [`\n    :host ::ng-deep .jsoneditor-poweredBy{\n      display: none;\n    }\n    :host>div{\n        height: 100%;\n    }\n  `]\n})\nexport class JsonEditorComponent implements OnInit, ControlValueAccessor {\n\n  readonly jsonRess = [\n    \"assets/json-editor/930/jsoneditor.min.css\",\n    \"assets/json-editor/930/jsoneditor.min.js\"\n  ];\n  private _value: any;\n  private editor: any;\n  @ViewChild(\"jsoneditor\", { static: true }) jsonEditorContianer: ElementRef;\n  private _data;\n  //对外属性 开始\n  @Input()\n  get data() {\n    return this._data;\n  }\n  set data(val) {\n    this._data = val;\n    this.writeValue(val);\n    this.dataChange.emit(val);\n  }\n  @Output()\n  dataChange: EventEmitter<any> = new EventEmitter();\n  /**\n   * 选项\n   */\n  @Input(\"options\") editorOptions: JSONEditorOptions;\n  /**\n   * 树最大高度\n   */\n  @Input() treeMaxHeight: number;\n  @Output() onChange: EventEmitter<any> = new EventEmitter();\n  // @Output() onEditable: EventEmitter<EditableNode | object> = new EventEmitter();\n  @Output() onError: EventEmitter<Error> = new EventEmitter();\n  //对外属性 结束\n  private zone: NgZone;\n  constructor(zone: NgZone) {\n    this.zone = zone;\n  }\n\n\n  ngOnInit() {\n    // simpleLoader.loadResources(this.jsonRess,null,null,()=>{\n    //   const xx =window[\"JSONEditor\"];//为啥会为undefined？加载js不对？\n\n    // })\n  }\n  ngAfterViewInit() {\n    this.initEditor(this.editorOptions || {});\n  }\n  ngOnDestroy() {\n    this.destroy();\n  }\n  /**\n   * 初始化编辑器\n   * @param options \n   */\n  private initEditor(options: JSONEditorOptions) {\n    let defaultOptions: JSONEditorOptions = {\n      // name:\"\",//根节点名称\n      enableSort: true,\n      colorPicker: true,\n      escapeUnicode: false,\n      sortObjectKeys: true,\n      history: true,\n      modes: ['tree', 'view', 'form', 'code', 'text', 'preview'],\n      language: \"zh-CN\",\n      search: true,\n      onChangeJSON: (json: any) => {\n        //'tree', 'form', 'view'触发，代码模式不触发\n        // console.log(\"onChangeJSON:\", json);\n      },\n      onChangeText: (jsonString: string) => {\n        //console.log(\"onChangeText:\", jsonString);\n      },\n      onError: (error: Error) => {\n      }\n    }\n    // if (this.onChange.observers.length >= 1) {\n    //   defaultOptions.onChange = () => {\n    //     this.onChange.emit(this.editor.get())\n    //   };\n    // }\n    if (this.onError.observers.length >= 1) {\n      defaultOptions.onError = (v) => {\n        this.onError.emit(v);\n      };\n    }\n    const newOptions = Object.assign(options, defaultOptions);\n    //避免被外部覆盖\n    newOptions.onChange = () => {\n      if (this.editor) {\n        const value = this.editor.get();\n        this.updateValue(value);\n      }\n    },\n      this.editor = new JSONEditor(this.jsonEditorContianer.nativeElement, newOptions, this.data);\n\n  }\n  get value(): any {\n    return this._value;\n  }\n\n  set value(v: any) {\n    if (v !== this._value) {\n      this._value = v;\n      this._onChange(v);\n    }\n  }\n  _onChange(_: any) {\n  }\n\n  _onTouched() {\n  }\n  disabled = false;\n  registerOnChange(fn: any) {\n    this._onChange = fn;\n  }\n\n  registerOnTouched(fn: any) {\n    this._onTouched = fn;\n  }\n  setDisabledState?(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n  /**\n   * \n   * @param value \n   */\n  updateValue(value: any) {\n    this.zone.run(() => {\n      this.value = value;\n      this._onTouched();\n      if (this.editor) {\n        this.onChange.emit(value);\n      }\n    });\n  }\n\n  /**\n   * \n   * @param value \n   */\n  writeValue(value: any) {\n    this._value = value;\n    if (this.editor) {\n      this.editor.set(value);\n    }\n  }\n  /**\n   * 获取编辑器\n   * @returns \n   */\n  getEditor() {\n    return this.editor;\n  }\n  /**\n   * 展开节点\n   */\n  public expandAll() {\n    if (this.editor) {\n      this.editor.expandAll();\n    }\n  }\n  /**\n   * 收缩节点\n   */\n  public collapseAll() {\n    if (this.editor) {\n      this.editor.collapseAll();\n    }\n  }\n  /**\n   * 销毁编辑器\n   */\n  public destroy() {\n    if (this.editor) {\n      this.editor.destroy();\n    }\n  }\n  /**\n   * 设置焦点\n   */\n  public focus() {\n    if (this.editor) {\n      this.editor.focus();\n    }\n  }\n  /**\n   *  设置模式\n   * @param mode\n   */\n  public setMode(mode: JSONEditorMode) {\n    if (this.editor) {\n      this.editor.setMode(mode);\n    }\n  }\n  /**\n   * 设置模式\n   * @param modes \n   */\n  public setModes(modes: JSONEditorMode[]) {\n    if (this.editor) {\n      this.editor.setModes(modes);\n    }\n  }\n  /**\n   * 设置根节点\n   * @param name \n   */\n  public setName(name: string | undefined) {\n    if (this.editor) {\n      this.editor.setName(name);\n    }\n  }\n  /**\n   * 设置架构\n   * @param schema \n   */\n  public setSchema(schema: Object) {\n    if (this.editor) {\n      this.editor.setSchema(schema);\n    }\n  }\n  /**\n   * 设置json内容\n   * @param jsonString \n   */\n  public setText(jsonString: string) {\n    if (this.editor) {\n      this.editor.setText(jsonString);\n    }\n  }\n  /**\n   * 获取模式\n   * @returns \n   */\n  public getMode(): JSONEditorMode {\n    if (this.editor) {\n      return this.editor.getMode();\n    }\n  }\n  /**\n   * 获取名称（根节点） \n   * @returns \n   */\n  public getName(): string {\n    if (this.editor) {\n      return this.editor.getName();\n    }\n  }\n  /**\n   * 获取json内容\n   * @returns \n   */\n  public getText(): string {\n    if (this.editor) {\n      return this.editor.getText();\n    }\n  }\n}\n","import { BaseWidget } from '../base-widget';\nimport { Directive } from '@angular/core';\nimport { BaseWidgetComponent } from '../base-widget/base-widget.component';\nimport { RequestResultModel } from '../../models/http/request.result';\n\n/**\n * 组件setting基类 ruir\n */\n@Directive()\nexport class BaseSettingComponent extends BaseWidget {\n\n    /**\n     * 组件实例\n     */\n    widgetInstance: BaseWidgetComponent;\n    configFileName = \"config.json\";\n    /**\n     * config.json网站路径\n     */\n    configJsonWebPath: string;\n\n    manifestFileName = \"manifest.json\";\n    /**\n     * manifest.json网站路径\n     */\n    manifestJsonWebPath: string;\n    /**\n     * config.json文件json数据\n     */\n    configJson: any;\n    /**\n     * manifest.json文件json数据\n     */\n    manifestJson: any;\n    /**\n    * 验证结果\n    */\n    private validateResult: RequestResultModel = new RequestResultModel(false);\n\n    /**\n     * 是否需要加载manifest.json\n     */\n    private _needLoadManifest = false;\n    public get needLoadManifest() {\n        return this._needLoadManifest;\n    }\n    public set needLoadManifest(value) {\n        this._needLoadManifest = value;\n    }\n    constructor() {\n        super();\n    }\n    ngOnInit() {\n        super.ngOnInit();\n    }\n    ngAfterViewInit(): void {\n        super.ngAfterViewInit();\n    }\n\n    ngOnDestroy(): void {\n        super.ngOnDestroy();\n    }\n    /**\n    * config.json物理文件路径\n    */\n    public get configJsonPhysicalPath() {\n        return this.configJsonWebPath.replace(this.globalParams.widgetRootPath + \"/\", \"\");\n    }\n    /**\n     * manifest.json物理文件路径\n     */\n    public get manifestJsonPhysicalPath() {\n        return this.widgetInstance.getCompInfo().path + \"/\" + this.manifestFileName\n    }\n    getValidateResult() {\n        return this.validateResult;\n    }\n    /**\n     * 设置验证结果\n     * @param success 是否成功\n     * @param errMsg 错误信息\n     * @param data 要保存的数据\n     */\n    setValidateResult(success: boolean, errMsg?: string, data?: any) {\n        this.validateResult.success = success;\n        this.validateResult.msg = errMsg;\n        this.validateResult.data = data;\n    }\n    /**\n     * 保存config.json\n     */\n    saveConfigJson(json: any) {\n        return this.settingService.saveConfig({ filePath: this.configJsonPhysicalPath, content: (typeof json === \"string\" ? json : JSON.stringify(json)) })\n    }\n    /**\n     * 保存manifest.json\n     */\n    saveManifestJson(json: any) {\n        return this.settingService.saveConfig({ filePath: this.manifestJsonPhysicalPath, content: typeof json === \"string\" ? json : JSON.stringify(json) })\n    }\n    /**\n     * 保存失败事件\n     * @param error \n     */\n    onSaveError(error: Error) {\n        console.error(error);\n    }\n}\n// export interface IJsonFileLoad {\n//     onConfigJsonLoad(succes: boolean, err: Error);\n//     onManifestJsonLoad(succes: boolean, err: Error);\n//     saveConfigJson();\n//     saveManifestJson();\n// }\n","<!--\n    1、manifest.json配置默认不显示，用一个按钮来切换（比如图标i），点击时要么显示manifest要么config\n    2、根据hasSetting判断是否有设置组件，有的话，则加载，并可以切换为json编辑模式；如果没有，则只显示json编辑器\n-->\n<div [class.show-config]=\"currentMode==1 || currentMode==3\">\n    <!-- <div class=\"ssradio\">\n        <input class=\"radio_type\" type=\"radio\" name=\"type\" id=\"radio1\" checked=\"checked\"\n            (change)=\"this.currentMode=1\" />\n        <label for=\"radio1\">编辑器</label>\n        <input class=\"radio_type\" type=\"radio\" name=\"type\" id=\"radio2\" (change)=\"this.currentMode=3\" />\n        <label for=\"radio2\">定制UI</label>\n    </div> -->\n    <div class=\"switch\" *ngIf=\"showSwitchBtn\">\n        <span>\n            <input type=\"checkbox\" id=\"custom-ui\" [(ngModel)]=\"switchChecked\" (change)=\"changeMode($event)\" />\n            编辑器\n            <label for=\"custom-ui\"><em></em></label>\n        </span>\n    </div>\n    <div class=\"margin5\"></div>\n    <epsgis-json-editor #config [class.hide]=\"currentMode!=1\" [(data)]=\"configJson\"\n        [options]=\"{name:'组件配置信息'}\">\n    </epsgis-json-editor>\n    <div [class.hide]=\"currentMode!=3\">\n        <ng-container component-host></ng-container>\n    </div>\n</div>\n<div [class.show-manifest]=\"currentMode==2\">\n    <epsgis-json-editor #manifest [class.hide]=\"currentMode!=2\" [(data)]=\"manifestJson\" [options]=\"{name:'组件信息'}\">\n    </epsgis-json-editor>\n</div>\n<!-- <div>\n    <label class=\"ssSwitch\">\n        <input type=\"checkbox\">\n        <i></i>\n    </label> \n    <input class='switch-component' type='checkbox'>\n<label>test</label>\n\n</div> -->","import { Component, ViewChild, ViewContainerRef } from '@angular/core';\nimport { RequestResultModel } from '.././../../models/http/request.result';\nimport { ComponentContainerDirective } from '../../../directives/component-container.directive';\nimport { JsonEditorComponent } from '../../shared/json-editor/json-editor.component';\nimport { BaseSettingComponent } from '../base-setting.component';\n/**\n * 1为config，2为manifest，3为config定制开发\n */\ndeclare type mode = 0 | 1 | 2 | 3;\n/**\n * 组件设置\n */\n@Component({\n  selector: 'epsgis-widget-setting',\n  templateUrl: './widget-setting.component.html',\n  styleUrls: ['./widget-setting.component.scss'],\n})\nexport class WidgetSettingComponent extends BaseSettingComponent {\n  @ViewChild(\"config\", { read: JsonEditorComponent, static: false }) editorConfig: JsonEditorComponent;\n  @ViewChild(\"manifest\", { read: JsonEditorComponent, static: false }) editorManifest: JsonEditorComponent;\n  @ViewChild(ComponentContainerDirective, { read: ViewContainerRef, static: false }) container: ViewContainerRef;\n  settingComponentInstance: BaseSettingComponent;\n  currentMode: mode = 0;\n  showSwitchBtn: boolean = false;\n  private previousMode: mode = 0;\n  switchChecked: boolean = false;\n  constructor() {\n    super();\n    this.needLoadManifest = true;\n  }\n\n  ngOnInit() {\n    this.setValidateResult(true);//test\n    this.setServiceInjector(this.widgetInstance.componentLoader.getServiceInjector());\n    this.widgetConfig = this.widgetInstance.widgetConfig;\n    this.configJsonWebPath = this.widgetConfig.folderUrl.split('?')[0] + (this.widgetConfig.configPath || this.configFileName);\n    this.manifestJsonWebPath = this.widgetConfig.folderUrl.split('?')[0] + this.manifestFileName;\n    super.ngOnInit();\n  }\n  ngAfterViewInit() {\n    //分开加载两个文件\n    this.loadWidgetConfig();\n    if (this.needLoadManifest) {\n      this.loadWidgetManifest();\n    }\n    super.ngAfterViewInit();\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n  }\n  switchToConfigOrManifest() {\n    if (this.currentMode != 2) {\n      this.previousMode = this.currentMode;\n      this.showSwitchBtn = false;\n      this.currentMode = 2;\n    } else {\n      this.currentMode = this.previousMode;\n      if (this.settingComponentInstance) {\n        this.showSwitchBtn = true;\n      }\n    }\n  }\n  /**\n   * \n   * @param evt Event\n   */\n  changeMode(evt: any) {\n    //evt.target.checked\n    if (this.switchChecked) {\n      this.currentMode = 1;\n    } else {\n      this.currentMode = 3;\n    }\n  }\n  /**\n   * 保存失败时\n   * @param error \n   */\n  onSaveError(error: Error) {\n    if (this.settingComponentInstance) {\n      this.settingComponentInstance.onSaveError(error);\n    } else {\n      //暂时这样\n      console.error(error);\n    }\n  }\n  /**\n   * 保存\n   * @returns \n   */\n  saveAll(): Promise<RequestResultModel> {\n    return new Promise<RequestResultModel>((resolve, reject) => {\n      let result: RequestResultModel;\n      switch (this.currentMode) {\n        case 1:\n          //config.json\n          result = this.getValidateResult();\n          if (result.success && this.editorConfig) {\n            this.saveConfigJson(this.editorConfig.getText()).then(res => {\n              if (res.success) {\n                res.data = {\n                  config: this.editorConfig.value,\n                  manifest: this.editorManifest.value\n                }\n              }\n              resolve(res);\n            }).catch(reject);\n          } else {\n            resolve(new RequestResultModel(false, \"验证失败\"));\n          }\n          break;\n        case 2:\n          //manifest.json\n          result = this.getValidateResult();\n          if (result.success && this.editorManifest) {\n            this.saveManifestJson(this.editorManifest.getText()).then(res => {\n              if (res.success) {\n                res.data = {\n                  config: this.editorConfig.value,\n                  manifest: this.editorManifest.value\n                }\n              }\n              resolve(res);\n            }).catch(reject);\n          } else {\n            resolve(new RequestResultModel(false, \"验证失败\"));\n          }\n          break;\n        case 3:\n          //config.json\n          if (this.settingComponentInstance) {\n            result = this.settingComponentInstance.getValidateResult();\n            if (result.success) {\n              this.settingComponentInstance.saveConfigJson(result.data).then(res => {\n                if (res.success) {\n                  res.data = {\n                    config: result.data,\n                    manifest: this.editorManifest.value\n                  }\n                }\n                resolve(res);\n              }).catch(reject);\n            }\n            else {\n              resolve(new RequestResultModel(false, \"验证失败\"));\n            }\n          } else {\n            resolve(new RequestResultModel(false, \"无组件，无法保存\"));\n          }\n          break;\n        default:\n          resolve(new RequestResultModel(false, \"不支持的模式\"));\n          break;\n      }\n    });\n  }\n  /**\n   * 加载config.json\n   * @returns \n   */\n  loadWidgetConfig() {\n    if (!this.configJsonWebPath) {\n      console.log(\"configJsonWebPath is null\");\n      return;\n    }\n    //加载config.json\n    this.settingService.getConfigContent(this.configJsonWebPath).then(result => {\n      this.configJson = result;\n      this.onConfigJsonLoad(true, null);\n    }).catch(err => this.onConfigJsonLoad(false, err));\n  }\n  /**\n  * 加载manifest.json\n  * @returns \n  */\n  loadWidgetManifest() {\n    if (!this.manifestJsonWebPath) {\n      console.log(\"manifestJsonWebPath is null\");\n      return;\n    }\n    //加载manifest.json\n    this.settingService.getConfigContent(this.manifestJsonWebPath).then(result => {\n      this.manifestJson = result;\n      this.onManifestJsonLoad(true, null);\n    }).catch(err => this.onManifestJsonLoad(false, err));\n  }\n  /**\n   * config.json文件加载完成后事件\n   * @param succes config.json文件加载成功时为true\n   * @param err \n   */\n  onConfigJsonLoad(succes: boolean, err: Error) {\n    if (!succes) {\n      console.error(err)\n    }\n    if (this.widgetConfig.hasSetting === true) {\n      //有setting\n      // 查找setting组件\n      const settingUri = this.widgetConfig.uri + \"-setting\";\n      const comp = this.componentLoader.findComponent(settingUri);\n      if (!comp) {\n        console.info(`未找到setting组件[${settingUri}]，请检查组件定义`);\n        //界面设置为json编辑器\n        this.currentMode = 1;\n        return;\n      }\n      //界面设置为定制的开发界面\n      this.showSwitchBtn = true;\n      this.currentMode = 3;\n      this.switchChecked = false;\n      const compRef = this.componentLoader.createComponent(comp, null, this.container);\n      this.settingComponentInstance = compRef.instance;\n      //设置几个关键属性\n      this.settingComponentInstance.widgetInstance = this.widgetInstance;\n      this.settingComponentInstance.configJson = this.configJson;\n      this.settingComponentInstance.configJsonWebPath = this.configJsonWebPath;\n      this.settingComponentInstance.manifestJson = this.manifestJson;\n      this.settingComponentInstance.manifestJsonWebPath = this.manifestJsonWebPath;\n      this.container.clear();\n      this.container.insert(compRef.hostView, 0);\n    } else {\n      //界面设置为json编辑器\n      this.currentMode = 1;\n    }\n\n  }\n  /**\n   * manifest.json文件加载完成后事件\n   * @param succes manifest.json文件加载成功时为true\n   * @param err \n   */\n  onManifestJsonLoad(succes: boolean, err: Error) {\n    if (!succes) {\n      console.error(err)\n    }\n  }\n\n}\n","import { Component } from \"@angular/core\";\n\n@Component({\n    selector: \"epsgis-icon-setting\",\n    template: `\n    <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" height=\"100%\" width=\"100%\">\n          <path\n            d=\"M512.6 706.2c-107 0-194.2-87-194.2-193.8 0-106.8 87-193.8 194.2-193.8 51.8 0 100.4 20.2 137.2 56.8 36.8 36.6 57 85.4 57 137 0 106.8-87.2 193.8-194.2 193.8M967.6 426h-0.2L876 405.8l-2.2-7c-6-19-13.8-38-24.2-58.2l-3.2-6.4 49.2-81.8c15-24 21.4-57 1.8-76.6l-46.2-46.2c-11.6-11.6-26.6-14-37-14-14.4 0-29.8 4.8-41.2 12.6l-0.2 0.2-79.8 51-6.6-3.4c-18.8-9.8-38.4-18-57.8-24.2l-7-2.2-20.4-92.2v-0.2c-4.8-26.2-27.6-54.4-56.4-54.4h-65.4c-27.8 0-46.6 27.8-52.8 55.4L404 148.8l-6.8 2.2c-20.8 6.6-41.6 15.4-61.6 25.8l-6.6 3.4L247.2 128l-0.2-0.2c-11.4-8-26.8-12.6-41.2-12.6-10.6 0-25.4 2.4-37 14L122.6 175.6c-19.6 19.6-13.2 52.6 1.8 76.6L175.8 338l-3.2 6.2c-9.6 19.2-16.8 37-22.2 54.4l-2.2 7L57 426h-0.2c-26.2 4.8-54.2 27.6-54.2 56.4v65.4c0 27.8 27.8 46.6 55.4 53l92 23 2.2 6.8c5.4 16.4 12.2 33 20.8 50.4l3 6.2-51.4 85.8c-15 24-21.4 57-1.8 76.6l46.2 46.2c11.6 11.6 26.6 14 37 14 14.4 0 29.8-4.8 41.2-12.6l0.2-0.2 82-52.2 6.6 3.4c20.2 10.6 41 19.4 61.8 26l6.8 2.2 22.6 90.8c6.4 27.6 25.2 55.4 52.8 55.4h65.4c28.8 0 51.6-28.2 56.4-54.4v-0.2l20.4-92.4 7-2.2c19.2-6.2 38.4-14.2 57-24l6.6-3.4 80 51 0.2 0.2c11.4 8 26.8 12.6 41.2 12.6 10.6 0 25.4-2.4 37-14l46.2-46.2c19.6-19.6 13.2-52.6-1.8-76.6l-49.2-82 3.2-6.2c9-18 16.8-36.2 22.6-54.2l2.2-6.6 92-23c27.6-6.4 55.4-25.2 55.4-53v-65.4c0-29-28.2-51.8-54.2-56.6\">\n          </path>\n        </svg>\n    `,\n    styles: []\n})\nexport class IconSettingComponent {\n//     <!-- <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n//     <path\n//       d=\"M512 88.39l-366.86 211.8v423.62L512 935.61l366.86-211.8V300.19z m302.86 598.47L512 861.71 209.14 686.86V337.14L512 162.29l302.86 174.85z\"></path>\n//     <path\n//       d=\"M315.9 512c0 108.3 87.8 196.1 196.1 196.1S708.1 620.3 708.1 512 620.3 315.9 512 315.9 315.9 403.7 315.9 512z m328.2 0a132.1 132.1 0 1 1-38.69-93.41A131.25 131.25 0 0 1 644.1 512z\"></path>\n//   </svg> -->\n//   <!-- <i style=\"color: #fff;\"  nz-icon [nzIconfont]=\"'icon-epsgis-setting'\"></i> -->\n}","// import { OnInit, AfterViewInit, OnDestroy, Directive } from '@angular/core';\nimport { ILoadScriptOptions, loadModules } from 'esri-loader';\n// import { AppGlobalConfig } from '../../models/app-config';\n// import { WidgetType, WidgetPosition, WidgetState, WidgetWindowState, ComponentInfo } from '../../models/base-widget';\n// import { WidgetManagerService } from '../../services/widget-manager.service';\n// import { PanelManagerService } from '../../services/panel-manager.service';\n// import { ConfigLoaderService } from '../../services/config-loader.service';\n// import { ConfigManagerService } from '../../services/config-manager.service';\n// import { MapManagerService } from '../../services/map-manager.service';\n// import { WidgetPlaceHolderService } from '../../services/widget-place-holder.service';\n// import { LayoutManagerService } from '../../services/layout-manager.service';\n// import { ServiceInjector } from '../../services/service-injector';\n// import { EventEmitterService } from '../../services/event-emitter.service';\n// import { EventManager } from '@angular/platform-browser';\n// import { HttpReqService } from '../../services/services';\n// import { ModalManagerService } from '../../services/modal-manager.service';\n// import { UtilsService } from '../../services/utils.service';\n// import { CommonService } from '../../services/common.service';\n// import { ComponentLoaderService } from '../../services/component-loader.service';\n// import { ModalManagerService } from \"../../services/modal-manager.service\";\nimport { BaseWidget } from '../base-widget';\nimport { Directive, HostListener, Input } from '@angular/core';\nimport { WidgetSettingComponent } from '../setting/widget-setting/widget-setting.component';\nimport * as _ from 'lodash';\nimport { IconSettingComponent } from '../icon/icon-setting.component';\n\n// @dynamic\n/**\n * create by ruir 191015  组件基类\n */\n@Directive()\nexport class BaseWidgetComponent extends BaseWidget {\n\n  widgetSettingClassName = \"ss-widget-setting\";\n  /**\n   * inPanel时是否要在组件里显示“设置”按钮，主要用于Panel的showTitle设置为false时使用，\n   * 不显示title就无法在标题栏显示设置图标\n   * 改为Input，可以在模板里使用\n   */\n  @Input() showSettingWhenInPanel = false;\n  ngOnInit() {\n    // this.loadConfig\n    if (!this.appConfig && this.widgetManager) {\n      this.widgetManager.loadConfig(this.getCompInfo(), this).then(() => {\n        this.afterNgOnInit();\n      });\n    } else {\n      this.afterNgOnInit();\n    }\n  }\n  private static settingIconEleNode = null;\n  @HostListener('mouseenter', ['$event.target'])\n  onMouseEnter(target: HTMLElement) {\n    if (this.isSettingMode === false) {\n      //非配置模式\n      return;\n    }\n    if (this.inPanel == true && this.showSettingWhenInPanel == false) {\n      return;\n    }\n    //通过className查找可能存在多个。。。比如map上有widget就有问题\n    // let nodes = target.getElementsByClassName(this.widgetSettingClassName);\n    if (target.lastElementChild.className == this.widgetSettingClassName) {\n      target.lastElementChild.classList.remove(\"hide\");\n      target.lastElementChild.classList.add(\"show\");\n    } else {\n      const div = document.createElement(\"div\");\n      div.className = this.widgetSettingClassName;\n      /*\n      const button = document.createElement(\"input\");\n      button.type = \"button\";\n      button.className = \"button\";\n      button.value = \"设置\";\n      button.onclick = () => {\n        this.openSetting();\n      }\n      div.appendChild(button);\n      */\n      //创建svg\n      //1.const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n      //2.动态创建IconSettingComponent，加入\n      if (!BaseWidgetComponent.settingIconEleNode) {\n        const settingIconCompRef = this.componentLoader.createComponent(IconSettingComponent);\n        BaseWidgetComponent.settingIconEleNode = settingIconCompRef.location.nativeElement;\n      }\n      const iconDiv = document.createElement(\"div\");\n      iconDiv.className = \"icon\";\n      const newIconEle = BaseWidgetComponent.settingIconEleNode.cloneNode(true);\n      iconDiv.appendChild(newIconEle);\n      iconDiv.onclick = () => {\n        this.openSetting();\n      }\n      iconDiv.cloneNode()\n      //if (target.hasChildNodes) {\n      //此种方式为把所有元素添加到div中，需修改相关样式\n      //     //target.children 不包括文本节点和属性节点\n      //     target.childNodes.forEach((node) => {\n      //       div.appendChild(node);//会移动\n      //     });\n      //   }\n      div.appendChild(iconDiv);\n      target.appendChild(div);\n    }\n  }\n\n  @HostListener('mouseleave', ['$event.target'])\n  onMouseLeave(target: HTMLElement) {\n    if (this.isSettingMode === false) {\n      //非配置模式\n      return;\n    }\n    if (this.inPanel == true && this.showSettingWhenInPanel == false) {\n      return;\n    }\n    if (target.lastElementChild.className == this.widgetSettingClassName) {\n      target.lastElementChild.classList.remove(\"show\");\n      target.lastElementChild.classList.add(\"hide\");\n    }\n  }\n  /**\n   * 获取组件的Panel\n   * @returns \n   */\n  getPanel() {\n    if (this.inPanel === false) {\n      return null;\n    }\n    let panel = null;\n    if (this.gid === 'widgetOnScreen' || this.gid === 'widgetPool') {\n      panel = this.panelManager.getPanelById(this.id + '_panel');\n    } else {\n      panel = this.panelManager.getPanelById(this.gid + '_panel');\n      if (panel) {\n        return panel;\n      } else {\n        panel = this.panelManager.getPanelById(this.id + '_panel');\n      }\n    }\n    if (!panel) panel = {\n      uri: \"epsgis-on-screen-widget-panel\"\n    };\n    return panel;\n  }\n  /**\n   * 组件配置变更后\n   * @param config \n   */\n  onConfigChanged(config) {\n  }\n  /**\n   * 系统配置变更后\n   * @param appConfig \n   * @param reason \n   * @param changedData \n   */\n  onAppConfigChanged(appConfig, reason, changedData) {\n\n  }\n  /**\n   * 动作，比如高亮icon\n   * @param action \n   * @param data \n   */\n  onAction(action, data) {\n\n  }\n  /**\n   * 加载arcgis js 模块\n   * @param modules \n   * @param loadScriptOptions \n   */\n  loadArcgisModules<T extends any[] = any[]>(modules: string[], loadScriptOptions?: ILoadScriptOptions): Promise<T> {\n    let _url = '';\n    // if (this.config && this.config.arcgisJsApi) {\n    //   _url = this.config.arcgisJsApi;\n    // }\n    if (this.globalParams.mapConfig.jsApi) {\n      _url = this.globalParams.mapConfig.jsApi;\n    }\n    //config.json中配置了jsApi则以它为准\n    if (this.appConfig && this.appConfig.map && this.appConfig.map.jsApi) {\n      _url = this.appConfig.map.jsApi;\n    }\n    if (!_url) {\n      console.error(\"no arcgis js api\");\n      return;\n    }\n    let options: ILoadScriptOptions = {\n      url: _url,\n      css: _url.replace(\"init.js\", \"esri/css/main.css\")\n    }\n    return loadModules(modules, Object.assign(options, loadScriptOptions));\n  }\n\n  /**\n   * 打开组件设置界面\n   * @param options \n   */\n  openSetting(options?: { width: number, height: number }) {\n    let saving = false;\n    const newOptions = Object.assign({ width: 700, height: 400 }, options);\n    const modal = this.modalManager.create({\n      title: this.label + \"-配置\",\n      content: WidgetSettingComponent,\n      componentParams: {\n        widgetInstance: this\n      },\n      top: 60,\n      width: newOptions.width,\n      height: newOptions.height,\n      titleBarButtons: [\n        {\n          icon: \"icon-epsgis-i\",\n          isIconfont: true,\n          onClick: (instance) => {\n            instance.switchToConfigOrManifest();\n          }\n        }\n      ],\n      okLoading: saving,\n      onOk: (instance: WidgetSettingComponent) => {\n        instance.saveAll().then(result => {\n          if (result.success) {\n            instance.widgetInstance.config = result.data.config;\n            instance.widgetInstance.widgetConfig.config = result.data.config;\n            instance.widgetInstance.widgetConfig.manifest = _.merge({}, instance.widgetInstance.widgetConfig.manifest, result.data.manifest);\n            instance.widgetInstance.onConfigChanged(instance.widgetInstance.widgetConfig);\n            modal.close();\n          } else {\n            instance.onSaveError(new Error(result.msg));\n          }\n          saving = false;\n        }).catch(err => {\n          instance.onSaveError(err);\n          saving = false;\n        });\n        return false;\n      }\n    });\n  }\n}\n","<img *ngIf=\"isShowImg\" [src]=\"icon\">\n<i *ngIf=\"!isShowImg\" nz-icon [nzIconfont]=\"icon\"> </i>","import { Component, OnInit, Optional, ViewContainerRef, ComponentRef, OnDestroy, AfterViewInit, HostListener, HostBinding, ChangeDetectorRef } from '@angular/core';\nimport { WidgetType, WidgetState } from '../../models/base-widget';\nimport { BaseWidgetComponent } from '../base-widget/base-widget.component';\nimport * as _ from \"lodash\";\nimport { OnScreenWidgetPanelComponent } from '../on-screen-widget-panel/on-screen-widget-panel.component';\nimport { ComponentRegister } from '../../decorator/decorators';\n\n/**\n * create by ruir 191014  OnScreenWidgetIcon.js\n */\n@ComponentRegister({\n  uri: \"epsgis-on-screen-widget-icon\",\n  path: \"components/on-screen-widget-icon\"\n})\n@Component({\n  selector: 'epsgis-on-screen-widget-icon',\n  templateUrl: './on-screen-widget-icon.component.html',\n  styleUrls: ['./on-screen-widget-icon.component.scss'],\n})\nexport class OnScreenWidgetIconComponent extends BaseWidgetComponent implements OnInit, OnDestroy, AfterViewInit {\n  widget: any = null;\n  panel: ComponentRef<OnScreenWidgetPanelComponent> = null;\n  panelConfig: any = null;\n  isShowImg: Boolean = true;\n  spacing: number = 2;\n  // @HostBinding('class.hide') isHideIcon: boolean = false;// 未起作用\n  @HostBinding(\"style.display\") iconStyleDisplay: string = \"\";\n  constructor(@Optional() public viewContainerRef: ViewContainerRef, public cdrf: ChangeDetectorRef) {\n    super();\n    this.type = WidgetType.icon;\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.startup();\n  }\n  /**\n   * 设置参数\n   * @param options \n   */\n  setProps(options: { compRef: any, appConfig: any, map: any, widgetConfig: any }) {\n    if (options.compRef) {\n      this.widget = options.compRef;\n      this.appConfig = this.widget.instance.appConfig;\n      if (this.globalParams.mapConfig.is3D) {\n        this.view = this.widget.instance.view;\n      } else {\n        this.map = this.widget.instance.map;\n      }\n      this.widgetConfig = this.widget.instance.widgetConfig;\n      this.config = this.widget.instance.config;\n\n    } else {\n      this.appConfig = options.appConfig;\n      if (this.globalParams.mapConfig.is3D) {\n        this.view = options.map;\n      } else {\n        this.map = options.map;\n      }\n      this.widgetConfig = options.widgetConfig;\n      //this.config = this.widgetConfig.config;//这时还没有\n    }\n    this.id = this.configId = this.widgetConfig.id;\n    this.label = this.tooltip = this.title = this.widgetConfig.label;\n    this.folderUrl = this.widgetConfig.folderUrl;\n    if (typeof (this.widgetConfig.icon) != \"undefined\" && this.widgetConfig.icon != \"\")\n      this.icon = this.widgetConfig.icon;\n    else if (typeof (this.widgetConfig.manifest.icon) != \"undefined\" && this.widgetConfig.manifest.icon != \"\") {\n      this.icon = this.widgetConfig.manifest.icon;\n      this.isShowImg = false;\n    }\n    else\n      this.icon = this.folderUrl + \"images/icon.png\";//folderUrl后面有带/\n    this.uri = this.widgetConfig.uri;\n    this.gid = this.widgetConfig.gid;\n\n    // let _position: WidgetPosition = {\n    //   width: \"32px\",\n    //   height: \"32px\",\n    //   zIndex: this.globalParams.jimuConfig.zIndex\n    // }\n    let _position = _.cloneDeep(this.widgetConfig.position);\n    _position.width = \"32px\";\n    _position.height = \"32px\";\n    super.setPosition(_position);\n    this.panelConfig = _.cloneDeep(this.widgetConfig);\n    if (this.widgetConfig.showIcon === false) {\n      // this.isHideIcon = true;\n      this.iconStyleDisplay = \"none\";\n    }\n  }\n  ngOnDestroy(): void {\n    this.destroy();\n  }\n  ngAfterViewInit(): void {\n    //this.resetPanelPosition();\n  }\n  resetPanelPosition() {\n    if (this.commonService.isMobile()) {\n      return this.panelConfig.position;\n    }\n    const _isInMap: boolean = this.widgetConfig.position.relativeTo !== \"browser\";\n    let _containerBounds: ClientRect | DOMRect;\n    if (_isInMap) {\n      const _ele = this.commonService.getComponentRootNode(this.mapManager.comRefMap);\n      if (_ele) {\n        _containerBounds = this.commonService.getElementBounds(_ele);\n      }\n    } else {\n      //应获取外层容器（epsgis-comp-container）的高宽\n      _containerBounds = document.querySelector(\"epsgis-comp-container\").getBoundingClientRect();\n    }\n    //.firstChild\n    let eleIcon = this.viewContainerRef.element.nativeElement,\n      bounds = this.commonService.getElementBounds(eleIcon),\n      inRight: boolean = false;\n    if (_containerBounds.width - bounds.right < _containerBounds.width / 2) {\n      inRight = true;\n    }\n    if (inRight) {\n      //this.panelConfig.position.left = \"auto\";\n      this.panelConfig.position.left = bounds.left - parseFloat(this.widgetConfig.position.width) - this.spacing - _containerBounds.left;\n      this.panelConfig.position.right = _containerBounds.right - bounds.left - this.spacing; //this.widgetConfig.position.right;\n    } else {\n      //如果图标的left+图标的宽度+panel的宽度小于等于可视区域的宽度则正常，反之panel的left=图标的left-panel的宽度\n      if (bounds.left + bounds.width + parseFloat(this.widgetConfig.position.width) + this.spacing > _containerBounds.width) {\n        this.panelConfig.position.left = bounds.left - parseFloat(this.widgetConfig.position.width) - this.spacing - _containerBounds.left;\n      } else {\n        this.panelConfig.position.left = bounds.left + bounds.width + this.spacing - _containerBounds.left;\n      }\n    }\n\n    //left小于0了 panel宽度太宽 重新定位\n    if (parseFloat(this.panelConfig.position.left) <= -1) {\n      if (inRight) {\n        this.panelConfig.position.left = this.spacing;\n        this.panelConfig.position.width = bounds.left - parseFloat(this.panelConfig.position.left) - this.spacing * 2 - _containerBounds.left;\n      } else {\n        this.panelConfig.position.left = bounds.left + bounds.width + this.spacing - _containerBounds.left;\n        this.panelConfig.position.width = _containerBounds.width - bounds.right - this.spacing * 2;\n      }\n    }\n    //如果图标的top+panel的高度小于等于可视区域的高度则正常，反之panel的top=图标的top-panel的高度\n    if (bounds.top + parseFloat(this.widgetConfig.position.height) + this.spacing > _containerBounds.height) {\n      this.panelConfig.position.top = bounds.top - parseFloat(this.widgetConfig.position.height) + this.spacing - _containerBounds.top;\n    } else {\n      this.panelConfig.position.top = bounds.top - _containerBounds.top;\n    }\n    //top小于0了  panel高度太高 重新定位\n    if (parseFloat(this.panelConfig.position.top) <= -1) {\n      this.panelConfig.position.top = bounds.top - _containerBounds.top;\n      this.panelConfig.position.height = _containerBounds.height - bounds.top - this.spacing * 2;\n    }\n    return this.panelConfig.position;\n  }\n  /**\n   * \n   * @param evt \n   */\n  @HostListener('click', ['$event'])\n  onMouseClick(evt) {\n    this.onClick(evt);\n  }\n\n  startup() {\n    this.started = true;\n  }\n  /**\n   * 单击图标时\n   * @param evt \n   */\n  onClick(evt) {\n    if (this.state === WidgetState.closed || (this.panel && this.panel.instance.state === WidgetState.closed)) {\n      this.switchToOpen();\n    } else {\n      this.switchToClose();\n    }\n  }\n  private _isDockPanel() {\n    let _uri = \"\", _dock = \"\";\n    if (this.widgetConfig.panel && this.widgetConfig.panel.dock) {\n      _dock = this.widgetConfig.panel.dock.toLowerCase();\n      return _dock === \"left\" || _dock === \"right\" || _dock === \"bottom\";\n    }\n    if (this.widgetConfig.panel && this.widgetConfig.panel.uri) {\n      _uri = this.widgetConfig.panel.uri;\n    }\n    if (!_uri) return false;\n    _uri = _uri.toLowerCase();\n    return _uri === \"epsgis-dockable-panel-at-left\" ||\n      _uri === \"epsgis-dockable-panel-at-bottom\" ||\n      _uri === \"epsgis-dockable-panel-at-right\";\n  }\n  /**\n   * \n   */\n  switchToOpen() {\n    if (!this._isDockPanel()) {\n      //同组互斥\n      this.panelManager.closeAllPanelsInGroup(this.widgetConfig.gid);\n    }\n    this.resetPanelPosition();\n    if (this.widgetConfig.inPanel === false) {\n      this.widgetManager.loadWidget(this.widgetConfig);\n    } else {\n      this.panelManager.showPanel(this.panelConfig, this.widget).then((panel: ComponentRef<OnScreenWidgetPanelComponent>) => {\n        this.panel = panel;\n        this.state = WidgetState.opened;\n        this.panel.instance.panelIcon = this;\n        if (this.panel.instance.isDockable()) {\n          this.panelManager.onMapResize();\n        }\n      });\n    }\n\n  }\n  /**\n   * \n   */\n  switchToClose() {\n    if (this.widgetConfig.inPanel === false) {\n      this.widgetManager.closeWidget(this.widget);\n    } else {\n      this.panelManager.closePanel(this.panel).then(panel => {\n        this.state = WidgetState.closed;\n      });\n    }\n  }\n  /**\n   * 移动\n   * @param position \n   */\n  moveTo(position) {\n  }\n  destroy() {\n    if (this.panel && this.panelManager) {\n      this.panelManager.destroyPanel(this.panel);\n    } else if (this.widget) {\n      this.widgetManager.destroyWidget(this.widget);\n    }\n  }\n  getOffPanelWidgetPosition() {\n\n  }\n  private _showLoading() {\n\n  }\n  private _hideLoading() {\n\n  }\n  onMapChange(map) {\n    this.map = map;\n  }\n  onViewChange(view) {\n    this.view = view;\n  }\n}\n","/**\n * create by ruir 191014  basePanel.js\n */\n\n/**\n * Panel 移动端显示方式\n */\nexport enum PanelInMobileShowMode {\n    /**\n     * 默认（pc端的方式）\n     */\n    default = \"default\",\n    /**\n     * 抽屉 侧滑\n     */\n    drawer = \"drawer\",\n    /**\n     * 抽屉 侧滑 右出\n     */\n    drawerRight = \"drawerright\",\n    /**\n     * 弹窗\n     */\n    popup = \"popup\",\n    /**\n     * 由底向上弹出层\n     */\n    action = \"action\",\n    /**\n     * 气泡弹窗\n     */\n    popover = \"popover\",\n    /**\n     * 模态 或 跳转到新页\n     */\n    modal = \"modal\"\n\n}\n/**\n * panel停靠方式\n */\nexport enum PanelDockMode {\n    /**\n     * 弹窗，不停靠\n     */\n    none = \"none\",\n    /**\n     * 停靠在左侧\n     */\n    left = \"left\",\n    /**\n     * 停靠在右侧\n     */\n    right = \"right\",\n    /**\n     * 停靠在下方\n     */\n    bottom = \"bottom\"\n}\n/**\n * panel 坐标以及高宽\n */\nexport interface PanelPosition {\n\n    top?: number | string;\n    left?: number | string;\n    width?: number | string;\n    height?: number | string;\n\n}\n/**\n * Panel参数\n */\nexport interface PanelOptions {\n    /**\n        * id\n        */\n    id?: string;\n    /**\n     * 标题\n     */\n    title?: string;\n    /**\n     * 是否显示标题\n     */\n    showTitle?: boolean;\n    /**\n     * 是否为模态窗口\n     */\n    modal?: boolean;\n    /**\n     * 是否自动打开\n     */\n    autoOpen?: boolean;\n    /**\n     * 动画时间\n     */\n    animationTime?: number;\n    /**\n     * 自定义样式\n     */\n    customClass?: string;\n    /**\n     * 按钮位置\n     */\n    buttonsPosition?: string;\n    /**\n     * 是否显示关闭按钮\n     */\n    buttonClose?: boolean;\n    /**\n     * 关闭按钮提示文本\n     */\n    buttonCloseText?: string;\n    /**\n     * 是否显示最大化按钮\n     */\n    buttonMaximize?: boolean;\n    /**\n     * 最大化按钮提示文本\n     */\n    buttonMaximizeText?: string;\n    /**\n     * \n     */\n    buttonUnmaximizeText?: string;\n    /**\n     * 是否显示最小化按钮\n     */\n    buttonMinimize?: boolean;\n    buttonMinimizeText?: string;\n    buttonUnminimizeText?: string;\n    /**\n     * 是否显示收缩按钮\n     */\n    buttonCollapse?: boolean;\n    buttonCollapseText?: string;\n    buttonUnCollapseText?: string;\n    /**\n     * 是否可以拖拽\n     */\n    draggable?: boolean;\n    dragOpacity?: number;\n    /**\n     * 是否可改变大小\n     */\n    resizable?: boolean;\n    resizeOpacity?: number;\n    /**\n     * 是否显示底部状态栏\n     */\n    statusBar?: boolean;\n\n    // top?: string;\n    // left?: string;\n    // right?: string ;\n    // bottom?: string ;\n\n    height?: number;\n    width?: number;\n    maxHeight?: any;\n    maxWidth?: any;\n    minHeight?: number;\n    minWidth?: number;\n    collapsedWidth?: number;\n\n    keepInViewport?: boolean;\n    mouseMoveEvents?: boolean;\n\n    dockSide?: PanelDockMode;\n    relativeTo?: string;\n    /**\n     * 静态html内容\n     */\n    innerHtml?: string; //静态内容\n    /**\n     * 显示url内容\n     */\n    url?: string;\n    /**\n     * 是否显示中间的折叠按钮，替换buttonCollapse属性\n     */\n    centerCollapse?: boolean;\n    /**\n     * 是否显示设置按钮\n     */\n    buttonSetting?: boolean;\n    /**\n     * 设置按钮提示文本\n     */\n    buttonSettingText?: string;\n\n}\n/**\n * Panel参数默认值\n */\nexport const DefaultPanelOptions: PanelOptions = {\n    /**\n     * id\n     */\n    id: \"ss_panel\",\n    /**\n     * 标题\n     */\n    title: \"SS Panel\",\n    /**\n     * 是否显示标题\n     */\n    showTitle: true,\n    /**\n     * 是否为模态窗口\n     */\n    modal: false,\n    /**\n     * 是否自动打开\n     */\n    autoOpen: false,\n    /**\n     * 动画时间\n     */\n    animationTime: 300,\n    /**\n     * 自定义样式\n     */\n    customClass: \"\",\n    /**\n     * 按钮位置\n     */\n    buttonsPosition: \"right\",\n    /**\n     * 是否显示关闭按钮\n     */\n    buttonClose: true,\n    /**\n     * 关闭按钮提示文本\n     */\n    buttonCloseText: \"关闭\",\n    /**\n     * 是否显示最大化按钮\n     */\n    buttonMaximize: true,\n    /**\n     * 最大化按钮提示文本\n     */\n    buttonMaximizeText: \"最大化\",\n    /**\n     * \n     */\n    buttonUnmaximizeText: \"还原\",\n    /**\n     * 是否显示最小化按钮\n     */\n    buttonMinimize: false,\n    buttonMinimizeText: \"最小化\",\n    buttonUnminimizeText: \"打开\",\n    /**\n     * 是否显示收缩按钮\n     */\n    buttonCollapse: true,\n    buttonCollapseText: \"收缩\",\n    buttonUnCollapseText: \"展开\",\n    /**\n     * 是否可以拖拽\n     */\n    draggable: true,\n    dragOpacity: 0.6,\n    /**\n     * 是否可改变大小\n     */\n    resizable: true,\n    resizeOpacity: 0.6,\n    /**\n     * 是否显示底部状态栏\n     */\n    statusBar: false,\n\n    // top: \"auto\";\n    // left: \"auto\";\n    // right: \"auto\";\n    // bottom: \"auto\";\n\n    height: 200,\n    width: 400,\n    maxHeight: undefined,\n    maxWidth: undefined,\n    minHeight: 100,\n    minWidth: 200,\n    collapsedWidth: undefined,\n\n    keepInViewport: true,\n    mouseMoveEvents: true,\n\n    dockSide: PanelDockMode.none,\n    relativeTo: \"map\",\n    /**\n     * 静态html内容\n     */\n    innerHtml: \"\",\n    /**\n     * 显示url内容\n     */\n    url: \"\"\n}","\r\n/**\r\n * create by ruir 191105 源自dojo/aspect.js\r\n * 提供面向切面的编程功能，允许在目标对象的方法前、后、及周围插入要执行的函数\r\n */\r\nclass AspectService {\r\n\r\n    nextId: number = 0;\r\n    /**\r\n    * 单例\r\n    */\r\n    private static _instance: AspectService = null;\r\n    private constructor() {\r\n\r\n    }\r\n    static getInstance() {\r\n        if (!this._instance) {\r\n            this._instance = new AspectService();\r\n        }\r\n        return this._instance;\r\n    }\r\n    /**\r\n     * 添加切面函数\r\n     * @param dispatcher 目标\r\n     * @param type 类型，after,before,around\r\n     * @param advice 要切入的函数\r\n     * @param receiveArguments 是否返回函数\r\n     */\r\n    private advise(dispatcher: any, type: string, advice: Function, receiveArguments?: boolean) {\r\n        let previous = dispatcher[type];\r\n        let around = type == \"around\";\r\n        let signal;\r\n        if (around) {\r\n            let advised = advice(()=> {\r\n                return previous.advice(this, arguments);\r\n            });\r\n            signal = {\r\n                remove: () => {\r\n                    if (advised) {\r\n                        advised = dispatcher = advice = null;\r\n                    }\r\n                },\r\n                advice: (target, args) => {\r\n                    //一旦调用remove，adviced变为空，便会跳过本次环绕通知，进入上一层的advice方法。\r\n                    return advised ?\r\n                        advised.apply(target, args) :  // 调用切入的函数\r\n                        previous.advice(target, args); // 已取消，跳至下一个\r\n                }\r\n            };\r\n        } else {\r\n            // 创建移除事件\r\n            signal = {\r\n                remove: () => {\r\n                    if (signal.advice) {\r\n                        let previous = signal.previous;\r\n                        let next = signal.next;\r\n                        if (!next && !previous) {\r\n                            delete dispatcher[type];\r\n                        } else {\r\n                            if (previous) {\r\n                                previous.next = next;\r\n                            } else {\r\n                                dispatcher[type] = next;\r\n                            }\r\n                            if (next) {\r\n                                next.previous = previous;\r\n                            }\r\n                        }\r\n\r\n                        // 移除后 置为空\r\n                        dispatcher = advice = signal.advice = null;\r\n                    }\r\n                },\r\n                id: dispatcher.nextId++,\r\n                advice: advice,\r\n                receiveArguments: receiveArguments\r\n            };\r\n        }\r\n        if (previous && !around) {\r\n            if (type == \"after\") {\r\n                //将侦听器添加到列表的末尾\r\n                //注意，我们必须对此循环进行一些更改，以解决一个奇怪的IE10 JIT错误 while (previous.next && (previous = previous.next)) { }\r\n                previous.next = signal;\r\n                signal.previous = previous;\r\n            } else if (type == \"before\") {\r\n                // 添加到开头\r\n                dispatcher[type] = signal;\r\n                signal.next = previous;\r\n                previous.previous = signal;\r\n            }\r\n        } else {\r\n            //替换前后或第一个\r\n            dispatcher[type] = signal;\r\n        }\r\n        return signal;\r\n    }\r\n    /**\r\n     * 切面\r\n     * @param type 类型 after,before,around\r\n     */\r\n    private _aspect(type: string) {\r\n        /**\r\n         * @target 目标对象\r\n         * @methodName 函数名\r\n         * @advice 要切入得函数\r\n         * @receiveArguments 是否传入原始参数\r\n         */\r\n        return (target: any, methodName: string, advice: Function, receiveArguments?: boolean) => {\r\n            let existing = target[methodName], dispatcher;\r\n            if (!existing || existing.target != target) {\r\n                // 还没有调度\r\n                target[methodName] = dispatcher = ()=>{\r\n                    let executionId = dispatcher.nextId;\r\n                    // before advice\r\n                    let args = arguments;\r\n                    let before = dispatcher.before;\r\n                    while (before) {\r\n                        if (before.advice) {\r\n                            args = before.advice.apply(this, args) || args;\r\n                        }\r\n                        before = before.next;\r\n                    }\r\n                    // around advice\r\n                    if (dispatcher.around) {\r\n                        let results = dispatcher.around.advice(this, args);\r\n                    }\r\n                    // after advice\r\n                    let after = dispatcher.after;\r\n                    while (after && after.id < executionId) {\r\n                        if (after.advice) {\r\n                            if (after.receiveArguments) {\r\n                                let newResults = after.advice.apply(this, args);\r\n                                // 仅当返回新值时才更改返回值\r\n                                results = newResults === undefined ? results : newResults;\r\n                            } else {\r\n                                results = after.advice.call(this, results, args);\r\n                            }\r\n                        }\r\n                        after = after.next;\r\n                    }\r\n                    return results;\r\n                };\r\n                if (existing) {\r\n                    dispatcher.around = {\r\n                        advice: (target, args) => {\r\n                            return existing.apply(target, args);\r\n                        }\r\n                    };\r\n                }\r\n                dispatcher.target = target;\r\n                dispatcher.nextId = dispatcher.nextId || 0;\r\n            }\r\n            let results = this.advise((dispatcher || existing), type, advice, receiveArguments);\r\n            advice = null;\r\n            return results;\r\n        };\r\n    }\r\n    after = this._aspect(\"after\");\r\n\r\n    before = this._aspect(\"after\");\r\n\r\n    around = this._aspect(\"around\");\r\n\r\n}\r\n// 示例:\r\n// 第一步导入库\r\n// import { aspect } from '../../../services/aspect.service';\r\n\r\n//after \r\n// let signal = aspect.after(targetObject, \"methodName\", (someArgument)=>{\r\n//     //将在调用targetObject.methodName()后执行\r\n// });\r\n//\r\n\r\n//\t返回的对象可用于移除绑定。\r\n//  signal.remove(); //移除\r\n//\t\r\n//before\r\n// aspect.before(targetObject, \"methodName\", (someArgument)=>{\r\n// \t\t//将在调用targetObject.methodName()前执行\r\n// });\r\n\r\n//around\r\n// aspect.around(targetObject, \"methodName\",  (originalFoo)()=> {\r\n//     return  ()=> {\r\n//         let start = new Date().getTime();//调用targetObject.methodName()前执行\r\n//         let results = originalFoo.apply(this, arguments); //调用原始方法targetObject.methodName()\r\n//         let end = new Date().getTime();//调用targetObject.methodName()后执行\r\n//         console.log(\"methodName execution took \" + (end - start) + \" ms\");\r\n//         return results;\r\n//     };\r\n// });\r\nexport let aspect = AspectService.getInstance();\r\n\r\nexport class TestAspect{\r\n    constructor(){\r\n        console.log(\"TestAspect constructor\")\r\n    }\r\n    testBefore(){\r\n        console.log(\"TestAspect testBefore\")\r\n    }\r\n    testAfter(){\r\n        console.log(\"TestAspect testAfter\")\r\n    }\r\n    testAround(){\r\n        console.log(\"TestAspect testAround\")\r\n    }\r\n}","import { OnInit, ComponentRef, ViewChild, ViewContainerRef, Optional, ElementRef, Renderer2, HostListener, AfterViewInit, ApplicationRef, Directive } from '@angular/core';\nimport { BaseWidgetComponent } from '../base-widget/base-widget.component';\nimport { WidgetWindowState, WidgetState, WidgetPosition } from '../../models/base-widget';\nimport { PanelOptions, PanelPosition, PanelInMobileShowMode, PanelDockMode, DefaultPanelOptions } from '../../models/base-panel';\nimport * as _ from 'lodash';\nimport { aspect } from '../../services/aspect.service';\nimport { OnScreenWidgetIconComponent } from '../on-screen-widget-icon/on-screen-widget-icon.component';\nimport { ChangeDetectorRef } from \"@angular/core\";\nimport { BaseWidget } from '../base-widget';\n/**\n * \n */\n@Directive()\nexport class BasePanelComponent extends BaseWidget implements OnInit, AfterViewInit {\n  public options: PanelOptions = DefaultPanelOptions;\n  widget: ComponentRef<BaseWidgetComponent>;\n  @ViewChild(\"widget_content\", { read: ViewContainerRef, static: true }) widgetContainer: ViewContainerRef;\n  // @ViewChild(ComponentContainerDirective, { read: ViewContainerRef, static: true }) widgetContainer: ViewContainerRef;\n\n  @ViewChild(\"sspanel_overlay\", { static: true }) sspanelOverlay: ElementRef;\n  @ViewChild(\"sspanel_titlebar\", { static: true }) sspanel_titlebar: ElementRef;\n  @ViewChild(\"sspanel\", { static: true }) sspanel: ElementRef;\n\n  /**\n   * \n   */\n  panelContainer: Element;\n  /**\n   * 当前位置\n   */\n  protected currentPosition: PanelPosition = undefined;\n  protected savedPosition: PanelPosition = undefined;\n  protected currentSize: { width: any, height: any } = undefined;\n  protected savedSize: { width: any, height: any } = undefined;\n  protected tempSavedData: any;\n  // private maximized: boolean = false;\n  // private collapsed: boolean = false;\n  // private minimized: boolean = false;\n  protected isMouseEvent: boolean = false;\n  /**\n   * 原始位置大小\n   */\n  protected originalPosition: PanelPosition = undefined;\n  /**\n   * 拉动大小时的参数\n   */\n  //private resizeParams:{dimension?:string,directionX?:string,directionY?:string}=undefined;\n  /**\n   * 停靠方式\n   */\n  dockMode: PanelDockMode = PanelDockMode.none;\n  //////////////移动端\n  /**\n   * 当前是否运行在移动端\n   */\n  _isRunInMobile: boolean = false;\n  /**\n   * 移动端展示方式 默认action\n   */\n  _mobileShowMode: PanelInMobileShowMode = PanelInMobileShowMode.action;\n\n  /////////////\n  panelIcon: OnScreenWidgetIconComponent;\n  /**\n   * \n   * @param _render \n   */\n  constructor(@Optional() public _render: Renderer2\n    , @Optional() public cdr: ChangeDetectorRef\n    /*public appRef: ApplicationRef*/) {\n    super();\n  }\n  /**\n   * \n   */\n  ngOnInit() {\n    this._isRunInMobile = this.commonService.isMobileNotTablet();\n    if (this.options.modal === true) {\n      if (this.sspanelOverlay) {\n        this._render.setStyle(this.sspanelOverlay.nativeElement, \"pointer-events\", \"auto\");\n      }\n    } else {\n      if (this.sspanelOverlay) {\n        this._render.setStyle(this.sspanelOverlay.nativeElement, \"background-color\", \"transparent\");\n      }\n    }\n\n    if (this._isRunInMobile) {\n      if (this._mobileShowMode === PanelInMobileShowMode.drawer\n        || this._mobileShowMode === PanelInMobileShowMode.drawerRight) {\n        this._render.setStyle(this.sspanelOverlay.nativeElement, \"pointer-events\", \"auto\");\n        this._render.setStyle(this.sspanelOverlay.nativeElement, \"background-color\", \"#00000080\");\n      }\n\n    } else {\n      try {\n        //ElementRef ok 这种方式不能自动调用钩子函数（如ngOnIit）\n        // const ele = (this.widget.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\n        // this.widgetContainer[\"elementRef\"].nativeElement.parentElement.appendChild(ele);\n        //ElementRef insert is not a function\n        // this.widgetContainer.insert(this.widget.hostView);\n\n        // if (this.options.modal !== true) {\n        //   this._render.setStyle(this.sspanelOverlay.nativeElement, \"width\", 0);\n        //   this._render.setStyle(this.sspanelOverlay.nativeElement, \"height\", 0);\n        // }\n        this.xxxx = this._document_MouseMove.bind(this);\n        this.yyyy = this._document_MouseUp.bind(this);\n        this.started = true;\n      } catch (error) {\n        console.log(`open panel[${this.widget.instance.uri}] error`);\n        console.error(error);\n      }\n    }\n    super.ngOnInit();\n  }\n  /**\n   * \n   */\n  ngOnDestroy(): void {\n    super.ngOnDestroy();\n    if (this.widget) {\n      this.widgetManager.destroyWidget(this.widget);\n    }\n  }\n  /**\n   * \n   */\n  ngAfterViewInit(): void {\n    //需异步执行，否则检测会报错Error: ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked...\n    Promise.resolve(null).then(() => {\n      this.startup();\n      this.state = WidgetState.opened;\n      this.loadAllWidgetsInOrder();\n      this.onOpen();\n      if (this.cdr && this.cdr[\"destroyed\"] === false) {\n        this.cdr.detectChanges();\n      }\n      super.afterNgAfterViewInit();\n    });\n  }\n  /**\n   * \n   * @param positionConfig \n   */\n  setPosition(positionConfig: any) {\n    if (!this.widgetConfig.position.width) {\n      this.widgetConfig.position.width = this.options.width;\n    }\n    if (!this.widgetConfig.position.height) {\n      this.widgetConfig.position.height = this.options.height;\n    }\n    //判断下高宽是否小于了最小的高宽，解决变成一条线问题\n    let w = this.commonService.getPxNumber(this.widgetConfig.position.width);\n    let h = this.commonService.getPxNumber(this.widgetConfig.position.height);\n    if (typeof w === \"number\" && w < this.options.minWidth) {\n      this.widgetConfig.position.width = this.options.minWidth;\n    }\n    if (typeof h === \"number\" && h < this.options.minWidth) {\n      this.widgetConfig.position.height = this.options.minHeight;\n    }\n\n    if (this.commonService.isMobileNotTablet()) {\n      this._setMobilePosition();\n    } else {\n      this._setPCPosition();\n    }\n    super.setPosition(this.widgetConfig.position);\n  }\n  /**\n   * \n   */\n  protected _setPCPosition() {\n    this.currentSize = { width: this.widgetConfig.position.width, height: this.widgetConfig.position.height };\n    this.currentPosition = { left: undefined, top: undefined, width: undefined, height: undefined };\n    this.currentPosition.left = this.commonService.getPxNumber(this.widgetConfig.position.left);\n    this.currentPosition.top = this.commonService.getPxNumber(this.widgetConfig.position.top);\n    this.currentPosition.width = this.commonService.getPxNumber(this.widgetConfig.position.width);\n    this.currentPosition.height = this.commonService.getPxNumber(this.widgetConfig.position.height);\n    this.savedPosition = _.cloneDeep(this.currentPosition);\n    this.originalPosition = _.cloneDeep(this.currentPosition);\n  }\n  /**\n  * 子类继承实现\n  */\n  protected _setMobilePosition() {\n\n  }\n  private loadAllWidgetsInOrder() {\n    //多个\n    // const configs = this.getAllWidgetConfigs();\n    // if (_.isArray(this.config.widgets)) {\n    //   configs = this.config.widgets;\n    // } else {\n    //   configs = [this.widgetConfig];\n    // }\n    const configs = [this.widgetConfig];\n    _.forEach(configs, (wConfig) => {\n      if (wConfig.visible === false) {\n        return;\n      }\n      //动画\n      //加载组件\n      this.widgetManager.loadWidget(wConfig).then((widget) => {\n        this.widget = widget;\n        if (this.options.showTitle === false) {\n          this.widget.instance.showSettingWhenInPanel = true;\n        }\n        this.widget.instance.reqPara = this.reqPara;\n        //ViewContainerRef insert  这种方式可自动调用钩子函数\n        this.widgetContainer.insert(this.widget.hostView);\n        // this.appRef.attachView(this.widget.hostView);//已经加入了\n        //ngAfterViewInit\n        aspect.after(this.widget.instance, \"afterNgAfterViewInit\", () => {\n          this.widget.instance.started = true;\n          this.widget.instance.state = WidgetState.opened;\n          this.widget.instance.windowState = WidgetWindowState.normal;\n          this.widget.instance.startup();\n        });\n      });\n    });\n  }\n\n  private getAllWidgetConfigs() {\n    let configs = [];\n    if (Array.isArray(this.config.widgets)) {\n      configs = this.config.widgets;\n    } else {\n      configs = [this.widgetConfig];\n    }\n    return configs;\n  }\n  /**\n   * 是否停靠的panel\n   */\n  isDockable(): boolean {\n    return this.dockMode === PanelDockMode.left ||\n      this.dockMode === PanelDockMode.bottom ||\n      this.dockMode === PanelDockMode.right;\n  }\n\n  startup() {\n    // this.panelContainer.appendChild(this.sspanelOverlay.nativeElement); //这种方式有问题\n    this.started = true;\n  }\n  /**\n   * \n   * @param widget \n   */\n  setWidget(widget: ComponentRef<BaseWidgetComponent>) {\n    this.widget = widget;\n    if (this.options.showTitle === false) {\n      this.widget.instance.showSettingWhenInPanel = true;\n    }\n  }\n  /**\n   * 设置panel参数\n   * @param options \n   */\n  setOptions(options: PanelOptions) {\n    if (this.widgetConfig && this.widgetConfig.panel) {\n      _.merge(options, this.widgetConfig.panel);\n    }\n    this.options = _.merge(_.cloneDeep(DefaultPanelOptions), options);\n    this.options.buttonSetting = this.isSettingMode;\n  }\n  /**\n   * \n   * @param state \n   */\n  setWindowState(state: WidgetWindowState) {\n    this.windowState = state;\n  }\n  setState(state: WidgetState) {\n    switch (state) {\n      case WidgetState.opened:\n        this.showPanel();\n        break;\n      case WidgetState.closed:\n        this.hidePanel();\n        break;\n      case WidgetState.active:\n        break;\n      default:\n        break;\n    }\n    this.state = state;\n    if (this.widget) {\n      this.widget.instance.setState(state);\n    }\n  }\n  protected showPanel() {\n    this.sspanelOverlay.nativeElement.parentElement.style.display = '';\n    if (this.widget) {\n      //undefined?\n      this.commonService.getComponentRootNode(this.widget).style.display = '';\n    }\n    this.onOpen();\n    this.state = WidgetState.opened;\n  }\n  protected hidePanel() {\n    //this.widget.hostView.rootNodes[0].parentElement.parentNode.parentElement.parentElement.style.display='none'\n    this.sspanelOverlay.nativeElement.parentElement.style.display = 'none';\n    if (this.widget) {\n      //undefined?\n      this.commonService.getComponentRootNode(this.widget).style.display = 'none';\n    }\n    this.onClose();\n    //设置状态\n    this.state = WidgetState.closed;\n  }\n  /**\n   * 关闭panel\n   * @param event \n   */\n  closePanel(event) {\n    this.panelManager.closePanel(this.id);\n    // this.setState(WidgetState.closed);\n    if (event) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n  onNormalize() {\n    if (this.widget) {\n      this.widget.instance.onNormalize();\n    }\n  }\n\n  onMinimize() {\n    if (this.widget) {\n      this.widget.instance.onMinimize();\n    }\n  }\n  onMaximize() {\n    if (this.widget) {\n      this.widget.instance.onMaximize();\n    }\n  }\n  /**\n   * \n   * @param position \n   */\n  resize(position?: any) {\n    if (position) {\n      if (position.left < 0) {\n        position.left = 0;\n      }\n      if (position.top < 0) {\n        position.top = 0;\n      }\n      if (position.width < this.options.minWidth) {\n        position.width = this.options.minWidth;\n      }\n      if (position.height < this.options.minHeight) {\n        position.height = this.options.minHeight;\n      }\n      this._render.setStyle(this.sspanel.nativeElement, \"left\", this._convertToStyleVal(position.left));\n      this._render.setStyle(this.sspanel.nativeElement, \"top\", this._convertToStyleVal(position.top));\n      this._render.setStyle(this.sspanel.nativeElement, \"width\", this._convertToStyleVal(position.width));\n      this._render.setStyle(this.sspanel.nativeElement, \"height\", this._convertToStyleVal(position.height));\n      this.widgetConfig.position = _.merge(this.widgetConfig.position, position);\n      this.setPosition(position);\n    }\n  }\n  onResize() {\n    if (this.widget) {\n      this.widget.instance.resize();\n    }\n  }\n  onActive() {\n  }\n\n  onDeActive() {\n  }\n  onCollapse() {\n  }\n  onExpand() {\n  }\n  onMove() {\n  }\n  onPositionChange(position) {\n    this.setPosition(position);\n  }\n  onOpen() {\n    if (this.widget && this.widget.instance.started) {\n      this.widget.instance.onOpen();\n    }\n  }\n  onClose() {\n    //关闭widget\n    if (this.widget) {\n      this.widgetManager.closeWidget(this.widget);\n    }\n    // if (this.widget) {\n    //   this.widget.instance.onClose();\n    // }\n  }\n  @HostListener('mouseenter', ['$event.target'])\n  onMouseEnter(target) {\n    if (this.moveTopOnActive) {\n      this.panelManager._activePanel(this.id);\n    }\n  }\n\n  @HostListener('mouseleave')\n  onMouseLeave() {\n\n  }\n  /**\n   * \n   * **************************************************************************************************************************\n   * **************************************************************************************************************************\n   * **************************************************************************************************************************\n   */\n  /**\n   * 获取当前位置\n   */\n  private _getCurrentPosition() {\n\n    let _position = this.currentPosition;\n    if (_position.top === \"auto\") {\n      _position.top = this.position.top;\n    }\n    if (_position.left === \"auto\" || _position.left === 0) {\n      //解决在没有left属性时，第一次拖动会跑到左边的问题\n      const _panelBounds = this.commonService.getElementBounds(this.sspanel.nativeElement);\n      const _isInMap: boolean = this.widgetConfig.position.relativeTo !== \"browser\";\n      let _containerBounds: ClientRect | DOMRect;\n      if (_isInMap) {\n        const _ele = this.commonService.getComponentRootNode(this.mapManager.comRefMap);\n        if (_ele) {\n          _containerBounds = this.commonService.getElementBounds(_ele);\n        }\n      } else {\n        //应获取外层容器（epsgis-comp-container）的高宽\n        _containerBounds = document.querySelector(\"epsgis-comp-container\").getBoundingClientRect();\n      }\n      if (_containerBounds) {\n        //减去容器的left\n        _position.left = _panelBounds.left - _containerBounds.left;\n      }\n    }\n    return _.merge({}, _position);\n  }\n  /**\n   * 设置位置\n   * @param position \n   */\n  private _setCurrentPosition(position: PanelPosition) {\n    // console.log(\"Object.assign:\")\n    // console.log(Object.assign({ a: 1, b: 2 }, { a: 2, b: undefined }));\n    // console.log(\"_.extend:\")\n    // console.log(_.extend({ a: 1, b: 2 }, { a: 2, b: undefined }));\n    // console.log(\"_.merge:\")\n    // console.log(_.merge({ a: 1, b: 2 }, { a: 2, b: undefined }));\n    this.currentPosition = _.merge(this.currentPosition, position);\n  }\n  private _saveCurrentPosition() {\n    this.savedPosition = this._getCurrentPosition();\n  }\n  private _restoreSavedPosition() {\n    return this._changePosition(this.savedPosition);\n  }\n  /**\n   * \n   * @param params \n   */\n  private _changePosition(params: WidgetPosition | any) {\n    let defRet = this.commonService.createPromiseDefer();\n    let settings = this.options;\n    let animationTime = (params.animationTime !== undefined) ? parseInt(params.animationTime) : settings.animationTime;\n    let newPosition = {\n      top: params.top,\n      left: params.left,\n      bottom: params.bottom,\n      right: params.right\n    };\n    if (params.check) {\n      if (!(this.state === WidgetState.opened) ||\n        this.windowState === WidgetWindowState.maximized ||\n        this.windowState === WidgetWindowState.minimized) return;\n      if (settings.keepInViewport) {\n        let size = this._getCurrentSize();\n        let $window = this._getWindowSize();\n        if (newPosition.top > $window.height() - size.height) newPosition.top = $window.height() - size.height;\n        if (newPosition.left > $window.width() - size.width) newPosition.left = $window.width() - size.width;\n        if (newPosition.top < 0) newPosition.top = 0;\n        if (newPosition.left < 0) newPosition.left = 0;\n      }\n    }\n    let currentPosition = this._getCurrentPosition();\n    if (currentPosition.top != newPosition.top || currentPosition.left != newPosition.left) {\n      //动画 待实现\n      this.position = _.merge(this.position, {\n        left: newPosition.left + \"px\",\n        top: newPosition.top + \"px\"\n      });\n      this.sspanel.nativeElement.style.left = newPosition.left + \"px\";\n      this.sspanel.nativeElement.style.top = newPosition.top + \"px\";\n      this._setCurrentPosition(newPosition);\n      defRet.resolve();\n    } else {\n      defRet.resolve();\n    }\n    return defRet.promise();\n  }\n  private _getWindowSize() {\n    return {\n      height: () => {\n        return window.innerHeight;\n      },\n      width: () => {\n        return window.outerWidth;\n      }\n    }\n  }\n  /**\n   * 获取panel大小\n   */\n  private _getCurrentSize() {\n    return _.merge({}, this.currentSize);\n  }\n  /**\n   * \n   */\n  private _saveCurrentSize() {\n    //this._ssPanel.data(\"savedSize\", this._getCurrentSize());\n    this.savedSize = this._getCurrentSize();\n  }\n  private _setCurrentSize(size) {\n    this.currentSize = _.merge(this.currentSize, size);\n  }\n  private _restoreSavedSize() {\n    return this._changeSize(_.merge({\n      checkPosition: true,\n      checkSize: false,\n      event: false\n    }, this.savedSize));\n  }\n  /**\n   * 转换为style里的样式值，数字值转为带px的，非数字的直接返回\n   * @param val \n   */\n  protected _convertToStyleVal(val: any): string {\n    if (val == \"0\") return \"0px\";\n    if (!val) return \"\";\n    if (val === \"auto\" || val == \"100%\") return val;\n    let _w = parseFloat(val), _ws = \"\";\n    if (isNaN(_w)) {\n      _ws = val;\n    } else {\n      if (_w < 0) {\n        _w = 0;\n      }\n      _ws = _w + \"px\";\n    }\n    return _ws;\n  }\n  /**\n   * \n   * @param params \n   */\n  private _changeSize(params) {\n\n    let defRet = this.commonService.createPromiseDefer();\n    let settings = this.options;\n    let animationTime = (params.animationTime !== undefined) ? parseInt(params.animationTime) : settings.animationTime;\n    let newSize = {\n      width: params.width,\n      height: params.height\n    };\n    if (params.checkSize) {\n      if (this.state === WidgetState.closed\n        || this.windowState === WidgetWindowState.minimized ||\n        this.windowState === WidgetWindowState.maximized) return;\n\n      if (settings.maxWidth && newSize.width > settings.maxWidth) newSize.width = settings.maxWidth;\n      if (settings.minWidth && newSize.width < settings.minWidth) newSize.width = settings.minWidth;\n      if (settings.maxHeight && newSize.height > settings.maxHeight) newSize.height = settings.maxHeight;\n      if (settings.minHeight && newSize.height < settings.minHeight) newSize.height = settings.minHeight;\n      if (this.windowState === WidgetWindowState.collapsed) {\n        this.currentSize = _.merge({}, newSize)\n        delete newSize.height;\n      }\n    }\n    let currentSize = this._getCurrentSize();\n    if (currentSize.width != newSize.width || currentSize.height != newSize.height) {\n\n      if (newSize.height) {\n        // newSize.height=parseFloat(newSize.height); //NaN or number \n        this._render.setStyle(this.sspanel.nativeElement, \"height\", this._convertToStyleVal(newSize.height));\n      }\n      if (newSize.width) {\n        // newSize.width = parseFloat(newSize.width);//NaN or number \n\n        this._render.setStyle(this.sspanel.nativeElement, \"width\", this._convertToStyleVal(newSize.width));\n      }\n\n      this._setCurrentSize(newSize);\n      defRet.resolve();\n    } else {\n      defRet.resolve();\n    }\n    return defRet.promise();\n  }\n\n  private _getBordersWidth(border: string): number | any {\n    if (border !== undefined) {\n      return this._getBorderWidth(this.sspanel.nativeElement, border);\n    }\n    return {\n      top: this._getBorderWidth(this.sspanel.nativeElement, \"top\"),\n      bottom: this._getBorderWidth(this.sspanel.nativeElement, \"top\"),\n      left: this._getBorderWidth(this.sspanel.nativeElement, \"top\"),\n      right: this._getBorderWidth(this.sspanel.nativeElement, \"top\")\n    };\n  }\n  private _getBorderWidth(ele: HTMLElement, border: string) {\n    if (border.toLowerCase() === \"top\") border = \"Top\";\n    if (border.toLowerCase() === \"left\") border = \"Left\";\n    if (border.toLowerCase() === \"right\") border = \"Right\";\n    if (border.toLowerCase() === \"bottom\") border = \"Bottom\";\n    let w = ele.style[`border${border}Width`];\n    if (!w) w = 0;\n    return parseInt(w, 10);\n  }\n  /**\n   * \n   * @param evt \n   */\n  public _contentClick(evt: MouseEvent) {\n    this.panelManager._activePanel(this.id);\n  }\n  /**\n   * 单击标题\n   */\n  public _titlebar_MouseDown(event: MouseEvent) {\n    if (this.commonService.isMobile()) return;\n    if (this.isDockable()) return;\n    if (this.options.draggable !== true) return;\n    this.isMouseEvent = false;\n    // if (event.currentTarget[\"className\"].indexOf(\"sspanel_titlebar_draggable\") <= -1) {\n    //   return;\n    // }\n    this.panelManager._activePanel(this.id);\n    let currentPosition = this._getCurrentPosition();\n    let settings = this.options;\n    if (!settings.modal) {\n      this.sspanelOverlay.nativeElement.style.backgroundColor = \"transparent\";\n      this.sspanelOverlay.nativeElement.style.width = \"100%\";\n      this.sspanelOverlay.nativeElement.style.height = \"100%\";\n\n    }\n    this._addDocumentMouseEventHandlers({\n      action: \"drag\",\n      opacity: settings.dragOpacity,\n      compensationX: event.pageX - parseFloat(currentPosition.left.toString()),\n      compensationY: event.pageY - parseFloat(currentPosition.top.toString())\n    });\n    event.preventDefault();\n    event.stopPropagation();\n  }\n  /**\n   * \n   * @param event \n   * @param resizeParams \n   */\n  public _resizer_MouseDown(event: MouseEvent, resizeParams: { dimension?: string, directionX?: string, directionY?: string }) {\n    if (this.commonService.isMobile()) return;\n    let currentPosition = this._getCurrentPosition();\n    let currentSize = this._getCurrentSize();\n    let _data = {\n      action: \"resize\",\n      dimension: resizeParams.dimension,\n      directionX: resizeParams.directionX,\n      directionY: resizeParams.directionY,\n      opacity: this.options.resizeOpacity,\n      startX: event.pageX + ((resizeParams.directionX == \"left\") ? parseFloat(currentSize.width) : -parseFloat(currentSize.width)),\n      startY: event.pageY + ((resizeParams.directionY == \"top\") ? parseFloat(currentSize.height) : -parseFloat(currentSize.height)),\n      compensationX: event.pageX - parseInt(currentPosition.left.toString(), 10),\n      compensationY: event.pageY - parseInt(currentPosition.top.toString(), 10)\n    };\n    // if (isNaN(parseInt(currentPosition.left.toString(), 10))) {\n    //   _data.compensationX = event.pageX;\n    // }\n    // if (isNaN(parseInt(currentPosition.top.toString(), 10))) {\n    //   _data.compensationX = event.pageY;\n    // }\n    this._addDocumentMouseEventHandlers(_data);\n    event.preventDefault();\n  }\n  /**\n   * \n   * @param eventData \n   */\n  private _addDocumentMouseEventHandlers(eventData) {\n    this.sspanel.nativeElement.style.opacity = eventData.opacity;\n    this.sspanel.nativeElement.style.filter = \"alpha(opacity=\" + eventData.opacity * 100 + \")\"; // IE5-8\n    if (!this.options.mouseMoveEvents) {\n      this.tempSavedData = {\n        position: this._getCurrentPosition(),\n        size: this._getCurrentSize()\n      }\n    }\n    /*\n    document.addEventListener(\"mousemove\",(evt: MouseEvent) => {\n      evt[\"data\"] = eventData;\n      this._document_MouseMove(evt);\n    });\n    document.addEventListener(\"mouseup\", (evt: MouseEvent) => {\n      evt[\"data\"] = eventData;\n      this._document_MouseUp(evt);\n    });*/\n    this._eventTempData = eventData;\n    document.addEventListener(\"mousemove\", this.xxxx, false);\n    document.addEventListener(\"mouseup\", this.yyyy, false);\n  }\n  private _eventTempData: any = undefined;\n  private xxxx;\n  private yyyy;\n  /**\n   * \n   */\n  private _document_MouseMove(event) {\n    let settings = this.options;\n    let currentPosition = this._getCurrentPosition();\n    let currentSize = this._getCurrentSize();\n    let newPosition: any = {};\n    let newSize: any = {};\n    event.data = this._eventTempData;\n    switch (event.data.action) {\n      case \"drag\":\n        newPosition.top = event.pageY - event.data.compensationY;\n        newPosition.left = event.pageX - event.data.compensationX;\n        if (settings.keepInViewport) {\n          let size = this._getCurrentSize();\n          let $window = this._getWindowSize();\n          if (newPosition.top < 0) newPosition.top = 0;\n          if (newPosition.left < 0) newPosition.left = 0;\n          if (newPosition.top > $window.height() - size.height) newPosition.top = $window.height() - size.height;\n          if (newPosition.left > $window.width() - size.width) newPosition.left = $window.width() - size.width;\n        }\n        this.isMouseEvent = true;\n        break;\n      case \"resize\":\n        if (event.data.dimension != \"height\" && event.pageX > 0) {\n          let newWidth = (event.data.directionX == \"left\") ? event.data.startX - event.pageX : event.pageX - event.data.startX;\n          if (newWidth >= settings.minWidth && (!settings.maxWidth || newWidth <= settings.maxWidth)) {\n            newSize.width = newWidth;\n            if (event.data.directionX == \"left\") newPosition.left = event.pageX - event.data.compensationX;\n          }\n        }\n        if (event.data.dimension != \"width\" && event.pageY > 0) {\n          let newHeight = (event.data.directionY == \"top\") ? event.data.startY - event.pageY : event.pageY - event.data.startY;\n          if (newHeight >= settings.minHeight && (!settings.maxHeight || newHeight <= settings.maxHeight)) {\n            newSize.height = newHeight;\n            if (event.data.directionY == \"top\") newPosition.top = event.pageY - event.data.compensationY;\n          }\n        }\n        break;\n    }\n\n    if ((newPosition.top !== undefined && newPosition.top != currentPosition.top) || (newPosition.left !== undefined && newPosition.left != currentPosition.left)) {\n      if (newPosition.top < 0) {\n        newPosition.top = 0;\n      }\n      if (newPosition.left < 0) {\n        newPosition.left = 0;\n      }\n      this._changePosition(newPosition);\n      this._setCurrentPosition(newPosition);\n      if (settings.mouseMoveEvents) {\n        this.onMove();\n      }\n    }\n    if ((newSize.width !== undefined && newSize.width != currentSize.width) || (newSize.height !== undefined && newSize.height != currentSize.height)) {\n      if (newSize.height) {\n        if (newSize.height <= this.options.minHeight) {\n          newSize.height = this.options.minHeight;\n        }\n        this._render.setStyle(this.sspanel.nativeElement, \"height\", this._convertToStyleVal(newSize.height));\n      }\n      if (newSize.width) {\n        if (newSize.width <= this.options.minWidth) {\n          newSize.width = this.options.minWidth;\n        }\n        this._render.setStyle(this.sspanel.nativeElement, \"width\", this._convertToStyleVal(newSize.width));\n      }\n      this._setCurrentSize(newSize);\n      if (settings.mouseMoveEvents) {\n        this._setIframeStyle();\n        this.onResize();\n      }\n    }\n  }\n  /**\n   * \n   */\n  private _document_MouseUp(event) {\n    let settings = this.options;\n    // this._ssPanel.fadeTo(0, 1);\n    this.sspanel.nativeElement.style.opacity = 1;\n    this.sspanel.nativeElement.style.filter = \"alpha(opacity=\" + 1 * 100 + \")\"; // IE5-8\n    // ruir:20200511 去掉setTimeout（设置管理员modal拖动问题）\n    //setTimeout(() => {\n    document.removeEventListener(\"mousemove\", this.xxxx);\n    document.removeEventListener(\"mouseup\", this.yyyy);\n    //}, 10);\n    if (this.isMouseEvent !== true) return;\n\n    if (!settings.modal) {\n      this.sspanelOverlay.nativeElement.style.width = \"0px\";\n      this.sspanelOverlay.nativeElement.style.height = \"0px\";\n      this.sspanelOverlay.nativeElement.style.backgoundColor = \"\";\n    }\n    if (!settings.mouseMoveEvents) {\n      let currentPosition = this._getCurrentPosition();\n      let currentSize = this._getCurrentSize();\n      let savedData = this.tempSavedData;\n      if (savedData.position.top != currentPosition.top || savedData.position.left != currentPosition.left) {\n        // this._triggerEvent(\"move\");\n        this.onMove();\n      }\n      if (savedData.size.width != currentSize.width || savedData.size.height != currentSize.height) {\n        // this._triggerEvent(\"resize\");\n        this._setIframeStyle();\n        this.onResize();\n      }\n      this.tempSavedData = undefined;\n      this._eventTempData = undefined;\n    }\n  }\n  private _setIframeStyle() {\n\n  }\n  private _isDockSide() {\n    return false;\n  }\n  /**\n   * 最大化\n   */\n  protected _maximize() {\n    if (this.state === WidgetState.closed ||\n      this.windowState === WidgetWindowState.maximized ||\n      this.windowState === WidgetWindowState.minimized ||\n      this.windowState === WidgetWindowState.collapsed\n    ) {\n      return;\n    }\n    let settings = this.options;\n    //隐藏最大化按钮，显示还原按钮\n    let eles: Array<HTMLElement> = this.sspanel.nativeElement.querySelectorAll(\".sspanel_statusbar_handle *, .sspanel_resizer, .sspanel_titlebar_button_collapse\");\n    eles.forEach((h, idx, arr) => {\n      this._render.setStyle(h, \"display\", \"none\");\n    });\n    //隐藏状态栏\n    if (settings.draggable) {\n      //这时  禁止拖拽\n      this._render.removeClass(this.sspanel_titlebar.nativeElement, \"sspanel_titlebar_draggable\");\n    }\n    if (!settings.modal) {\n      this._render.setStyle(this.sspanelOverlay.nativeElement, \"background-color\", \"transparent\");\n      this._render.setStyle(this.sspanelOverlay.nativeElement, \"width\", \"100%\");\n      this._render.setStyle(this.sspanelOverlay.nativeElement, \"height\", \"100%\");\n    }\n\n    this._saveCurrentPosition();\n    this._saveCurrentSize();\n    let nposition = {\n      top: 0,\n      left: 0\n    };\n    if (this._isDockSide()) {\n\n    }\n    let defPosition = this._changePosition(nposition);\n    let defSize = this._changeSize({\n      width: \"100%\",\n      height: \"100%\"\n      // width:this._ssPanelOptions.maxWidth,\n      // height:this._ssPanelOptions.maxHeight\n    });\n\n    return Promise.all([defPosition, defSize]).then(() => {\n      this.windowState = WidgetWindowState.maximized;\n      this._setIframeStyle();\n      this.onMaximize();\n    });\n  }\n  /**\n   * 最大化 还原\n   */\n  protected _unmaximize() {\n    if (this.state === WidgetState.closed\n      || this.windowState !== WidgetWindowState.maximized)\n      return;\n    let settings = this.options;\n    let defPosition = this._restoreSavedPosition();\n    let defSize = this._restoreSavedSize();\n    //隐藏还原按钮 显示最大化按钮\n    //显示状态栏等\n    let eles: Array<HTMLElement> = this.sspanel.nativeElement.querySelectorAll(\".sspanel_statusbar_handle *, .sspanel_resizer, .sspanel_titlebar_button_collapse\");\n    eles.forEach((h, idx, arr) => {\n      this._render.setStyle(h, \"display\", \"\");\n    });\n    if (settings.draggable) {\n      this._render.addClass(this.sspanel_titlebar.nativeElement, \"sspanel_titlebar_draggable\")\n    }\n    if (!settings.modal) {\n      this._render.setStyle(this.sspanelOverlay.nativeElement, \"background-color\", \"\");\n      this._render.setStyle(this.sspanelOverlay.nativeElement, \"width\", \"0\");\n      this._render.setStyle(this.sspanelOverlay.nativeElement, \"height\", \"0\");\n    }\n\n    return Promise.all([defPosition, defSize]).then(() => {\n      this.windowState = WidgetWindowState.normal;\n      this._setIframeStyle();\n      this.onNormalize();\n    });\n  }\n  /**\n   * 最小化\n   */\n  private _minimize() {\n    //暂略\n  }\n  /**\n   * 最小化 还原\n   */\n  private _unminimize() {\n    //暂略\n  }\n  /**\n   * 收缩\n   */\n  protected _collapse() {\n    if (this.started !== true ||\n      this.state === WidgetState.closed ||\n      this.windowState === WidgetWindowState.maximized ||\n      this.windowState === WidgetWindowState.collapsed ||\n      this.windowState === WidgetWindowState.minimized) return;\n\n    let settings = this.options;\n    //隐藏收缩按钮 显示展开按钮\n    //隐藏这一堆。。。\n    let eles: Array<HTMLElement> = this.sspanel.nativeElement.querySelectorAll(\".sspanel_content, .sspanel_statusbar, .sspanel_resizer, .sspanel_titlebar_button_maximize, .sspanel_titlebar_button_minimize\");\n    eles.forEach((h, idx, arr) => {\n      this._render.setStyle(h, \"display\", \"none\");\n    });\n    this._saveCurrentSize();\n    let defSize = this._changeSize({\n      width: settings.collapsedWidth,\n      height: this._getBordersWidth(\"top\") + this._getBordersWidth(\"bottom\") + this.sspanel_titlebar.nativeElement.offsetHeight\n    });\n\n    return Promise.all([defSize]).then(() => {\n      this.windowState = WidgetWindowState.collapsed;\n      this.onCollapse();\n    });\n  }\n  /**\n   * 展开\n   */\n  protected _uncollapse() {\n    if (this.started != true || this.state === WidgetState.closed || this.windowState !== WidgetWindowState.collapsed) return;\n    let settings = this.options;\n    let defSize = this._restoreSavedSize();\n    //  隐藏展开按钮，显示手术按钮\n    //显示这些div\n    let eles: Array<HTMLElement> = this.sspanel.nativeElement.querySelectorAll(\".sspanel_content, .sspanel_statusbar, .sspanel_resizer, .sspanel_titlebar_button_maximize, .sspanel_titlebar_button_minimize\");\n    eles.forEach((h, idx, arr) => {\n      this._render.setStyle(h, \"display\", \"\");\n    });\n\n    return defSize.then(() => {\n      this.windowState = WidgetWindowState.normal;\n      this.onNormalize();\n    });\n  }\n  /**\n   * 最大化\n   */\n  public _buttonMax_Click(event) {\n    if (this.windowState !== WidgetWindowState.maximized) {\n      this._maximize();\n    } else {\n      this._unmaximize();\n    }\n    event.preventDefault();\n    event.stopPropagation();\n  }\n  public _buttonCollapse_Click(event) {\n    if (this.windowState !== WidgetWindowState.collapsed) {\n      this._collapse();\n    } else {\n      this._uncollapse();\n    }\n    event.preventDefault();\n    event.stopPropagation();\n  }\n  public _buttonMin_Click(event) {\n    if (this.windowState !== WidgetWindowState.minimized) {\n      this._minimize();\n    } else {\n      this._unminimize();\n    }\n    event.preventDefault();\n    event.stopPropagation();\n  }\n  /**\n   * **************************************************************************************************************************\n   * **************************************************************************************************************************\n   * **************************************************************************************************************************\n   */\n  /**setting*/\n\n  /**\n   * 打开组件设置窗口\n   * @returns \n   */\n  openWidgetSetting() {\n    if (!this.widget) {\n      this.widget = this.widgetManager.getWidgetById(this.widgetConfig.id).instance;\n    }\n    if (!this.widget) {\n      return;\n    }\n    this.widget.instance.openSetting();\n  }\n}","import { Component } from \"@angular/core\";\n\n@Component({\n    selector: \"epsgis-icon-uncollapsed\",\n    template: `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n                viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n                <g fill=\"none\">\n                <polyline points=\"1,3 9,3 5,8 1,3 9,3\"></polyline>\n                </g>\n            </svg>`,\n    styles: []\n})\nexport class IconUnCollapsedComponent {\n\n}","import { Component } from \"@angular/core\";\n\n@Component({\n    selector: \"epsgis-icon-collapsed\",\n    template: `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n            <g fill=\"none\">\n            <polyline points=\"1,7 9,7 5,2 1,7 9,7\"></polyline>\n            </g>\n            </svg>`,\n    styles: []\n})\nexport class IconCollapsedComponent {\n\n}","import { Component } from \"@angular/core\";\n\n@Component({\n    selector: \"epsgis-icon-unmaximize\",\n    template: `\n    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <rect x=\"1\" y=\"3\" height=\"6\" width=\"6\"></rect>\n                <line y1=\"3\" x1=\"3\" y2=\"1\" x2=\"3\"></line>\n                <line y1=\"1\" x1=\"2.5\" y2=\"1\" x2=\"9.5\"></line>\n                <line y1=\"1\" x1=\"9\" y2=\"7\" x2=\"9\"></line>\n                <line y1=\"7\" x1=\"9.5\" y2=\"7\" x2=\"7\"></line>\n              </g>\n    </svg>\n    `,\n    styles: []\n})\nexport class IconUnMaximizeComponent {\n\n}","import { Component } from \"@angular/core\";\n\n@Component({\n    selector: \"epsgis-icon-maximize\",\n    template: `\n    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <rect x=\"1\" y=\"1\" height=\"8\" width=\"8\"></rect>\n              </g>\n    </svg>\n    `,\n    styles: []\n})\nexport class IconMaximizeComponent {\n\n}","import { Component } from \"@angular/core\";\n\n@Component({\n    selector: \"epsgis-icon-close\",\n    template: `\n    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n            <g>\n              <line y2=\"0\" x2=\"10\" y1=\"10\" x1=\"0\"></line>\n              <line y2=\"10\" x2=\"10\" y1=\"0\" x1=\"0\"></line>\n            </g>\n    </svg>\n    `,\n    styles: []\n})\nexport class IconCloseComponent {\n\n}","import { Component, ElementRef, EventEmitter, Input, Output } from \"@angular/core\";\nimport { DefaultPanelOptions, PanelOptions } from \"../../models/base-panel\";\nimport { WidgetWindowState } from \"../../models/base-widget\";\n\n@Component({\n  selector: \"div[sspanel-titlebar]\",\n  template: `\n    <!-- 这影响样式 -->\n    <!-- <div class=\"sspanel_titlebar sspanel_titlebar_draggable\" #sspanel_titlebar\n      (mousedown)=\"_titlebarMouseDown($event);\"> -->\n      <ng-container *ngIf=\"hasIcon\">\n        <div class=\"icon\">\n          <img *ngIf=\"isShowImg\" [src]=\"icon\">\n          <i *ngIf=\"!isShowImg\" nz-icon [nzIconfont]=\"icon\"></i>\n        </div>\n      </ng-container>\n      <div class=\"sspanel_titlebar_text\"><span class=\"sspanel_titlebar_text_span\">{{options.title}}</span></div>\n      <div *ngIf=\"options.buttonSetting\" class=\"sspanel_titlebar_button sspanel_titlebar_button_setting\" title=\"{{options.buttonSettingText}}\" (click)=\"_buttonSettingClick($event);\">\n        <epsgis-icon-setting></epsgis-icon-setting>\n      </div>\n      <ng-container *ngIf=\"options.buttonCollapse\">\n        <ng-container *ngIf=\"windowState=='collapsed'; else showCollapsedButton\">\n          <div *ngIf=\"options.buttonCollapse\"  class=\"sspanel_titlebar_button sspanel_titlebar_button_uncollapse\" title=\"{{options.buttonUnCollapseText}}\"\n            (click)=\"_buttonCollapseClick($event);\">\n            <epsgis-icon-uncollapsed></epsgis-icon-uncollapsed>\n          </div>\n        </ng-container>\n        <ng-template #showCollapsedButton>\n          <div *ngIf=\"options.buttonCollapse\" class=\"sspanel_titlebar_button sspanel_titlebar_button_collapse\" title=\"{{options.buttonCollapseText}}\"\n            (click)=\"_buttonCollapseClick($event);\">\n            <epsgis-icon-collapsed></epsgis-icon-collapsed>\n          </div>\n        </ng-template>\n      </ng-container>\n      <ng-container *ngIf=\"options.buttonMaximize\">\n        <ng-container *ngIf=\"windowState == 'maximized'; else showMaximizeButton\">\n          <div *ngIf=\"options.buttonMaximize\" class=\"sspanel_titlebar_button sspanel_titlebar_button_unmaximize\" title=\"{{options.buttonUnmaximizeText}}\"\n            (click)=\"_buttonMaximizeClick($event);\">\n            <epsgis-icon-unmaximize></epsgis-icon-unmaximize>\n          </div>\n        </ng-container>\n        <ng-template #showMaximizeButton>\n          <div *ngIf=\"options.buttonMaximize\" class=\"sspanel_titlebar_button sspanel_titlebar_button_maximize\" title=\"{{options.buttonMaximizeText}}\"\n            (click)=\"_buttonMaximizeClick($event);\">\n            <epsgis-icon-maximize></epsgis-icon-maximize>\n            \n          </div>\n        </ng-template>\n      </ng-container>\n\n      <ng-container *ngIf=\"options.buttonClose\">\n        <div  *ngIf=\"options.buttonClose\" class=\"sspanel_titlebar_button sspanel_titlebar_button_close\" title=\"{{options.buttonCloseText}}\"\n          (click)=\"_buttonCloseClick($event);\">\n          <epsgis-icon-close></epsgis-icon-close>\n        </div>\n      </ng-container>\n    <!-- </div> -->\n    `,\n  styles: []\n})\nexport class PanelTitleBarComponent {\n  @Input() options: PanelOptions = DefaultPanelOptions;\n  @Input() hasIcon: boolean = false;\n  @Input() isShowImg: boolean;\n  @Input() icon: string;\n  @Input() windowState: WidgetWindowState;\n  @Output() onMouseDown = new EventEmitter();\n  @Output() onClickSetting = new EventEmitter();\n  @Output() onClickCollapse = new EventEmitter();\n  @Output() onClickMaximize = new EventEmitter();\n  @Output() onClickClose = new EventEmitter();\n\n  // @ViewChild(\"sspanel_titlebar\", { static: true }) _sspanelTitlebar: ElementRef;\n  constructor(private ele: ElementRef) {\n    this.ele.nativeElement.onmousedown = (evt) => {\n      this._titlebarMouseDown(evt)\n    }\n  }\n  get nativeElement() {\n    return this.ele.nativeElement;\n    // if (this._sspanelTitlebar) {\n    //   return this._sspanelTitlebar.nativeElement;\n    // }\n    // return null;\n  }\n  _titlebarMouseDown(evt) {\n    if (this.onMouseDown.observers.length >= 1) {\n      this.onMouseDown.emit(evt);\n    }\n  }\n  _buttonSettingClick(evt) {\n    if (this.onClickSetting.observers.length >= 1) {\n      this.onClickSetting.emit(evt);\n    }\n  }\n  _buttonCollapseClick(evt) {\n    if (this.onClickCollapse.observers.length >= 1) {\n      this.onClickCollapse.emit(evt);\n    }\n  }\n  _buttonMaximizeClick(evt) {\n    if (this.onClickMaximize.observers.length >= 1) {\n      this.onClickMaximize.emit(evt);\n    }\n  }\n  _buttonCloseClick(evt) {\n    if (this.onClickClose.observers.length >= 1) {\n      this.onClickClose.emit(evt);\n    }\n  }\n}\n/*\n<div class=\"sspanel_titlebar sspanel_titlebar_draggable\" #sspanel_titlebar\n      (mousedown)=\"_titlebar_MouseDown($event);\">\n      <ng-container *ngIf=\"panelIcon\">\n        <div class=\"icon\">\n          <img *ngIf=\"panelIcon.isShowImg\" [src]=\"panelIcon.icon\">\n          <i *ngIf=\"!panelIcon.isShowImg\" nz-icon [nzIconfont]=\"panelIcon.icon\"></i>\n        </div>\n      </ng-container>\n      <div class=\"sspanel_titlebar_text\"><span class=\"sspanel_titlebar_text_span\">{{options.title}}</span></div>\n      <div class=\"sspanel_titlebar_button sspanel_titlebar_button_setting\" title=\"设置\" (click)=\"openWidgetSetting();\">\n        <epsgis-icon-setting></epsgis-icon-setting>\n      </div>\n      <ng-container *ngIf=\"options.buttonCollapse\">\n        <ng-container *ngIf=\"windowState=='collapsed'; else showCollapsedButton\">\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_uncollapse\" title=\"{{options.buttonUnCollapseText}}\"\n            (click)=\"_buttonCollapse_Click($event);\">\n            <epsgis-icon-uncollapsed></epsgis-icon-uncollapsed>\n          </div>\n        </ng-container>\n        <ng-template #showCollapsedButton>\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_collapse\" title=\"{{options.buttonCollapseText}}\"\n            (click)=\"_buttonCollapse_Click($event);\">\n            <epsgis-icon-collapsed></epsgis-icon-collapsed>\n          </div>\n        </ng-template>\n      </ng-container>\n      <ng-container *ngIf=\"options.buttonMaximize\">\n        <ng-container *ngIf=\"windowState == 'maximized'; else showMaximizeButton\">\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_unmaximize\" title=\"{{options.buttonUnmaximizeText}}\"\n            (click)=\"_buttonMax_Click($event);\">\n            <epsgis-icon-unmaximize></epsgis-icon-unmaximize>\n          </div>\n        </ng-container>\n        <ng-template #showMaximizeButton>\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_maximize\" title=\"{{options.buttonMaximizeText}}\"\n            (click)=\"_buttonMax_Click($event);\">\n            <epsgis-icon-maximize></epsgis-icon-maximize>\n\n          </div>\n        </ng-template>\n      </ng-container>\n\n      <ng-container *ngIf=\"options.buttonClose\">\n        <div class=\"sspanel_titlebar_button sspanel_titlebar_button_close\" title=\"{{options.buttonCloseText}}\"\n          (click)=\"closePanel($event);\">\n          <epsgis-icon-close></epsgis-icon-close>\n        </div>\n      </ng-container>\n    </div>\n    */","import { BasePanelComponent } from '../base-panel/base-panel.component';\nimport { Component, OnInit, Renderer2, Optional, ChangeDetectorRef } from '@angular/core';\nimport { ComponentRegister } from '../../decorator/component-register.decorator';\n// import {trigger, state, style, animate, transition} from '@angular/animations';\n/**\n * create by ruir 191014  OnScreenWidgetPanel.js\n */\n@ComponentRegister({\n  uri: \"epsgis-on-screen-widget-panel\",\n  path: \"components/on-screen-widget-panel\"\n})\n@Component({\n  selector: 'epsgis-on-screen-widget-panel',\n  templateUrl: './on-screen-widget-panel.component.html',\n  styleUrls: ['./on-screen-widget-panel.component.scss']\n  // ,animations:[\n  //   trigger(\"panelresize\",[\n  //     transition(\"* => *\",animate(500))\n  //   ])\n  // ]\n})\nexport class OnScreenWidgetPanelComponent extends BasePanelComponent implements OnInit {\n\n  constructor(@Optional() _render: Renderer2, @Optional() public cdr: ChangeDetectorRef) {\n    super(_render, cdr);\n  }\n  ngOnInit() { super.ngOnInit(); }\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n  }\n}\n","<div class=\"sspanel_overlay\" #sspanel_overlay>\n  <div class=\"sspanel\" #sspanel id=\"{{options.id}}\" [ngStyle]=\"position\">\n    <!-- <epsgis-panel-titlebar #sspanel_titlebar [hasIcon]=\"false\" [options]=\"options\" [windowState]=\"windowState\"\n      (onMouseDown)=\"_titlebar_MouseDown($event)\" (onClickSetting)=\"openWidgetSetting()\"\n      (onClickCollapse)=\"_buttonCollapse_Click($event)\" (onClickMaximize)=\"_buttonMax_Click($event)\"\n      (onClickClose)=\"closePanel($event)\">\n    </epsgis-panel-titlebar> -->\n    <div sspanel-titlebar  #sspanel_titlebar  class=\"sspanel_titlebar sspanel_titlebar_draggable\" [hasIcon]=\"false\" [options]=\"options\" [windowState]=\"windowState\"\n      (onMouseDown)=\"_titlebar_MouseDown($event)\" (onClickSetting)=\"openWidgetSetting()\"\n      (onClickCollapse)=\"_buttonCollapse_Click($event)\" (onClickMaximize)=\"_buttonMax_Click($event)\"\n      (onClickClose)=\"closePanel($event)\"></div>\n    <div class=\"sspanel_content\" (click)=\"_contentClick($event);\">\n      <ng-template #widget_content></ng-template>\n    </div>\n    <div class=\"sspanel_resizer sspanel_resizer_top\"\n      (mousedown)=\"_resizer_MouseDown($event,{dimension:'height',directionY:'top'});\"></div>\n    <div class=\"sspanel_resizer sspanel_resizer_bottom\"\n      (mousedown)=\"_resizer_MouseDown($event,{dimension:'height',directionY:'bottom'});\"></div>\n    <div class=\"sspanel_resizer sspanel_resizer_left\"\n      (mousedown)=\"_resizer_MouseDown($event,{dimension:'width',directionX:'left'});\"></div>\n    <div class=\"sspanel_resizer sspanel_resizer_right\"\n      (mousedown)=\"_resizer_MouseDown($event,{dimension:'width',directionX:'right'});\"></div>\n    <div class=\"sspanel_resizer sspanel_resizer_topleft\"\n      (mousedown)=\"_resizer_MouseDown($event,{dimension:'both',directionX:'left',directionY:'top'});\"></div>\n    <div class=\"sspanel_resizer sspanel_resizer_topright\"\n      (mousedown)=\"_resizer_MouseDown($event,{dimension:'both',directionX:'right',directionY:'top'});\"></div>\n    <div class=\"sspanel_resizer sspanel_resizer_bottomleft\"\n      (mousedown)=\"_resizer_MouseDown($event,{dimension:'both',directionX:'left',directionY:'bottom'});\"></div>\n    <div class=\"sspanel_resizer sspanel_resizer_bottomright\"\n      (mousedown)=\"_resizer_MouseDown($event,{dimension:'both',directionX:'right',directionY:'bottom'});\"></div>\n  </div>\n</div>\n<div class=\"sspanel_minplaceholder\"></div>","import { Optional, Renderer2, ElementRef, ViewChild, ChangeDetectorRef, Directive } from '@angular/core';\nimport { BasePanelComponent } from '../base-panel/base-panel.component';\nimport { PanelDockMode } from '../../models/base-panel';\n\n/**\n * \n */\n@Directive()\nexport class BaseDockablePanelComponent extends BasePanelComponent {\n\n    //20200604 ruir 改为了100，“这里9999导致modal那边要设置大于9999，然后导致ngzorro的控件被挡住”，具体值需要后面再斟酌\n    zIndex: number = 100;// 9999;\n    /**\n     * panel是否收缩\n     */\n    _isCollapse: boolean = false;\n    @ViewChild(\"center_collapse\", { static: true }) sspanel_center_collapse: ElementRef;\n    constructor(@Optional() public _render: Renderer2, @Optional() public cdr: ChangeDetectorRef) {\n        super(_render, cdr);\n        this.moveTopOnActive = false;\n    }\n\n    get mapBounds() {\n\n        var rect = this.commonService.getElementBounds(this.commonService.getComponentRootNode(this.mapManager.comRefMap));\n        //获取map实际top、left：减去外包与maptop设置的值\n        rect.top = rect.top - this._getMapTop();\n        rect.left = rect.left - this._getMapLeft();\n        //rect.width=rect.width+this._getMapLeft();\n        return rect;\n    }\n    /////获取map实际top值\n    _getMapTop() {\n        var ele = this.commonService.getComponentRootNode(this.mapManager.comRefMap);\n        const rect = ele.getBoundingClientRect();\n        let mapSettingTop: string = \"0\";\n        if (this.widgetManager.appConfig.map.position && this.widgetManager.appConfig.map.position.top)\n            mapSettingTop = this.widgetManager.appConfig.map.position.top;\n        let chv: number = parseFloat(this.commonService.getPxNumber(mapSettingTop).toString());\n        const mapTop = rect.top - chv;//获取实际top值\n        return mapTop;\n    }\n    /////获取map实际left值\n    _getMapLeft() {\n        var ele = this.commonService.getComponentRootNode(this.mapManager.comRefMap);\n        const rect = ele.getBoundingClientRect();\n        var mapSettingLeft = 0;\n        if (this.widgetManager.appConfig.map.position && this.widgetManager.appConfig.map.position.left)\n            mapSettingLeft = this.widgetManager.appConfig.map.position.left;\n        var chv: number = parseFloat(this.commonService.getPxNumber(mapSettingLeft).toString());\n        const mapLeft = rect.left - chv;//获取实际left值\n        return mapLeft;\n    }\n    /**\n     * \n     */\n    ngOnInit() {\n        super.ngOnInit();\n    }\n    /**\n     * \n     */\n    ngAfterViewInit(): void {\n        super.ngAfterViewInit();\n    }\n    /**\n     * \n     */\n    ngOnDestroy() {\n        super.ngOnDestroy();\n    }\n    protected _setPCPosition() {\n        this.widgetConfig.position.zIndex = this.zIndex;\n        super._setPCPosition();\n    }\n    onMove() {\n        //移动时 同时修正其他组件位置，比如已经打开了的panel\n        super.onMove();\n    }\n    onClose() {\n        //关闭时 还原其他组件位置\n        super.onClose();\n    }\n    /**\n     * 当panel大小改变时，改变map的位置\n     */\n    _resizeMapWhenResize() {\n        switch (this.dockMode) {\n            case PanelDockMode.left:\n                this.mapManager.changeMapPosition({ left: this.commonService.getPx(this.currentSize.width) });\n                break;\n            case PanelDockMode.bottom:\n                this.mapManager.changeMapPosition({ bottom: this.commonService.getPx(this.currentSize.height) });\n                break;\n            case PanelDockMode.right:\n                this.mapManager.changeMapPosition({ right: this.commonService.getPx(this.currentSize.width) });\n                break;\n\n            default:\n                break;\n        }\n    }\n    /**\n     * 当panel关闭或隐藏时，改变map的位置\n     */\n    _resizeMapWhenClose() {\n        switch (this.dockMode) {\n            case PanelDockMode.left:\n                // this.mapManager.restorePosition();\n                //只需改变left？\n                this.mapManager.changeMapPosition({ left: this.commonService.getPx(this.mapManager.originMapPosition.left) });\n                break;\n            case PanelDockMode.bottom:\n                // this.mapManager.restorePosition();\n                //只需改bottom\n                this.mapManager.changeMapPosition({ bottom: this.commonService.getPx(this.mapManager.originMapPosition.bottom) });\n                break;\n            case PanelDockMode.right:\n                // this.mapManager.restorePosition();\n                this.mapManager.changeMapPosition({ right: this.commonService.getPx(this.mapManager.originMapPosition.right) });\n                break;\n            default:\n                break;\n        }\n    }\n    showPanel() {\n        this.__expand(false);\n        super.showPanel();\n    }\n    hidePanel() {\n        this.__collapse(false);\n        super.hidePanel();\n    }\n    private __collapse(runOnClose: boolean) {\n        const _eleSvg = this.sspanel_center_collapse.nativeElement.querySelector(\"svg\");\n        if (this.dockMode === PanelDockMode.left) {\n            //super._convertToStyleVal(this.currentSize.width)\n            const _left = - this.commonService.getElementBounds(this.sspanel.nativeElement).width;\n            this._render.setStyle(this.sspanel.nativeElement, \"left\", _left + \"px\");\n            //this._render.setStyle(this.sspanel.nativeElement, \"display\", \"none\");\n            // this._render.setStyle(this.sspanel.nativeElement, \"z-index\", -this.zIndex);\n        } else if (this.dockMode === PanelDockMode.bottom) {\n            const _bottom = - this.commonService.getElementBounds(this.sspanel.nativeElement).height;\n            this._render.setStyle(this.sspanel.nativeElement, \"bottom\", _bottom + \"px\");\n        } else if (this.dockMode === PanelDockMode.right) {\n            const _right = - this.commonService.getElementBounds(this.sspanel.nativeElement).width;\n            this._render.setStyle(this.sspanel.nativeElement, \"right\", _right + \"px\");\n        }\n        this._render.addClass(_eleSvg, \"expand\");\n        //原生 this.sspanel.nativeElement.querySelector(\"svg\").classList.add(\"expand\")\n        // if (runOnClose) {\n        //     this.onClose();\n        // }\n        this._resizeMapWhenClose();\n        this._isCollapse = true;\n    }\n    private __expand(runOnOpen: boolean) {\n        const _eleSvg = this.sspanel_center_collapse.nativeElement.querySelector(\"svg\");\n        if (this.dockMode === PanelDockMode.left) {\n            this._render.setStyle(this.sspanel.nativeElement, \"left\", \"0px\");//super._convertToStyleVal(this.currentPosition.left)\n            //this._render.setStyle(this.sspanel.nativeElement, \"display\", \"\");\n            // this._render.setStyle(this.sspanel.nativeElement, \"z-index\", this.zIndex);\n        } else if (this.dockMode === PanelDockMode.bottom) {\n            this._render.setStyle(this.sspanel.nativeElement, \"bottom\", \"0px\");\n        } else if (this.dockMode === PanelDockMode.right) {\n            this._render.setStyle(this.sspanel.nativeElement, \"right\", \"0px\");\n        }\n        this._render.removeClass(_eleSvg, \"expand\");\n        //原生 this.sspanel.nativeElement.querySelector(\"svg\").classList.remove(\"expand\")\n        // if (runOnOpen) {\n        //     this.onOpen();\n        // }\n        this._resizeMapWhenResize();\n        this._isCollapse = false;\n    }\n    /**\n     * 折叠panel\n     */\n    collapsePanel(evt) {\n        //记录当前的left\n        //隐藏panel\n        //改变地图位置\n        //转换图标\n        //改变style时，是否要改变position值？\n        if (this._isCollapse) {\n            this.__expand(false);//true\n        } else {\n            this.__collapse(false);//true\n        }\n\n    }\n}","import { Component, OnInit, Renderer2, Optional, ChangeDetectorRef } from '@angular/core';\nimport { PanelDockMode, PanelOptions } from '../../../models/base-panel';\nimport * as _ from 'lodash';\nimport { BaseDockablePanelComponent } from '../base-dockable-panel';\nimport { ComponentRegister } from '../../../decorator/component-register.decorator';\n\n@ComponentRegister({\n  uri: 'epsgis-dockable-panel-at-bottom',\n  path: \"components/ex-panels/dockable-panel-at-bottom\"\n})\n@Component({\n  selector: 'epsgis-dockable-panel-at-bottom',\n  templateUrl: './dockable-panel-at-bottom.component.html',\n  styleUrls: ['./dockable-panel-at-bottom.component.scss'],\n})\nexport class DockablePanelAtBottomComponent extends BaseDockablePanelComponent {\n\n  constructor(@Optional() public _render: Renderer2,@Optional() public cdr:ChangeDetectorRef) {\n    super(_render,cdr);\n    this.dockMode = PanelDockMode.bottom;\n  }\n \n  ngOnInit() {\n\n    // this.eventService.rss.on(this.eventService._mapPositionChanged, (pos) => {\n    //   //主要是left和width变化\n    //   this.widgetConfig.position = _.merge(this.widgetConfig.position, {\n    //     left: this.mapBounds.left,\n    //     width: this.mapBounds.width\n    //   });\n    //   this._render.setStyle(this.sspanel.nativeElement, \"left\", this._convertToStyleVal(this.mapBounds.left));\n    //   this._render.setStyle(this.sspanel.nativeElement, \"width\", this._convertToStyleVal(this.mapBounds.width));\n    // });\n    super.ngOnInit();\n  }\n  /**\n   * 设置panel参数\n   * @param options \n   */\n  setOptions(options: PanelOptions) {\n    options.modal = false;\n    options.draggable = false;\n    options.buttonClose = true;\n    options.buttonCollapse = false;\n    options.buttonMaximize = false;\n    options.buttonMinimize = false;\n    options.centerCollapse=true;\n    options.dockSide = PanelDockMode.bottom;\n    super.setOptions(options);\n  }\n  protected _setPCPosition() {\n    this.widgetConfig.position = _.merge(this.widgetConfig.position, {\n      // left: 0,\n      left: this.mapBounds.left,\n      top: \"auto\",\n      bottom: 0,\n      right: 0,\n      // width: \"100%\"\n      width: this.mapBounds.width\n    });\n    super._setPCPosition();\n\n  }\n  onResize() {\n    super._resizeMapWhenResize();\n    super.onResize();\n  }\n  onOpen() {\n    super._resizeMapWhenResize();\n    super.onOpen();\n  }\n  onClose() {\n    super._resizeMapWhenClose();\n    super.onClose();\n  }\n  resize() {\n    //主要是left和width变化\n    this.widgetConfig.position = _.merge(this.widgetConfig.position, {\n      left: this.mapBounds.left,\n      width: this.mapBounds.width\n    });\n    this._render.setStyle(this.sspanel.nativeElement, \"left\", this._convertToStyleVal(this.mapBounds.left));\n    this._render.setStyle(this.sspanel.nativeElement, \"width\", this._convertToStyleVal(this.mapBounds.width));\n  }\n}","<div class=\"sspanel_overlay\" #sspanel_overlay style=\"display: none;\">\n\n</div>\n<div class=\"sspanel\" #sspanel id=\"{{options.id}}\" [ngClass]=\"{'notitle':options.showTitle===false}\"\n  [ngStyle]=\"position\">\n  \n  <div sspanel-titlebar  #sspanel_titlebar  class=\"sspanel_titlebar sspanel_titlebar_draggable\" [hasIcon]=\"false\" [options]=\"options\" [windowState]=\"windowState\"\n      (onClickSetting)=\"openWidgetSetting()\" (onClickClose)=\"closePanel($event)\"></div>\n  <!--\n  <div class=\"sspanel_titlebar\" #sspanel_titlebar (mousedown)=\"_titlebar_MouseDown($event);\">\n    <ng-container *ngIf=\"panelIcon\">\n      <div class=\"icon\">\n        <img *ngIf=\"panelIcon.isShowImg\" [src]=\"panelIcon.icon\">\n        <i *ngIf=\"!panelIcon.isShowImg\" nz-icon [nzIconfont]=\"panelIcon.icon\"></i>\n      </div>\n    </ng-container>\n    <div class=\"sspanel_titlebar_text\"><span class=\"sspanel_titlebar_text_span\">{{options.title}}</span></div>\n\n    <ng-container *ngIf=\"options.buttonClose\">\n      <div class=\"sspanel_titlebar_button sspanel_titlebar_button_close\" title=\"{{options.buttonCloseText}}\"\n        (click)=\"closePanel($event);\">\n        <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n          <g>\n            <line y2=\"0\" x2=\"10\" y1=\"10\" x1=\"0\"></line>\n            <line y2=\"10\" x2=\"10\" y1=\"0\" x1=\"0\"></line>\n          </g>\n        </svg>\n      </div>\n    </ng-container>\n  </div>\n-->\n  <div class=\"sspanel_content\" (click)=\"_contentClick($event);\">\n    <ng-template #widget_content></ng-template>\n  </div>\n  <div class=\"sspanel_resizer sspanel_resizer_top\"\n    (mousedown)=\"_resizer_MouseDown($event,{dimension:'height',directionY:'top'});\"></div>\n  <div #center_collapse class=\"collapse\" [ngStyle]=\"{'display':options.centerCollapse ? 'block' : 'none' }\"\n    (click)=\"collapsePanel($event);\">\n    <!-- <epsgis-icon-arrow-down></epsgis-icon-arrow-down> -->\n    <svg t=\"1575033841131\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n      p-id=\"16367\" width=\"16\" height=\"16\">\n      <path\n        d=\"M128.759037 245.033739l383.064442 383.064442 388.096039-388.097062 0.033769 0.070608c13.138228-12.709463 31.024597-20.528546 50.730405-20.528546 40.377616 0 73.114205 32.736589 73.114205 73.115228 0 19.705807-7.820106 37.591153-20.530592 50.730405l0.035816 0.034792-438.681134 438.685227-0.035816-0.035816c-13.280468 13.780865-31.915897 22.3838-52.585659 22.3838-0.071631 0-0.107447 0-0.178055 0-0.072655 0-0.10847 0-0.146333 0-20.669762 0-39.341007-8.601912-52.621475-22.3838l-0.035816 0.035816L20.336676 343.425653l0.179079-0.179079c-12.565177-13.139252-20.313651-30.951943-20.313651-50.587142 0-40.378639 32.736589-73.115228 73.114205-73.115228C95.485213 219.544205 115.334283 229.432413 128.759037 245.033739z\"\n        p-id=\"16368\" fill=\"#bababa\"></path>\n    </svg>\n  </div>\n</div>","import { Component, OnInit, Optional, Renderer2, ChangeDetectorRef } from '@angular/core';\nimport { PanelDockMode, PanelOptions } from '../../../models/base-panel';\nimport * as _ from 'lodash';\nimport { BaseDockablePanelComponent } from '../base-dockable-panel';\nimport { ComponentRegister } from '../../../decorator/component-register.decorator';\n\n@ComponentRegister({\n  uri: 'epsgis-dockable-panel-at-right',\n  path: \"components/ex-panels/dockable-panel-at-right\"\n})\n@Component({\n  selector: 'epsgis-dockable-panel-at-right',\n  templateUrl: './dockable-panel-at-right.component.html',\n  styleUrls: ['./dockable-panel-at-right.component.scss'],\n})\nexport class DockablePanelAtRightComponent extends BaseDockablePanelComponent implements OnInit {\n\n  constructor(@Optional() public _render: Renderer2,@Optional() public cdr:ChangeDetectorRef) {\n    super(_render,cdr);\n    this.dockMode = PanelDockMode.right;\n  }\n\n  /**\n   * 设置panel参数\n   * @param options \n   */\n  setOptions(options: PanelOptions) {\n    options.modal = false;\n    options.draggable = false;\n    options.buttonClose = false;\n    options.buttonCollapse = false;\n    options.buttonMaximize = false;\n    options.buttonMinimize = false;\n    options.centerCollapse=true;\n    options.dockSide = PanelDockMode.right;\n    super.setOptions(options);\n  }\n  protected _setPCPosition() {\n    this.widgetConfig.position = _.merge(this.widgetConfig.position, {\n      left: \"auto\",\n      // top: 0,\n      top: this.mapBounds.top,\n      bottom: 0,\n      right: 0,\n      //height: \"100%\"\n      height: \"auto\"\n    });\n    super._setPCPosition();\n  }\n  onResize() {\n    super._resizeMapWhenResize();\n    super.onResize();\n  }\n  onOpen() {\n    super._resizeMapWhenResize();\n    super.onOpen();\n  }\n  onClose() {\n    super._resizeMapWhenClose();\n    super.onClose();\n  }\n  resize() {\n\n  }\n}","<div class=\"sspanel_overlay\" #sspanel_overlay style=\"display: none;\">\n\n</div>\n<div class=\"sspanel\" #sspanel id=\"{{options.id}}\" [ngClass]=\"{'notitle':options.showTitle===false}\"\n  [ngStyle]=\"position\">\n  <div sspanel-titlebar  #sspanel_titlebar  class=\"sspanel_titlebar sspanel_titlebar_draggable\" [hasIcon]=\"false\" [options]=\"options\" [windowState]=\"windowState\"\n  (onClickSetting)=\"openWidgetSetting()\" (onClickClose)=\"closePanel($event)\"></div>\n  <!-- <div class=\"sspanel_titlebar\" #sspanel_titlebar (mousedown)=\"_titlebar_MouseDown($event);\">\n    <ng-container *ngIf=\"panelIcon\">\n      <div class=\"icon\">\n        <img *ngIf=\"panelIcon.isShowImg\" [src]=\"panelIcon.icon\">\n        <i *ngIf=\"!panelIcon.isShowImg\" nz-icon [nzIconfont]=\"panelIcon.icon\"></i>\n      </div>\n    </ng-container>\n    <div class=\"sspanel_titlebar_text\"><span class=\"sspanel_titlebar_text_span\">{{options.title}}</span></div>\n\n    <ng-container *ngIf=\"options.buttonClose\">\n      <div class=\"sspanel_titlebar_button sspanel_titlebar_button_close\" title=\"{{options.buttonCloseText}}\"\n        (click)=\"closePanel($event);\">\n        <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n          <g>\n            <line y2=\"0\" x2=\"10\" y1=\"10\" x1=\"0\"></line>\n            <line y2=\"10\" x2=\"10\" y1=\"0\" x1=\"0\"></line>\n          </g>\n        </svg></div>\n    </ng-container>\n  </div> -->\n  <div class=\"sspanel_content\" (click)=\"_contentClick($event);\">\n    <ng-template #widget_content></ng-template>\n  </div>\n  <div class=\"sspanel_resizer sspanel_resizer_left\"\n    (mousedown)=\"_resizer_MouseDown($event,{dimension:'width',directionX:'left'});\"></div>\n  <div #center_collapse class=\"collapse\" [ngStyle]=\"{'display':options.centerCollapse ? 'block' : 'none' }\"\n    (click)=\"collapsePanel($event);\">\n    <!-- <epsgis-icon-arrow-right></epsgis-icon-arrow-right> -->\n    <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\" height=\"16\">\n      <path\n        d=\"M245.034251 895.239428l383.063419-383.063419L240.001631 124.07997l0.070608-0.033769c-12.709463-13.137205-20.530592-31.024597-20.530592-50.731428 0-40.376593 32.736589-73.111135 73.115228-73.111135 19.705807 0 37.591153 7.819083 50.730405 20.528546l0.034792-0.035816 438.686251 438.681134-0.035816 0.034792c13.779841 13.281491 22.3838 31.915897 22.3838 52.586682 0 0.071631 0 0.106424 0 0.178055 0 0.072655 0 0.10847 0 0.144286 0 20.669762-8.603959 39.341007-22.3838 52.623521l0.035816 0.033769L343.426165 1003.661789l-0.180102-0.179079c-13.140275 12.565177-30.950919 20.313651-50.588165 20.313651-40.378639 0-73.115228-32.736589-73.115228-73.114205C219.544717 928.512229 229.432924 908.664182 245.034251 895.239428z\"\n        fill=\"#bababa\"></path>\n    </svg>\n  </div>\n</div>","import { Component, OnInit, Optional, Renderer2, ChangeDetectorRef } from '@angular/core';\nimport * as _ from 'lodash';\nimport { ComponentRegister } from '../../../decorator/component-register.decorator';\nimport { PanelDockMode, PanelOptions } from '../../../models/base-panel';\nimport { BaseDockablePanelComponent } from '../base-dockable-panel';\n\n@ComponentRegister({\n  uri: 'epsgis-dockable-panel-at-left',\n  path: \"components/ex-panels/dockable-panel-at-left\"\n})\n@Component({\n  selector: 'epsgis-dockable-panel-at-left',\n  templateUrl: './dockable-panel-at-left.component.html',\n  styleUrls: ['./dockable-panel-at-left.component.scss'],\n})\nexport class DockablePanelAtLeftComponent extends BaseDockablePanelComponent {\n  constructor(@Optional() public _render: Renderer2,@Optional() public cdr:ChangeDetectorRef) {\n    super(_render,cdr);\n    this.dockMode = PanelDockMode.left;\n  }\n\n  /**\n   * \n   */\n  ngOnInit() {\n    super.ngOnInit();\n  }\n  /**\n   * \n   */\n  ngAfterViewInit(): void {\n    super.ngAfterViewInit();\n  }\n  /**\n   * \n   */\n  ngOnDestroy() {\n    super.ngOnDestroy();\n  }\n  /**\n * 设置panel参数\n * @param options \n */\n  setOptions(options: PanelOptions) {\n    options.modal = false;\n    options.draggable = false;\n    options.buttonClose = false;\n    options.buttonCollapse = false;\n    options.buttonMaximize = false;\n    options.buttonMinimize = false;\n    options.centerCollapse=true;\n    options.dockSide = PanelDockMode.left;\n    super.setOptions(options);\n  }\n  protected _setPCPosition() {\n    this.widgetConfig.position = _.merge(this.widgetConfig.position, {\n      left: 0,\n      top: this.mapBounds.top,\n      bottom: 0,\n      right: 0,\n      // height: \"100%\"\n      height: \"auto\"\n    });\n    super._setPCPosition();\n  }\n  onResize() {\n    super._resizeMapWhenResize();\n    super.onResize();\n  }\n  onOpen() {\n    super._resizeMapWhenResize();\n    super.onOpen();\n  }\n  onClose() {\n    super._resizeMapWhenClose();\n    super.onClose();\n  }\n  resize() {\n\n  }\n}\n","<div class=\"sspanel_overlay\" #sspanel_overlay style=\"display: none;\">\n\n</div>\n<div class=\"sspanel\" #sspanel id=\"{{options.id}}\" [ngClass]=\"{'notitle':options.showTitle===false}\"\n  [ngStyle]=\"position\">\n  <!-- <epsgis-panel-titlebar #sspanel_titlebar [hasIcon]=\"false\" [options]=\"options\" [windowState]=\"windowState\"\n    (onMouseDown)=\"_titlebar_MouseDown($event)\" (onClickSetting)=\"openWidgetSetting()\"\n    (onClickClose)=\"closePanel($event)\">\n  </epsgis-panel-titlebar> -->\n  <div sspanel-titlebar  #sspanel_titlebar  class=\"sspanel_titlebar sspanel_titlebar_draggable\" [hasIcon]=\"false\" [options]=\"options\" [windowState]=\"windowState\"\n     (onClickSetting)=\"openWidgetSetting()\" (onClickClose)=\"closePanel($event)\"></div>\n  <!-- <div class=\"sspanel_titlebar\" #sspanel_titlebar (mousedown)=\"_titlebar_MouseDown($event);\">\n    <ng-container *ngIf=\"panelIcon\">\n      <div class=\"icon\">\n        <img *ngIf=\"panelIcon.isShowImg\" [src]=\"panelIcon.icon\">\n        <i *ngIf=\"!panelIcon.isShowImg\" nz-icon [nzIconfont]=\"panelIcon.icon\"></i>\n      </div>\n    </ng-container>\n    <div class=\"sspanel_titlebar_text\"><span class=\"sspanel_titlebar_text_span\">{{options.title}}</span></div>\n\n    <ng-container *ngIf=\"options.buttonClose\">\n      <div class=\"sspanel_titlebar_button sspanel_titlebar_button_close\" title=\"{{options.buttonCloseText}}\"\n        (click)=\"closePanel($event);\">\n        <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n          <g>\n            <line y2=\"0\" x2=\"10\" y1=\"10\" x1=\"0\"></line>\n            <line y2=\"10\" x2=\"10\" y1=\"0\" x1=\"0\"></line>\n          </g>\n        </svg></div>\n    </ng-container>\n  </div> -->\n  <div class=\"sspanel_content\" (click)=\"_contentClick($event);\">\n    <ng-template #widget_content></ng-template>\n  </div>\n  <div class=\"sspanel_resizer sspanel_resizer_right\"\n    (mousedown)=\"_resizer_MouseDown($event,{dimension:'width',directionX:'right'});\"></div>\n  <div #center_collapse [ngStyle]=\"{'display':options.centerCollapse ? 'block' : 'none' }\" class=\"collapse\"\n    (click)=\"collapsePanel($event);\">\n    <!-- <epsgis-icon-arrow-left></epsgis-icon-arrow-left> -->\n    <!--hover样式有问题，后面再调-->\n    <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\" height=\"16\">\n      <path\n        d=\"M778.965749 128.759549l-383.064442 383.063419 388.097062 388.096039-0.070608 0.033769c12.709463 13.137205 20.529569 31.024597 20.529569 50.731428 0 40.376593-32.736589 73.112158-73.115228 73.112158-19.705807 0-37.591153-7.819083-50.730405-20.528546l-0.034792 0.035816L241.890654 564.622498l0.035816-0.035816c-13.779841-13.281491-22.3838-31.915897-22.3838-52.585659 0-0.071631 0-0.106424 0-0.178055 0-0.072655 0-0.10847 0-0.144286 0-20.669762 8.603959-39.341007 22.3838-52.622498l-0.035816-0.034792L680.573835 20.337187l0.180102 0.179079c13.139252-12.5662 30.950919-20.313651 50.587142-20.313651 40.378639 0 73.115228 32.736589 73.115228 73.114205C804.455283 95.485725 794.567076 115.334795 778.965749 128.759549z\"\n        fill=\"#bababa\"></path>\n    </svg>\n  </div>\n</div>","import { Optional, Renderer2, ChangeDetectorRef, Directive } from '@angular/core';\nimport { BasePanelComponent } from '../base-panel/base-panel.component';\nimport * as _ from 'lodash';\n\n/**\n * \n */\n@Directive()\nexport class BaseMobilePanelComponent extends BasePanelComponent {\n\n    zIndex: number = 9999;\n\n    constructor(@Optional() public _render: Renderer2,@Optional() public cdr:ChangeDetectorRef) {\n        super(_render,cdr);\n        this.moveTopOnActive = false;\n    }\n    /**\n     * \n     */\n    ngOnInit() {\n        super.ngOnInit();\n    }\n    /**\n     * \n     */\n    ngAfterViewInit(): void {\n        super.ngAfterViewInit();\n    }\n    /**\n     * \n     */\n    ngOnDestroy() {\n        super.ngOnDestroy();\n    }\n    setOptions(options) {\n        if (this.widgetConfig && this.widgetConfig.mobile) {\n            _.merge(options, this.widgetConfig.mobile);\n        }\n        super.setOptions(options);\n    }\n    protected getWidthHeight() {\n        let { width, height } = this.widgetConfig.position;\n        if (this.widgetConfig.mobile\n            && this.widgetConfig.mobile.position) {\n            //暂支持高宽可设置\n            width = this.widgetConfig.mobile.position.width;\n            height = this.widgetConfig.mobile.position.height;\n        }\n        let _w = this.commonService.getPxNumber(width),\n            _h = this.commonService.getPxNumber(height);\n        if (typeof _w === \"number\") {\n            if (_w <= 0 || _w > innerWidth) {\n                _w = \"100%\"\n            }\n        }\n        if (typeof _h === \"number\") {\n            if (_h <= 0 || _w > innerHeight) {\n                _h = \"100%\"\n            }\n        }\n        return { width: _w, height: _h };\n    }\n}\n","<div class=\"sspanel_overlay\" #sspanel_overlay>\n  <div class=\"sspanel\" #sspanel id=\"{{options.id}}\" [ngStyle]=\"position\">\n    <div *ngIf=\"options.showTitle\" class=\"sspanel_titlebar sspanel_titlebar_draggable\" #sspanel_titlebar\n      (mousedown)=\"_titlebar_MouseDown($event);\">\n      <div class=\"sspanel_titlebar_text\">\n        {{options.title}}</div>\n\n      <ng-container *ngIf=\"options.buttonMaximize\">\n        <ng-container *ngIf=\"windowState == 'maximized'; else showMaximizeButton\">\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_maximize\" title=\"{{options.buttonUnmaximizeText}}\"\n            (click)=\"_buttonMax_Click($event);\"><svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <rect x=\"1\" y=\"3\" height=\"6\" width=\"6\"></rect>\n                <line y1=\"3\" x1=\"3\" y2=\"1\" x2=\"3\"></line>\n                <line y1=\"1\" x1=\"2.5\" y2=\"1\" x2=\"9.5\"></line>\n                <line y1=\"1\" x1=\"9\" y2=\"7\" x2=\"9\"></line>\n                <line y1=\"7\" x1=\"9.5\" y2=\"7\" x2=\"7\"></line>\n              </g>\n            </svg></div>\n        </ng-container>\n        <ng-template #showMaximizeButton>\n\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_maximize\" title=\"{{options.buttonMaximizeText}}\"\n            (click)=\"_buttonMax_Click($event);\"><svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <rect x=\"1\" y=\"1\" height=\"8\" width=\"8\"></rect>\n              </g>\n            </svg></div>\n        </ng-template>\n      </ng-container>\n\n      <ng-container *ngIf=\"options.buttonClose\">\n        <div class=\"sspanel_titlebar_button sspanel_titlebar_button_close\" title=\"{{options.buttonCloseText}}\"\n          (click)=\"closePanel($event);\">\n          <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n            <g>\n              <line y2=\"0\" x2=\"10\" y1=\"10\" x1=\"0\"></line>\n              <line y2=\"10\" x2=\"10\" y1=\"0\" x1=\"0\"></line>\n            </g>\n          </svg></div>\n      </ng-container>\n    </div>\n    <div class=\"sspanel_content\" (click)=\"_contentClick($event);\">\n      <ng-template #widget_content></ng-template>\n    </div>\n    <div class=\"sspanel_resizer sspanel_resizer_top\"\n      (mousedown)=\"_resizer_MouseDown($event,{dimension:'height',directionY:'top'});\"></div>\n  </div>\n</div>","import { Component, Renderer2, Optional, ChangeDetectorRef } from '@angular/core';\nimport { BaseMobilePanelComponent } from '../base-mobile-panel';\nimport { WidgetPosition } from \"../../../models/base-widget\";\nimport * as _ from 'lodash';\nimport { PanelInMobileShowMode } from '../../../models/base-panel';\nimport { ComponentRegister } from '../../../decorator/component-register.decorator';\n@ComponentRegister({\n  uri: 'epsgis-mobile-action-panel',\n  path: \"components/mobile/action-panel\"\n})\n@Component({\n  selector: 'epsgis-mobile-action-panel',\n  templateUrl: './action-panel.component.html',\n  styleUrls: ['./action-panel.component.scss']\n})\nexport class MobileActionPanelComponent extends BaseMobilePanelComponent {\n\n  constructor(@Optional() public _render: Renderer2, @Optional() public cdr: ChangeDetectorRef) {\n    super(_render, cdr);\n    this._mobileShowMode = PanelInMobileShowMode.action;\n  }\n  setOptions(options) {\n    options.buttonCollapse = false;\n    options.buttonMaximize = false;\n    super.setOptions(options);\n  }\n  _setMobilePosition() {\n    //action  由底向上弹出\n    const obj = this.getWidthHeight();\n    let _pos = new WidgetPosition(\"auto\", 0, 0, 0, obj.height, \"100%\");\n    this.widgetConfig.position = _pos;\n    //去掉边框\n    //最大高度\n    this._render.setStyle(this.sspanel.nativeElement, \"max-height\", obj.height);\n    //去掉阴影\n  }\n}\n","<div class=\"sspanel_overlay\" #sspanel_overlay>\n  <div class=\"sspanel\" #sspanel id=\"{{options.id}}\" [ngStyle]=\"position\">\n    <div *ngIf=\"options.showTitle\" class=\"sspanel_titlebar sspanel_titlebar_draggable\" #sspanel_titlebar\n      (mousedown)=\"_titlebar_MouseDown($event);\">\n      <div class=\"sspanel_titlebar_text\">\n        {{options.title}}</div>\n      <ng-container *ngIf=\"options.buttonCollapse\">\n        <ng-container *ngIf=\"windowState=='collapsed'; else showCollapsedButton\">\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_collapse\" title=\"{{options.buttonUnCollapseText}}\"\n            (click)=\"_buttonCollapse_Click($event);\">\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n              viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <polyline points=\"1,3 9,3 5,8 1,3 9,3\"></polyline>\n              </g>\n            </svg></div>\n        </ng-container>\n        <ng-template #showCollapsedButton>\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_collapse\" title=\"{{options.buttonCollapseText}}\"\n            (click)=\"_buttonCollapse_Click($event);\">\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n              viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <polyline points=\"1,7 9,7 5,2 1,7 9,7\"></polyline>\n              </g>\n            </svg></div>\n        </ng-template>\n\n\n      </ng-container>\n\n      <ng-container *ngIf=\"options.buttonMaximize\">\n        <ng-container *ngIf=\"windowState == 'maximized'; else showMaximizeButton\">\n\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_maximize\" title=\"{{options.buttonUnmaximizeText}}\"\n            (click)=\"_buttonMax_Click($event);\"><svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <rect x=\"1\" y=\"3\" height=\"6\" width=\"6\"></rect>\n                <line y1=\"3\" x1=\"3\" y2=\"1\" x2=\"3\"></line>\n                <line y1=\"1\" x1=\"2.5\" y2=\"1\" x2=\"9.5\"></line>\n                <line y1=\"1\" x1=\"9\" y2=\"7\" x2=\"9\"></line>\n                <line y1=\"7\" x1=\"9.5\" y2=\"7\" x2=\"7\"></line>\n              </g>\n            </svg></div>\n        </ng-container>\n        <ng-template #showMaximizeButton>\n\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_maximize\" title=\"{{options.buttonMaximizeText}}\"\n            (click)=\"_buttonMax_Click($event);\"><svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <rect x=\"1\" y=\"1\" height=\"8\" width=\"8\"></rect>\n              </g>\n            </svg></div>\n        </ng-template>\n      </ng-container>\n\n      <ng-container *ngIf=\"options.buttonClose\">\n        <div class=\"sspanel_titlebar_button sspanel_titlebar_button_close\" title=\"{{options.buttonCloseText}}\"\n          (click)=\"closePanel($event);\">\n          <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n            <g>\n              <line y2=\"0\" x2=\"10\" y1=\"10\" x1=\"0\"></line>\n              <line y2=\"10\" x2=\"10\" y1=\"0\" x1=\"0\"></line>\n            </g>\n          </svg></div>\n      </ng-container>\n    </div>\n    <div class=\"sspanel_content\" (click)=\"_contentClick($event);\">\n      <ng-template #widget_content></ng-template>\n    </div>\n  </div>\n</div>","import { Component, Optional, Renderer2, ChangeDetectorRef } from '@angular/core';\nimport { BaseMobilePanelComponent } from '../base-mobile-panel';\nimport { WidgetPosition } from \"../../../models/base-widget\";\nimport * as _ from 'lodash';\nimport { PanelInMobileShowMode } from '../../../models/base-panel';\nimport { ComponentRegister } from '../../../decorator/component-register.decorator';\n@ComponentRegister({\n  uri: \"epsgis-mobile-drawer-panel\",\n  path: \"components/mobile/drawer-panel\"\n})\n@Component({\n  selector: 'epsgis-mobile-drawer-panel',\n  templateUrl: './drawer-panel.component.html',\n  styleUrls: ['./drawer-panel.component.scss']\n})\nexport class MobileDrawerPanelComponent extends BaseMobilePanelComponent {\n\n  _sspanelOverlayClickHandler: Function;\n  constructor(@Optional() public _render: Renderer2, @Optional() public cdr: ChangeDetectorRef) {\n    super(_render, cdr);\n    this._mobileShowMode = PanelInMobileShowMode.drawer;\n  }\n  ngOnDestroy() {\n    this._sspanelOverlayClickHandler();\n    super.ngOnDestroy();\n  }\n  setOptions(options) {\n    //去掉收缩按钮\n    options.buttonCollapse = false;\n    //去掉最大化按钮\n    options.buttonMaximize = false;\n    super.setOptions(options);\n  }\n  _setMobilePosition() {\n    let _width: any = \"80%\";\n    //没有mobile节点，或者mobile节点下没有position时，设置为80%\n    if (this.widgetConfig.mobile && this.widgetConfig.mobile.position) {\n      const obj = this.getWidthHeight();\n      if (obj.width) {\n        _width = obj.width;\n      }\n    }\n    let _pos = new WidgetPosition(0, 0, 0, 20, \"100%\", _width);\n    this.widgetConfig.position = _pos;\n    //去掉边框\n    //点击阴影时 关闭panel\n    this._sspanelOverlayClickHandler = this.jsEventManager.addEventListener(\n      this.sspanelOverlay.nativeElement, \"click\", (evt: any) => {\n        if (evt.target === this.sspanelOverlay.nativeElement) {\n          this.closePanel(evt);\n        }\n      });\n  }\n\n}\n","<div class=\"sspanel_overlay\" #sspanel_overlay>\n  <div class=\"sspanel\" #sspanel id=\"{{options.id}}\" [ngStyle]=\"position\">\n    <div *ngIf=\"options.showTitle\" class=\"sspanel_titlebar sspanel_titlebar_draggable\" #sspanel_titlebar\n      (mousedown)=\"_titlebar_MouseDown($event);\">\n      <div class=\"sspanel_titlebar_text\">\n        {{options.title}}</div>\n      <ng-container *ngIf=\"options.buttonCollapse\">\n        <ng-container *ngIf=\"windowState=='collapsed'; else showCollapsedButton\">\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_collapse\" title=\"{{options.buttonUnCollapseText}}\"\n            (click)=\"_buttonCollapse_Click($event);\">\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n              viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <polyline points=\"1,3 9,3 5,8 1,3 9,3\"></polyline>\n              </g>\n            </svg></div>\n        </ng-container>\n        <ng-template #showCollapsedButton>\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_collapse\" title=\"{{options.buttonCollapseText}}\"\n            (click)=\"_buttonCollapse_Click($event);\">\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n              viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <polyline points=\"1,7 9,7 5,2 1,7 9,7\"></polyline>\n              </g>\n            </svg></div>\n        </ng-template>\n\n\n      </ng-container>\n\n\n      <ng-container *ngIf=\"options.buttonMaximize\">\n        <ng-container *ngIf=\"windowState == 'maximized'; else showMaximizeButton\">\n\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_maximize\" title=\"{{options.buttonUnmaximizeText}}\"\n            (click)=\"_buttonMax_Click($event);\"><svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <rect x=\"1\" y=\"3\" height=\"6\" width=\"6\"></rect>\n                <line y1=\"3\" x1=\"3\" y2=\"1\" x2=\"3\"></line>\n                <line y1=\"1\" x1=\"2.5\" y2=\"1\" x2=\"9.5\"></line>\n                <line y1=\"1\" x1=\"9\" y2=\"7\" x2=\"9\"></line>\n                <line y1=\"7\" x1=\"9.5\" y2=\"7\" x2=\"7\"></line>\n              </g>\n            </svg></div>\n        </ng-container>\n        <ng-template #showMaximizeButton>\n\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_maximize\" title=\"{{options.buttonMaximizeText}}\"\n            (click)=\"_buttonMax_Click($event);\"><svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <rect x=\"1\" y=\"1\" height=\"8\" width=\"8\"></rect>\n              </g>\n            </svg></div>\n        </ng-template>\n      </ng-container>\n\n      <ng-container *ngIf=\"options.buttonClose\">\n        <div class=\"sspanel_titlebar_button sspanel_titlebar_button_close\" title=\"{{options.buttonCloseText}}\"\n          (click)=\"closePanel($event);\">\n          <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n            <g>\n              <line y2=\"0\" x2=\"10\" y1=\"10\" x1=\"0\"></line>\n              <line y2=\"10\" x2=\"10\" y1=\"0\" x1=\"0\"></line>\n            </g>\n          </svg></div>\n      </ng-container>\n    </div>\n    <div class=\"sspanel_content\" (click)=\"_contentClick($event);\">\n      <ng-template #widget_content></ng-template>\n    </div>\n  </div>\n</div>\n<div class=\"sspanel_minplaceholder\"></div>\n","import { Component, Optional, Renderer2, ChangeDetectorRef } from '@angular/core';\nimport { BaseMobilePanelComponent } from '../base-mobile-panel';\nimport { PanelInMobileShowMode, PanelOptions } from '../../../models/base-panel';\nimport { WidgetPosition } from '../../../models/base-widget';\n\nimport { ComponentRegister } from '../../../decorator/component-register.decorator';\n\n@ComponentRegister({\n  uri: 'epsgis-mobile-modal-panel',\n  path: \"components/mobile/modal-panel\"\n})\n@Component({\n  selector: 'epsgis-mobile-modal-panel',\n  templateUrl: './modal-panel.component.html',\n  styleUrls: ['./modal-panel.component.scss']\n})\nexport class MobileModalPanelComponent extends BaseMobilePanelComponent {\n\n  constructor(@Optional() public _render: Renderer2,@Optional() public cdr:ChangeDetectorRef) {\n    super(_render,cdr);\n    this._mobileShowMode = PanelInMobileShowMode.modal;\n  }\n  ngOnInit() {\n    super.ngOnInit();\n  }\n  setOptions(options: PanelOptions) {\n    options.buttonCollapse = false;\n    options.buttonMaximize = false;\n    options.modal = true;\n    super.setOptions(options);\n  }\n  _setMobilePosition() {\n    //modal\n    let _pos = new WidgetPosition(0, 0, 0, 0, \"100%\", \"100%\", \"\", \"unset\");\n    this.widgetConfig.position = _pos;\n  }\n\n}\n","<div class=\"sspanel_overlay\" #sspanel_overlay>\n  <div class=\"sspanel\" #sspanel id=\"{{options.id}}\" [ngStyle]=\"position\">\n    <div *ngIf=\"options.showTitle\" class=\"sspanel_titlebar sspanel_titlebar_draggable\" #sspanel_titlebar\n      (mousedown)=\"_titlebar_MouseDown($event);\">\n      <div class=\"sspanel_titlebar_text\">\n        {{options.title}}</div>\n      <ng-container *ngIf=\"options.buttonCollapse\">\n        <ng-container *ngIf=\"windowState=='collapsed'; else showCollapsedButton\">\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_collapse\" title=\"{{options.buttonUnCollapseText}}\"\n            (click)=\"_buttonCollapse_Click($event);\">\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n              viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <polyline points=\"1,3 9,3 5,8 1,3 9,3\"></polyline>\n              </g>\n            </svg></div>\n        </ng-container>\n        <ng-template #showCollapsedButton>\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_collapse\" title=\"{{options.buttonCollapseText}}\"\n            (click)=\"_buttonCollapse_Click($event);\">\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n              viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <polyline points=\"1,7 9,7 5,2 1,7 9,7\"></polyline>\n              </g>\n            </svg></div>\n        </ng-template>\n\n\n      </ng-container>\n\n\n      <ng-container *ngIf=\"options.buttonMaximize\">\n        <ng-container *ngIf=\"windowState == 'maximized'; else showMaximizeButton\">\n\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_maximize\" title=\"{{options.buttonUnmaximizeText}}\"\n            (click)=\"_buttonMax_Click($event);\"><svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <rect x=\"1\" y=\"3\" height=\"6\" width=\"6\"></rect>\n                <line y1=\"3\" x1=\"3\" y2=\"1\" x2=\"3\"></line>\n                <line y1=\"1\" x1=\"2.5\" y2=\"1\" x2=\"9.5\"></line>\n                <line y1=\"1\" x1=\"9\" y2=\"7\" x2=\"9\"></line>\n                <line y1=\"7\" x1=\"9.5\" y2=\"7\" x2=\"7\"></line>\n              </g>\n            </svg></div>\n        </ng-container>\n        <ng-template #showMaximizeButton>\n\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_maximize\" title=\"{{options.buttonMaximizeText}}\"\n            (click)=\"_buttonMax_Click($event);\"><svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <rect x=\"1\" y=\"1\" height=\"8\" width=\"8\"></rect>\n              </g>\n            </svg></div>\n        </ng-template>\n      </ng-container>\n\n      <ng-container *ngIf=\"options.buttonClose\">\n        <div class=\"sspanel_titlebar_button sspanel_titlebar_button_close\" title=\"{{options.buttonCloseText}}\"\n          (click)=\"closePanel($event);\">\n          <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n            <g>\n              <line y2=\"0\" x2=\"10\" y1=\"10\" x1=\"0\"></line>\n              <line y2=\"10\" x2=\"10\" y1=\"0\" x1=\"0\"></line>\n            </g>\n          </svg></div>\n      </ng-container>\n    </div>\n    <div class=\"sspanel_content\" (click)=\"_contentClick($event);\">\n      <ng-template #widget_content></ng-template>\n    </div>\n  </div>\n</div>\n<div class=\"sspanel_minplaceholder\"></div>","import { Component, Optional, Renderer2, ChangeDetectorRef } from '@angular/core';\nimport { BaseMobilePanelComponent } from '../base-mobile-panel';\nimport { WidgetPosition } from \"../../../models/base-widget\";\nimport * as _ from 'lodash';\nimport { PanelOptions, PanelInMobileShowMode } from '../../../models/base-panel';\nimport { ComponentRegister } from '../../../decorator/component-register.decorator';\n\n@ComponentRegister({\n  uri: 'epsgis-mobile-popup-panel',\n  path: \"components/mobile/popup-panel\"\n})\n@Component({\n  selector: 'epsgis-mobile-popup-panel',\n  templateUrl: './popup-panel.component.html',\n  styleUrls: ['./popup-panel.component.scss']\n})\nexport class MobilePopupPanelComponent extends BaseMobilePanelComponent {\n\n  constructor(@Optional() public _render: Renderer2, @Optional() public cdr: ChangeDetectorRef) {\n    super(_render, cdr);\n    this._mobileShowMode = PanelInMobileShowMode.popup;\n  }\n  ngOnInit() {\n    super.ngOnInit();\n  }\n  setOptions(options: PanelOptions) {\n    options.buttonCollapse = false;\n    options.buttonMaximize = false;\n    options.modal = false;\n    super.setOptions(options);\n  }\n  _setMobilePosition() {\n    //居中弹窗\n    const obj = super.getWidthHeight();\n    let _pos = new WidgetPosition(0, 0, 0, 0, obj.height, obj.width, \"\", \"unset\");\n    this.widgetConfig.position = _pos;\n    // this.currentPosition = _.cloneDeep(_pos);\n    // this.savedPosition = _.cloneDeep(_pos);\n    // this.originalPosition = _.cloneDeep(_pos);\n  }\n}\n","<div class=\"sspanel_overlay\" #sspanel_overlay>\n  <div class=\"sspanel\" #sspanel id=\"{{options.id}}\" [ngStyle]=\"position\">\n    <div *ngIf=\"options.showTitle\" class=\"sspanel_titlebar sspanel_titlebar_draggable\" #sspanel_titlebar\n      (mousedown)=\"_titlebar_MouseDown($event);\">\n      <div class=\"sspanel_titlebar_text\">\n        {{options.title}}</div>\n      <ng-container *ngIf=\"options.buttonCollapse\">\n        <ng-container *ngIf=\"windowState=='collapsed'; else showCollapsedButton\">\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_collapse\" title=\"{{options.buttonUnCollapseText}}\"\n            (click)=\"_buttonCollapse_Click($event);\">\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n              viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <polyline points=\"1,3 9,3 5,8 1,3 9,3\"></polyline>\n              </g>\n            </svg></div>\n        </ng-container>\n        <ng-template #showCollapsedButton>\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_collapse\" title=\"{{options.buttonCollapseText}}\"\n            (click)=\"_buttonCollapse_Click($event);\">\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n              viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <polyline points=\"1,7 9,7 5,2 1,7 9,7\"></polyline>\n              </g>\n            </svg></div>\n        </ng-template>\n\n\n      </ng-container>\n\n      <ng-container *ngIf=\"options.buttonMaximize\">\n        <ng-container *ngIf=\"windowState == 'maximized'; else showMaximizeButton\">\n\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_maximize\" title=\"{{options.buttonUnmaximizeText}}\"\n            (click)=\"_buttonMax_Click($event);\"><svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <rect x=\"1\" y=\"3\" height=\"6\" width=\"6\"></rect>\n                <line y1=\"3\" x1=\"3\" y2=\"1\" x2=\"3\"></line>\n                <line y1=\"1\" x1=\"2.5\" y2=\"1\" x2=\"9.5\"></line>\n                <line y1=\"1\" x1=\"9\" y2=\"7\" x2=\"9\"></line>\n                <line y1=\"7\" x1=\"9.5\" y2=\"7\" x2=\"7\"></line>\n              </g>\n            </svg></div>\n        </ng-container>\n        <ng-template #showMaximizeButton>\n\n          <div class=\"sspanel_titlebar_button sspanel_titlebar_button_maximize\" title=\"{{options.buttonMaximizeText}}\"\n            (click)=\"_buttonMax_Click($event);\"><svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <rect x=\"1\" y=\"1\" height=\"8\" width=\"8\"></rect>\n              </g>\n            </svg></div>\n        </ng-template>\n      </ng-container>\n\n      <ng-container *ngIf=\"options.buttonClose\">\n        <div class=\"sspanel_titlebar_button sspanel_titlebar_button_close\" title=\"{{options.buttonCloseText}}\"\n          (click)=\"closePanel($event);\">\n          <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n            <g>\n              <line y2=\"0\" x2=\"10\" y1=\"10\" x1=\"0\"></line>\n              <line y2=\"10\" x2=\"10\" y1=\"0\" x1=\"0\"></line>\n            </g>\n          </svg></div>\n      </ng-container>\n    </div>\n    <div class=\"sspanel_content\" (click)=\"_contentClick($event);\">\n      <ng-template #widget_content></ng-template>\n    </div>\n  </div>\n</div>","import { Component, Optional, Renderer2, ChangeDetectorRef } from '@angular/core';\nimport { BaseMobilePanelComponent } from '../base-mobile-panel';\nimport { WidgetPosition } from \"../../../models/base-widget\";\nimport * as _ from 'lodash';\nimport { PanelInMobileShowMode } from '../../../models/base-panel';\nimport { ComponentRegister } from '../../../decorator/component-register.decorator';\n@ComponentRegister({\n  uri: 'epsgis-mobile-drawer-right-panel',\n  path: \"components/mobile/drawer-panel-right\"\n})\n@Component({\n  selector: 'epsgis-mobile-drawer-right-panel',\n  templateUrl: './drawer-panel-right.component.html',\n  styleUrls: ['./drawer-panel-right.component.scss']\n})\nexport class MobileDrawerRightPanelComponent extends BaseMobilePanelComponent {\n  // useIonicCss:boolean=true;\n  _sspanelOverlayClickHandler: Function;\n  constructor(@Optional() public _render: Renderer2, @Optional() public cdr: ChangeDetectorRef) {\n    super(_render, cdr);\n    this._mobileShowMode = PanelInMobileShowMode.drawerRight;\n  }\n  ngOnDestroy() {\n    this._sspanelOverlayClickHandler();\n    super.ngOnDestroy();\n  }\n  setOptions(options) {\n    //去掉收缩按钮\n    options.buttonCollapse = false;\n    //去掉最大化按钮\n    options.buttonMaximize = false;\n    super.setOptions(options);\n  }\n  _setMobilePosition() {\n    let _width: any = \"80%\";\n    //没有mobile节点，或者mobile节点下没有position时，设置为80%\n    if (this.widgetConfig.mobile && this.widgetConfig.mobile.position) {\n      const obj = this.getWidthHeight();\n      if (obj.width) {\n        _width = obj.width;\n      }\n    }\n    let _pos = new WidgetPosition(0, \"auto\", 0, 0, \"100%\", _width);\n    this.widgetConfig.position = _pos;\n    //去掉边框\n    //点击阴影时 关闭panel\n    this._sspanelOverlayClickHandler = this.jsEventManager.addEventListener(\n      this.sspanelOverlay.nativeElement, \"click\", (evt: any) => {\n        if (evt.target === this.sspanelOverlay.nativeElement) {\n          this.closePanel(evt);\n        }\n      });\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Pipe({\n  name: 'safeurl'\n})\nexport class SafeUrlPipe implements PipeTransform {\n  /**\n   * \n   * @param sanitizer \n   */\n  constructor(private sanitizer: DomSanitizer) { }\n  /**\n   * \n   * @param url \n   * @param tag \n   */\n  transform(url: any, tag: string = \"img\"): any {\n    if (tag == \"img\") {\n      return this.sanitizer.bypassSecurityTrustUrl(url);\n    }\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\n  }\n\n}\n","<div class=\"sspanel_overlay\" #sspanel_overlay style=\"display: none;\">\n\n</div>\n<div class=\"sspanel\" #sspanel id=\"{{options.id}}\" [ngClass]=\"{'notitle':options.showTitle===false}\"\n  [ngStyle]=\"position\">\n  <div sspanel-titlebar  #sspanel_titlebar  class=\"sspanel_titlebar sspanel_titlebar_draggable\" [hasIcon]=\"false\" [options]=\"options\" [windowState]=\"windowState\"\n (onClickSetting)=\"openWidgetSetting()\" (onClickClose)=\"closePanel($event)\"></div>\n  \n  <!-- <div class=\"sspanel_titlebar\" #sspanel_titlebar (mousedown)=\"_titlebar_MouseDown($event);\">\n    <ng-container *ngIf=\"panelIcon\">\n      <div class=\"icon\">\n        <img *ngIf=\"panelIcon.isShowImg\" [src]=\"panelIcon.icon\">\n        <i *ngIf=\"!panelIcon.isShowImg\" nz-icon [nzIconfont]=\"panelIcon.icon\"></i>\n      </div>\n    </ng-container>\n    <div class=\"sspanel_titlebar_text\"><span class=\"sspanel_titlebar_text_span\">{{options.title}}</span></div>\n\n    <ng-container *ngIf=\"options.buttonClose\">\n      <div class=\"sspanel_titlebar_button sspanel_titlebar_button_close\" title=\"{{options.buttonCloseText}}\"\n        (click)=\"closePanel($event);\">\n        <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n          viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n          <g>\n            <line y2=\"0\" x2=\"10\" y1=\"10\" x1=\"0\"></line>\n            <line y2=\"10\" x2=\"10\" y1=\"0\" x1=\"0\"></line>\n          </g>\n        </svg></div>\n    </ng-container>\n  </div> -->\n  <div class=\"sspanel_content\" (click)=\"_contentClick($event);\">\n    <iframe *ngIf=\"isShowIframe\" #iframeContent [src]=\"url | safeurl :'iframe'\" class=\"iframe_content\"></iframe>\n    <ng-container #content *ngIf=\"!isShowIframe\">\n      {{url}}\n    </ng-container>\n  </div>\n\n  <div class=\"sspanel_resizer sspanel_resizer_top\"\n    (mousedown)=\"_resizer_MouseDown($event,{dimension:'height',directionY:'top'});\"></div>\n  <div class=\"sspanel_resizer sspanel_resizer_bottom\"\n    (mousedown)=\"_resizer_MouseDown($event,{dimension:'height',directionY:'bottom'});\"></div>\n  <div class=\"sspanel_resizer sspanel_resizer_left\"\n    (mousedown)=\"_resizer_MouseDown($event,{dimension:'width',directionX:'left'});\"></div>\n  <div class=\"sspanel_resizer sspanel_resizer_right\"\n    (mousedown)=\"_resizer_MouseDown($event,{dimension:'width',directionX:'right'});\"></div>\n  <div class=\"sspanel_resizer sspanel_resizer_topleft\"\n    (mousedown)=\"_resizer_MouseDown($event,{dimension:'both',directionX:'left',directionY:'top'});\"></div>\n  <div class=\"sspanel_resizer sspanel_resizer_topright\"\n    (mousedown)=\"_resizer_MouseDown($event,{dimension:'both',directionX:'right',directionY:'top'});\"></div>\n  <div class=\"sspanel_resizer sspanel_resizer_bottomleft\"\n    (mousedown)=\"_resizer_MouseDown($event,{dimension:'both',directionX:'left',directionY:'bottom'});\"></div>\n  <div class=\"sspanel_resizer sspanel_resizer_bottomright\"\n    (mousedown)=\"_resizer_MouseDown($event,{dimension:'both',directionX:'right',directionY:'bottom'});\"></div>\n</div>","import { Component, OnInit, Renderer2, Optional, ViewChild, ElementRef, ChangeDetectorRef } from '@angular/core';\nimport * as _ from 'lodash';\nimport { BasePanelComponent } from '../../base-panel/base-panel.component';\nimport { WidgetState } from '../../../models/base-widget';\nimport { ComponentRegister } from '../../../decorator/component-register.decorator';\n\n@ComponentRegister({\n  uri: 'epsgis-iframe-panel',\n  path: \"components/ex-panels/iframe-panel\"\n})\n@Component({\n  selector: 'epsgis-iframe-panel',\n  templateUrl: './iframe-panel.component.html',\n  styleUrls: ['./iframe-panel.component.scss'],\n})\nexport class IframePanelComponent extends BasePanelComponent {\n  @ViewChild(\"iframeContent\", { static: true }) iframeEl: ElementRef;\n\n  constructor(@Optional() public _render: Renderer2, @Optional() public cdr: ChangeDetectorRef) {\n    super(_render, cdr);\n  }\n  url: string = \"\";\n  isShowIframe: boolean = false;\n  \n  ngOnInit() {\n\n    super.ngOnInit();\n    this.url = this.options.url;\n    if (this.options.url) {\n      this.isShowIframe = true;\n    }\n  }\n  ngAfterViewInit() {\n    this.startup();\n    this.state = WidgetState.opened;\n  }\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SafeUrlPipe } from './safeurl.pipe';\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [\n        SafeUrlPipe\n    ],\n    exports:[\n        SafeUrlPipe\n    ]\n})\nexport class PipesModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'epsgis-result-fof',\n  templateUrl: './resultfof.component.html',\n  styleUrls: ['./resultfof.component.scss']\n})\nexport class ResultfofComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {}\n\n}\n","<nz-result nzStatus=\"404\" nzTitle=\"404\" nzSubTitle=\"抱歉，您访问的页面不存在。\">\n  <div nz-result-extra>\n    <!-- <button nz-button nzType=\"primary\">Back Home</button> -->\n  </div>\n</nz-result>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'epsgis-result-foo',\n  templateUrl: './resultfoo.component.html',\n  styleUrls: ['./resultfoo.component.scss']\n})\nexport class ResultfooComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {}\n\n}\n","<nz-result nzStatus=\"500\" nzTitle=\"500\" nzSubTitle=\"抱歉，服务器上有错误.\">\n  <div nz-result-extra>\n    <!-- <button nz-button nzType=\"primary\">Back Home</button> -->\n  </div>\n</nz-result>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'epsgis-result-fot',\n  templateUrl: './resultfot.component.html',\n  styleUrls: ['./resultfot.component.scss']\n})\nexport class ResultfotComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {}\n\n}\n","<nz-result nzStatus=\"403\" nzTitle=\"403\" nzSubTitle=\"抱歉，您无权访问此页面。\">\n  <div nz-result-extra>\n    <!-- <button nz-button nzType=\"primary\">Back Home</button> -->\n  </div>\n</nz-result>","import { CommonModule } from \"@angular/common\";\nimport { NgModule } from \"@angular/core\";\nimport { JsonEditorComponent } from \"./json-editor/json-editor.component\";\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    declarations: [\n        JsonEditorComponent\n    ],\n    entryComponents: [],\n    exports: [JsonEditorComponent]\n\n})\nexport class EpsGisSharedModule {\n    \n}","import { Component } from \"@angular/core\";\n\n@Component({\n    selector: \"epsgis-icon-arrow-down\",\n    template: `\n    <svg t=\"1575033841131\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n      p-id=\"16367\" width=\"16\" height=\"16\">\n      <path\n        d=\"M128.759037 245.033739l383.064442 383.064442 388.096039-388.097062 0.033769 0.070608c13.138228-12.709463 31.024597-20.528546 50.730405-20.528546 40.377616 0 73.114205 32.736589 73.114205 73.115228 0 19.705807-7.820106 37.591153-20.530592 50.730405l0.035816 0.034792-438.681134 438.685227-0.035816-0.035816c-13.280468 13.780865-31.915897 22.3838-52.585659 22.3838-0.071631 0-0.107447 0-0.178055 0-0.072655 0-0.10847 0-0.146333 0-20.669762 0-39.341007-8.601912-52.621475-22.3838l-0.035816 0.035816L20.336676 343.425653l0.179079-0.179079c-12.565177-13.139252-20.313651-30.951943-20.313651-50.587142 0-40.378639 32.736589-73.115228 73.114205-73.115228C95.485213 219.544205 115.334283 229.432413 128.759037 245.033739z\"\n        p-id=\"16368\" fill=\"#bababa\"></path>\n    </svg>\n    `,\n    styles: [\n      `\n      .expand {\n          -webkit-transform: rotate(180deg);\n          -moz-transform: rotate(180deg);\n          -o-transform: rotate(180deg);\n          -ms-transform: rotate(180deg);\n          transform: rotate(180deg);\n      }\n      `\n    ]\n})\nexport class IconArrowDownComponent {\n\n}","import { Component } from \"@angular/core\";\n\n@Component({\n    selector: \"epsgis-icon-arrow-left\",\n    template: `\n    <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\" height=\"16\">\n      <path\n        d=\"M778.965749 128.759549l-383.064442 383.063419 388.097062 388.096039-0.070608 0.033769c12.709463 13.137205 20.529569 31.024597 20.529569 50.731428 0 40.376593-32.736589 73.112158-73.115228 73.112158-19.705807 0-37.591153-7.819083-50.730405-20.528546l-0.034792 0.035816L241.890654 564.622498l0.035816-0.035816c-13.779841-13.281491-22.3838-31.915897-22.3838-52.585659 0-0.071631 0-0.106424 0-0.178055 0-0.072655 0-0.10847 0-0.144286 0-20.669762 8.603959-39.341007 22.3838-52.622498l-0.035816-0.034792L680.573835 20.337187l0.180102 0.179079c13.139252-12.5662 30.950919-20.313651 50.587142-20.313651 40.378639 0 73.115228 32.736589 73.115228 73.114205C804.455283 95.485725 794.567076 115.334795 778.965749 128.759549z\"\n        ></path>\n    </svg>\n    `,\n    styles: [\n        `\n\n        .expand{\n            -webkit-transform: rotate(180deg);\n            -moz-transform: rotate(180deg);\n            -o-transform: rotate(180deg);\n            -ms-transform: rotate(180deg);\n            transform: rotate(180deg);\n        }\n        `\n    ]\n})\nexport class IconArrowLeftComponent {\n\n}","import { Component } from \"@angular/core\";\n\n@Component({\n    selector: \"epsgis-icon-arrow-right\",\n    template: `\n    <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"16\" height=\"16\">\n      <path\n        d=\"M245.034251 895.239428l383.063419-383.063419L240.001631 124.07997l0.070608-0.033769c-12.709463-13.137205-20.530592-31.024597-20.530592-50.731428 0-40.376593 32.736589-73.111135 73.115228-73.111135 19.705807 0 37.591153 7.819083 50.730405 20.528546l0.034792-0.035816 438.686251 438.681134-0.035816 0.034792c13.779841 13.281491 22.3838 31.915897 22.3838 52.586682 0 0.071631 0 0.106424 0 0.178055 0 0.072655 0 0.10847 0 0.144286 0 20.669762-8.603959 39.341007-22.3838 52.623521l0.035816 0.033769L343.426165 1003.661789l-0.180102-0.179079c-13.140275 12.565177-30.950919 20.313651-50.588165 20.313651-40.378639 0-73.115228-32.736589-73.115228-73.114205C219.544717 928.512229 229.432924 908.664182 245.034251 895.239428z\"\n        fill=\"#bababa\"></path>\n    </svg>\n    `,\n    styles: [\n        `\n        .expand{\n            -webkit-transform: rotate(180deg);\n            -moz-transform: rotate(180deg);\n            -o-transform: rotate(180deg);\n            -ms-transform: rotate(180deg);\n            transform: rotate(180deg);\n        }\n        `\n    ]\n})\nexport class IconArrowRightComponent {\n\n}","import { CommonModule } from \"@angular/common\";\nimport { NgModule } from \"@angular/core\";\nimport { IconArrowDownComponent } from \"./icon-arrow-down.component\";\nimport { IconArrowLeftComponent } from \"./icon-arrow-left.component\";\nimport { IconArrowRightComponent } from \"./icon-arrow-right.component\";\nimport { IconCloseComponent } from \"./icon-close.component\";\nimport { IconCollapsedComponent } from \"./icon-collapsed.component\";\nimport { IconMaximizeComponent } from \"./icon-maximize.component\";\nimport { IconSettingComponent } from \"./icon-setting.component\";\nimport { IconUnCollapsedComponent } from \"./icon-uncollapsed.component\";\nimport { IconUnMaximizeComponent } from \"./icon-unmaximize.component\";\nconst _components = [\n    IconCloseComponent,\n    IconCollapsedComponent,\n    IconUnCollapsedComponent,\n    IconMaximizeComponent,\n    IconUnMaximizeComponent,\n    IconSettingComponent,\n    IconArrowLeftComponent,\n    IconArrowRightComponent,\n    IconArrowDownComponent\n];\n@NgModule({\n    imports: [CommonModule],\n    declarations: _components,\n    exports: _components\n})\nexport class EpsGisIconModule {\n\n}","import { EpsGisDirectivesModule } from '../directives/directives.module';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { NzResultModule } from 'ng-zorro-antd/result';\r\nimport { OnScreenWidgetIconComponent } from './on-screen-widget-icon/on-screen-widget-icon.component';\r\nimport { OnScreenWidgetPanelComponent } from './on-screen-widget-panel/on-screen-widget-panel.component';\r\nimport { DockablePanelAtBottomComponent } from './ex-panels/dockable-panel-at-bottom/dockable-panel-at-bottom.component';\r\nimport { DockablePanelAtRightComponent } from './ex-panels/dockable-panel-at-right/dockable-panel-at-right.component';\r\nimport { DockablePanelAtLeftComponent } from \"./ex-panels/dockable-panel-at-left/dockable-panel-at-left.component\";\r\nimport { MobileActionPanelComponent } from './mobile/action-panel/action-panel.component';\r\nimport { MobileDrawerPanelComponent } from './mobile/drawer-panel/drawer-panel.component';\r\nimport { MobileModalPanelComponent } from './mobile/modal-panel/modal-panel.component';\r\nimport { MobilePopupPanelComponent } from './mobile/popup-panel/popup-panel.component';\r\nimport { MobileDrawerRightPanelComponent } from './mobile/drawer-panel-right/drawer-panel-right.component';\r\nimport { IframePanelComponent } from './ex-panels/iframe-panel/iframe-panel.component';\r\nimport { PipesModule } from '../pipes/pipes.module';\r\nimport { ResultfofComponent } from './shared/resultfof/resultfof.component';\r\nimport { ResultfooComponent } from './shared/resultfoo/resultfoo.component';\r\nimport { ResultfotComponent } from './shared/resultfot/resultfot.component';\r\nimport { NzIconModule } from 'ng-zorro-antd/icon';\r\nimport { WidgetSettingComponent } from './setting/widget-setting/widget-setting.component';\r\nimport { EpsGisSharedModule } from './shared/shared.module';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { EpsGisIconModule } from './icon/icon-module';\r\nimport { PanelTitleBarComponent } from './base-panel/panel-titlebar.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        // PortalModule,\r\n        // OverlayModule,\r\n        // BrowserAnimationsModule,\r\n        FormsModule,\r\n        NzIconModule,\r\n        NzResultModule,\r\n        EpsGisDirectivesModule,\r\n        PipesModule,\r\n        EpsGisSharedModule,\r\n        EpsGisIconModule\r\n    ],\r\n    declarations: [\r\n        OnScreenWidgetIconComponent,\r\n        OnScreenWidgetPanelComponent,\r\n        DockablePanelAtLeftComponent,\r\n        DockablePanelAtBottomComponent,\r\n        DockablePanelAtRightComponent,\r\n        IframePanelComponent,\r\n        MobileActionPanelComponent,\r\n        MobileDrawerPanelComponent,\r\n        MobileModalPanelComponent,\r\n        MobilePopupPanelComponent,\r\n        MobileDrawerRightPanelComponent,\r\n        ResultfofComponent,\r\n        ResultfooComponent,\r\n        ResultfotComponent,\r\n        WidgetSettingComponent,\r\n        PanelTitleBarComponent\r\n    ],\r\n    entryComponents: [\r\n        OnScreenWidgetIconComponent,\r\n        OnScreenWidgetPanelComponent,\r\n        DockablePanelAtLeftComponent,\r\n        DockablePanelAtBottomComponent,\r\n        DockablePanelAtRightComponent,\r\n        IframePanelComponent,\r\n        MobileActionPanelComponent,\r\n        MobileDrawerPanelComponent,\r\n        MobileModalPanelComponent,\r\n        MobilePopupPanelComponent,\r\n        MobileDrawerRightPanelComponent,\r\n        WidgetSettingComponent\r\n    ],\r\n    exports: [\r\n        PanelTitleBarComponent,\r\n        ResultfofComponent,\r\n        ResultfooComponent,\r\n        ResultfotComponent\r\n    ],\r\n    providers: [\r\n        //{ provide: OverlayContainer, useClass: FullscreenOverlayContainer }\r\n    ]\r\n})\r\nexport class EpsGisWidgetBaseModule { }","import { Injectable } from '@angular/core';\nimport * as _ from \"lodash\";\n\n/**\n * create by ruir 191014  shared/utils.js\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class SharedUtilsService {\n\n  widgetProperties: Array<string> = ['inPanel', 'hasLocale', 'hasStyle', 'hasConfig', 'hasUIFile',\n    'hasSettingPage', 'hasSettingUIFile', 'hasSettingLocale', 'hasSettingStyle',\n    'keepConfigAfterMapSwithched', 'isController', 'hasVersionManager', 'isThemeWidget',\n    'supportMultiInstance'\n  ];\n  constructor() {\n\n  }\n  /**\n   * \n   */\n  isHostedService() {\n    return false;\n  }\n  /**\n   * 给widget添加默认属性\n   * @param manifest \n   */\n  processWidgetProperties(manifest: any) {\n    if (typeof manifest.properties === \"undefined\") {\n      manifest.properties = {};\n    }\n    if (typeof manifest.properties.isController === 'undefined') {\n      manifest.properties.isController = false;\n    }\n    if (typeof manifest.properties.isThemeWidget === 'undefined') {\n      manifest.properties.isThemeWidget = false;\n    }\n    if (typeof manifest.properties.hasVersionManager === 'undefined') {\n      manifest.properties.hasVersionManager = false;\n    }\n\n    this.widgetProperties.forEach(function (p) {\n      if (typeof manifest.properties[p] === 'undefined') {\n        manifest.properties[p] = true;\n      }\n    });\n    manifest.properties.hasLocale = false;\n    manifest.properties.supportMultiInstance = false;\n    manifest.properties.hasVersionManager = false;\n    manifest.properties.hasSettingLocale = false;\n\n    if (manifest.properties.hasSetting !== true) {\n      manifest.properties.hasSettingPage = false;\n      manifest.properties.hasSettingUIFile = false;\n      manifest.properties.hasSettingStyle = false;\n    }\n  }\n  /**\n   * 如果组件的uri中有参数，则解析到组件的reqPara属性\n   * @param widget \n   */\n  processWidgetUriPara(widget: any) {\n    if (typeof (widget.uri) === \"string\" && widget.uri.length >= 1) {\n      var url = widget.uri,\n        paraString, p = new Object();\n      var index = url.lastIndexOf(\"?\");\n      if (index >= 0) {\n        widget.uri = url.substring(0, index);\n        paraString = url.substring(index + 1);\n        var strs = paraString.split(\"&\");\n        for (var i = 0; i < strs.length; i++) {\n          p[strs[i].split(\"=\")[0]] = decodeURIComponent((strs[i].split(\"=\")[1]));\n        }\n        widget.reqPara = p;\n      }\n    } else {\n      widget.uri = \"\";\n    }\n  }\n  /**\n   * \n   * @param appConfig 配置对象\n   * @param id \n   */\n  getConfigElementById(appConfig, id) {\n    var c;\n    if (id === 'map') {\n      return appConfig.map;\n    }\n    this.visitElement(appConfig, function (e) {\n      if (e.id === id) {\n        c = e;\n        return true;\n      }\n    });\n    return c;\n  }\n  /**\n   * \n   * @param appConfig \n   * @param cb \n   */\n  visitElement(appConfig: any, cb: Function) {\n    this.visitBigSection(appConfig, 'widgetOnScreen', cb);\n    this.visitBigSection(appConfig, 'widgetPool', cb);\n  }\n  /**\n   * \n   * @param appConfig \n   * @param section \n   * @param cb \n   */\n  private visitBigSection(appConfig: any, section: string, cb: Function) {\n    var i, j, group, widget, isOnScreen = (section === 'widgetOnScreen'),\n      tempobject, isHeadMenu = (section === \"widgetPool\");\n\n\n    if (appConfig[section]) {\n      if (appConfig[section].groups) {\n        for (i = 0; i < appConfig[section].groups.length; i++) {\n          group = appConfig[section].groups[i];\n          tempobject = {\n            index: i,\n            isWidget: false,\n            groupId: group.id,\n            gid: group.id,\n            isThemeWidget: false,\n            isOnScreen: isOnScreen\n          };\n          group = _.extend(group, tempobject);//Object.assign();\n          cb(group, tempobject);\n          if (!group.widgets) {\n            continue;\n          }\n          for (j = 0; j < group.widgets.length; j++) {\n            widget = group.widgets[j];\n            tempobject = {\n              index: j,\n              isWidget: true,\n              groupId: group.id,\n              gid: group.id,\n              //isThemeWidget: widget.uri && widget.uri.indexOf('themes/' + appConfig.theme.name) > -1,\n              isThemeWidget:false,\n              isOnScreen: isOnScreen\n            };\n            widget = _.extend(widget, tempobject);\n            Object.assign\n            this.processWidgetUriPara(widget);\n            cb(widget, tempobject);\n          }\n        }\n      }\n\n      if (appConfig[section].widgets) {\n        let visitHeaderMenu = (widget, cb) => { //支持子组件\n          if (widget.children && widget.children.length >= 1) {\n            for (var k = 0; k < widget.children.length; k++) {\n              var item = widget.children[k];\n              tempobject = {\n                index: i,\n                isWidget: true,\n                groupId: section,\n                gid: section, //有的地方用的gid\n                //isThemeWidget: item.uri && item.uri.indexOf('themes/' + appConfig.theme.name) > -1,\n                isThemeWidget:false,\n                isOnScreen: isOnScreen,\n                isHeadMenu: isHeadMenu\n              };\n              if (item.groupId || item.gid) {\n                tempobject.groupId = item.groupId || item.gid;\n                tempobject.gid = tempobject.groupId;\n              }\n              item = _.extend(item, tempobject)\n              this.processWidgetUriPara(item);\n              cb(item, tempobject);\n              visitHeaderMenu(item, cb);\n            }\n          }\n        }\n        for (i = 0; i < appConfig[section].widgets.length; i++) {\n          widget = appConfig[section].widgets[i];\n          tempobject = {\n            index: i,\n            isWidget: true,\n            groupId: section,\n            gid: section, //有的地方用的gid\n            //isThemeWidget: widget.uri && widget.uri.indexOf('themes/' + appConfig.theme.name) > -1,\n            isThemeWidget:false,\n            isOnScreen: isOnScreen,\n            isHeadMenu: isHeadMenu\n          };\n          if (widget.groupId || widget.gid) {\n            tempobject.groupId = widget.groupId || widget.gid;\n            tempobject.gid = tempobject.groupId;\n          }\n          widget = _.extend(widget, tempobject)\n          this.processWidgetUriPara(widget);\n          cb(widget, tempobject);\n          visitHeaderMenu(widget, cb);\n        }\n      }\n    }\n  }\n  /**\n   * 根据label或name属性取得配置\n   * @param appConfig \n   * @param label \n   */\n  getConfigElementByLabel(appConfig: any, label: string) {\n    var c;\n    if (label === 'map') {\n      return appConfig.map;\n    }\n    this.visitElement(appConfig, function (e) {\n      if (e.label || e.name === label) {\n        c = e;\n        return true;\n      }\n    });\n    return c;\n\n  }\n  /**\n   * 根据name属性取得配置\n   * @param appConfig \n   * @param name \n   */\n  getConfigElementsByName(appConfig: any, name: string) {\n    var elements = [];\n    if (name === 'map') {\n      return [appConfig.map];\n    }\n    this.visitElement(appConfig, function (e) {\n      if (e.name === name) {\n        elements.push(e);\n      }\n    });\n    return elements;\n  }\n  /**\n   * 根据uri取得配置\n   * @param appConfig \n   * @param uri \n   */\n  getConfigElementsByUri(appConfig: any, uri: string) {\n    var elements = [];\n    if (uri === 'map') {\n      return [appConfig.map];\n    }\n    this.visitElement(appConfig, function (e) {\n      if (e.uri && e.uri.toLowerCase() === uri.toLowerCase()) {\n        elements.push(e);\n      }\n    });\n    return elements;\n  }\n  /**\n   * 根据uri取得组件名\n   * @param uri \n   */\n  getWidgetNameFromUri(uri: string) {\n    var segs = uri.split('/');\n    segs.pop();\n    return segs.pop();\n  }\n  /**\n   * \n   * @param uri \n   */\n  getAmdFolderFromUri(uri: string) {\n    var segs = uri.split('/');\n    segs.pop();\n    return segs.join('/') + '/';\n  }\n}\n","export type Platforms = keyof typeof PLATFORMS_MAP;\n\ninterface IsPlatformSignature {\n    (plt: Platforms): boolean;\n    (win: Window, plt: Platforms): boolean;\n}\n\nexport const getPlatforms = (win: any) => setupPlatforms(win);\n\nexport const isPlatform: IsPlatformSignature = (winOrPlatform: Window | Platforms | undefined, platform?: Platforms) => {\n    if (typeof winOrPlatform === 'string') {\n        platform = winOrPlatform;\n        winOrPlatform = undefined;\n    }\n    // return getPlatforms(winOrPlatform).includes(platform!);\n    if (!winOrPlatform) {\n        winOrPlatform = window;\n    }\n    if(!platform){\n        platform=\"desktop\";\n    }\n    return PLATFORMS_MAP[platform](winOrPlatform as Window);\n};\n\nexport const setupPlatforms = (win: any = window) => {\n    win.Ionic = win.Ionic || {};\n\n    let platforms: Platforms[] | undefined | null = win.Ionic.platforms;\n    if (platforms == null) {\n        platforms = win.Ionic.platforms = detectPlatforms(win);\n        platforms.forEach(p => win.document.documentElement.classList.add(`plt-${p}`));\n    }\n    return platforms;\n};\n\nconst detectPlatforms = (win: Window) =>\n    (Object.keys(PLATFORMS_MAP) as Platforms[]).filter(p => PLATFORMS_MAP[p](win));\n\nconst isMobileWeb = (win: Window): boolean =>\n    isMobile(win) && !isHybrid(win);\n\nconst isIpad = (win: Window) => {\n    // iOS 12 and below\n    if (testUserAgent(win, /iPad/i)) {\n        return true;\n    }\n\n    // iOS 13+\n    if (testUserAgent(win, /Macintosh/i) && isMobile(win)) {\n        return true;\n    }\n\n    return false;\n};\n\nconst isIphone = (win: Window) =>\n    testUserAgent(win, /iPhone/i);\n\nconst isIOS = (win: Window) =>\n    testUserAgent(win, /iPhone|iPod/i) || isIpad(win);\n\nconst isAndroid = (win: Window) =>\n    testUserAgent(win, /android|sink/i);\n\nconst isAndroidTablet = (win: Window) => {\n    return isAndroid(win) && !testUserAgent(win, /mobile/i);\n};\n\nconst isPhablet = (win: Window) => {\n    const width = win.innerWidth;\n    const height = win.innerHeight;\n    const smallest = Math.min(width, height);\n    const largest = Math.max(width, height);\n\n    return (smallest > 390 && smallest < 520) &&\n        (largest > 620 && largest < 800);\n};\n\nconst isTablet = (win: Window) => {\n    const width = win.innerWidth;\n    const height = win.innerHeight;\n    const smallest = Math.min(width, height);\n    const largest = Math.max(width, height);\n\n    return (\n        isIpad(win) ||\n        isAndroidTablet(win) ||\n        (\n            (smallest > 460 && smallest < 820) &&\n            (largest > 780 && largest < 1400)\n        )\n    );\n};\n\nconst isMobile = (win: Window) => {\n    // return matchMedia(win, '(any-pointer:coarse)');\n    // modify by sy 2020/8/5\n    // var isTouchScreen = !!navigator.userAgent.match(/AppleWebkit.*Mobile.*/) || \"ontouchstart\" in win ||\n    // (win.matchMedia ? win.matchMedia(\"(pointer:coarse)\").matches || !!win.matchMedia(\"-moz-touch-enabled\").matches : false);\n\n    let isTouchScreen = !!navigator.userAgent.match(/AppleWebkit.*Mobile.*/) || \"ontouchstart\" in win ||\n        (matchMedia(win, '(pointer:coarse)') || !!matchMedia(win, \"-moz-touch-enabled\"));\n    return isTouchScreen;\n};\n\n\nconst isDesktop = (win: Window) =>\n    !isMobile(win);\n\nconst isHybrid = (win: Window) =>\n    isCordova(win) || isCapacitorNative(win);\n\nconst isCordova = (win: any): boolean =>\n    !!(win['cordova'] || win['phonegap'] || win['PhoneGap']);\n\nconst isCapacitorNative = (win: any): boolean => {\n    const capacitor = win['Capacitor'];\n    return !!(capacitor && capacitor.isNative);\n};\n\nconst isElectron = (win: Window): boolean =>\n    testUserAgent(win, /electron/i);\n\nconst isPWA = (win: Window): boolean =>\n    !!(win.matchMedia('(display-mode: standalone)').matches || (win.navigator as any).standalone);\n\nexport const testUserAgent = (win: Window, expr: RegExp) =>\n    expr.test(win.navigator.userAgent);\n\nconst matchMedia = (win: Window, query: string): boolean =>\n    win.matchMedia(query).matches;\n\nconst PLATFORMS_MAP = {\n    'ipad': isIpad,\n    'iphone': isIphone,\n    'ios': isIOS,\n    'android': isAndroid,\n    'phablet': isPhablet,\n    'tablet': isTablet,\n    'cordova': isCordova,\n    'capacitor': isCapacitorNative,\n    'electron': isElectron,\n    'pwa': isPWA,\n    'mobile': isMobile,\n    'mobileweb': isMobileWeb,\n    'desktop': isDesktop,\n    'hybrid': isHybrid\n};","import { Injectable, ChangeDetectorRef } from '@angular/core';\nimport { SharedUtilsService } from './shared/shared-utils.service';\nimport * as _ from \"lodash\";\nimport { AppGlobalConfig } from '../models/app-config';\n/**\n * create by ruir 191014  utils.js\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class UtilsService extends SharedUtilsService {\n\n  constructor(private globalParams: AppGlobalConfig) {\n    super();\n  }\n  /**\n   * \n   * @param uri \n   */\n  getUriInfo(uri: string) {\n    //菜单的可能循环调用了 已处理过 直接返回{} ruir 190412\n    if (!uri || uri.indexOf(this.globalParams.appInfo.folderUrlPrefix) >= 0) return {};\n    let pos,\n      firstSeg,\n      info: any = {},\n      amdFolder;\n    pos = uri.indexOf('/');\n    firstSeg = uri.substring(0, pos);\n    //config using package\n    amdFolder = uri.substring(0, uri.lastIndexOf('/') + 1);\n    if (this.globalParams.jimuConfig.isDesignMode === true && this.globalParams.appInfo.folderUrlPrefix) {\n      info.folderUrl = this.globalParams.appInfo.folderUrlPrefix + \"/\" + amdFolder;\n    } else {\n      info.folderUrl = amdFolder;//require(mo.getRequireConfig()).toUrl(amdFolder);\n    }\n\n    info.amdFolder = amdFolder;\n    return info;\n  }\n  /**\n   * \n   * @param setting \n   */\n  processWidgetSetting(setting: any) {\n    if (!setting.uri) {\n      return setting;\n    }\n    _.extend(setting, this.getUriInfo(setting.uri));\n    /*\n    *191108 icon不管有无配置都不敢，没配就是undefined\n    if (this.globalParams.jimuConfig.isDesignMode === true && this.globalParams.appInfo.folderUrlPrefix) {\n      if (setting.icon) {\n        if (setting.icon.indexOf(this.globalParams.appInfo.folderUrlPrefix) <= -1)\n          setting.icon = this.globalParams.appInfo.folderUrlPrefix + '/' + setting.icon;\n      } else {\n        setting.icon = this.globalParams.appInfo.folderUrlPrefix + '/' + setting.amdFolder + 'images/icon.png';\n      }\n      if (setting.thumbnail) {\n        if (setting.thumbnail.indexOf(this.globalParams.appInfo.folderUrlPrefix) <= -1)\n          setting.thumbnail = this.globalParams.appInfo.folderUrlPrefix + '/' + setting.icon;\n      } else {\n        setting.thumbnail = this.globalParams.appInfo.folderUrlPrefix + '/' + setting.amdFolder + 'images/thumbnail.png';\n      }\n      if (setting.uri.indexOf(this.globalParams.appInfo.folderUrlPrefix) <= -1)\n        setting.uri = this.globalParams.appInfo.folderUrlPrefix + '/' + setting.uri;\n    } else {\n      if (!setting.icon && setting.isHeadMenu !== true) {\n        setting.icon = setting.amdFolder + 'images/icon.png';\n      }\n      if (!setting.thumbnail && setting.isHeadMenu !== true) {\n        setting.thumbnail = setting.amdFolder + 'images/thumbnail.png';\n      }\n    }*/\n\n    if (!setting.position) {\n      setting.position = {\n        \"left\": 100,\n        \"top\": 100,\n        \"width\": 300,\n        \"height\": 400,\n        \"relativeTo\": \"map\"\n      };\n    }\n\n    //setting.label has been processed when loading config.\n    return setting;\n  }\n  /**\n   * \n   * @param widgetJson \n   * @param manifest \n   */\n  addManifest2WidgetJson(widgetJson: any, manifest: any) {\n    _.extend(widgetJson, manifest.properties);\n    widgetJson.name = manifest.name;\n    if (!widgetJson.label) {\n      widgetJson.label = manifest.label;\n    }\n    widgetJson.manifest = manifest;\n  }\n  addManifestProperies(manifest: any) {\n    if (manifest.url) {\n      manifest.icon = manifest.url + 'images/icon.png';\n    }\n\n    if (manifest.category === \"theme\") {\n      this.addThemeManifestProperies(manifest);\n    } else {\n      this.addWidgetManifestProperties(manifest);\n    }\n  }\n  addThemeManifestProperies(manifest: any) {\n    manifest.panels.forEach(function (panel) {\n      panel.uri = 'panels/' + panel.name + '/Panel.js';\n    });\n\n    manifest.styles.forEach(function (style) {\n      style.uri = 'styles/' + style.name + '/style.css';\n    });\n\n    manifest.layouts.forEach(function (layout) {\n      layout.uri = 'layouts/' + layout.name + '/config.json';\n      layout.icon = 'layouts/' + layout.name + '/icon.png';\n      layout.RTLIcon = 'layouts/' + layout.name + '/icon_rtl.png';\n    });\n  }\n  /**\n   * \n   * @param manifest \n   */\n  addWidgetManifestProperties(manifest: any) {\n    //because tingo db engine doesn't support 2D, 3D property, so, change here\n    if (typeof manifest['2D'] !== 'undefined') {\n      manifest.support2D = manifest['2D'];\n    }\n    if (typeof manifest['3D'] !== 'undefined') {\n      manifest.support3D = manifest['3D'];\n    }\n\n    if (typeof manifest['2D'] === 'undefined' && typeof manifest['3D'] === 'undefined') {\n      manifest.support2D = true;\n    }\n\n    delete manifest['2D'];\n    delete manifest['3D'];\n\n    if (typeof manifest.properties === 'undefined') {\n      manifest.properties = {};\n    }\n\n    super.processWidgetProperties(manifest);\n  }\n\n  /**\n   * \n   * @param manifest \n   * @param locale \n   */\n  processManifestLabel(manifest, locale) {\n    manifest.label = manifest.i18nLabels && (manifest.i18nLabels[locale] ||\n      manifest.i18nLabels.defaultLabel) ||\n      manifest.label ||\n      manifest.name;\n    if (manifest.layouts) {\n      _.forEach(manifest.layouts, (layout) => {\n        let key = 'i18nLabels_layout_' + layout.name;\n        layout.label = manifest[key] && (manifest[key][locale] ||\n          manifest[key].defaultLabel) ||\n          layout.label ||\n          layout.name;\n      });\n    }\n    if (manifest.styles) {\n      _.forEach(manifest.styles, (_style) => {\n        let key = 'i18nLabels_style_' + _style.name;\n        _style.label = manifest[key] && (manifest[key][locale] ||\n          manifest[key].defaultLabel) ||\n          _style.label ||\n          _style.name;\n      });\n    }\n  }\n  /**\n   * \n   * @param obj \n   * @param props \n   */\n  replacePlaceHolder(obj, props) {\n    let str = JSON.stringify(obj),\n      m = str.match(/\\$\\{(\\w)+\\}/g),\n      i;\n\n    if (m === null) {\n      return obj;\n    }\n    for (i = 0; i < m.length; i++) {\n      let p = m[i].match(/(\\w)+/g)[0];\n      if (props[p]) {\n        str = str.replace(m[i], props[p]);\n      }\n    }\n    return JSON.parse(str);\n  }\n  /**\n   * \n   * @param manifest \n   */\n  addI18NLabel(manifest: any): Promise<any> {\n    return new Promise((resolve, reject) => {\n      if (manifest.i18nLabels) {\n        resolve(manifest);\n        return;\n      }\n      manifest.i18nLabels = {};\n      if (manifest.properties && manifest.properties.hasLocale === false) {\n        resolve(manifest);\n      }\n      resolve(manifest);\n    });\n\n  }\n  /**\n   * \n   * @param url \n   */\n  processUrlInAppConfig(url) {\n    if (!url) {\n      return;\n    }\n    if (url.startWith('data:') || url.startWith('http') || url.startWith('/')) {\n      return url;\n    } else {\n      return this.globalParams.appInfo.appPath + url;\n    }\n  }\n  /**\n   * \n   * @param o1 \n   * @param o2 \n   */\n  isEqual(o1, o2) {\n    let leftChain, rightChain;\n\n    function compare2Objects(x, y) {\n      let p;\n      if (x === null && y === null || typeof x === 'undefined' && typeof y === 'undefined') {\n        return true;\n      }\n\n      if (x === null && y !== null || y === null && x !== null ||\n        typeof x === 'undefined' && typeof y !== 'undefined' ||\n        typeof y === 'undefined' && typeof x !== 'undefined') {\n        return false;\n      }\n\n      // remember that NaN === NaN returns false\n      // and isNaN(undefined) returns true\n      if (isNaN(x) && isNaN(y) && typeof x === 'number' && typeof y === 'number') {\n        return true;\n      }\n      // Compare primitives and functions.\n      // Check if both arguments link to the same object.\n      // Especially useful on step when comparing prototypes\n      if (x === y) {\n        return true;\n      }\n      // Works in case when functions are created in constructor.\n      // Comparing dates is a common scenario. Another built-ins?\n      // We can even handle functions passed across iframes\n      if ((typeof x === 'function' && typeof y === 'function') ||\n        (x instanceof Date && y instanceof Date) ||\n        (x instanceof RegExp && y instanceof RegExp) ||\n        (x instanceof String && y instanceof String) ||\n        (x instanceof Number && y instanceof Number)) {\n        return x.toString() === y.toString();\n      }\n      // check for infinitive linking loops\n      if (leftChain.indexOf(x) > -1 || rightChain.indexOf(y) > -1) {\n        return false;\n      }\n      // Quick checking of one object beeing a subset of another.\n      // todo: cache the structure of arguments[0] for performance\n      if (y !== null) {\n        for (p in y) {\n          if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n            return false;\n          } else if (typeof y[p] !== typeof x[p]) {\n            return false;\n          }\n        }\n        for (p in x) {\n          if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n            return false;\n          } else if (typeof y[p] !== typeof x[p]) {\n            return false;\n          }\n          switch (typeof (x[p])) {\n            case 'object':\n            case 'function':\n              leftChain.push(x);\n              rightChain.push(y);\n              if (!compare2Objects(x[p], y[p])) {\n                return false;\n              }\n              leftChain.pop();\n              rightChain.pop();\n              break;\n            default:\n              if (x[p] !== y[p]) {\n                return false;\n              }\n              break;\n          }\n        }\n      }\n\n      return true;\n    }\n\n    leftChain = []; //todo: this can be cached\n    rightChain = [];\n    if (!compare2Objects(o1, o2)) {\n      return false;\n    }\n    return true;\n  }\n  /**\n   * \n   * @param mapOptions \n   */\n  deleteMapOptions(mapOptions: any) {\n    if (!mapOptions) {\n      return;\n    }\n    delete mapOptions.extent;\n    delete mapOptions.lods;\n    delete mapOptions.center;\n    delete mapOptions.scale;\n    delete mapOptions.zoom;\n    delete mapOptions.maxScale;\n    delete mapOptions.maxZoom;\n    delete mapOptions.minScale;\n    delete mapOptions.minZoom;\n  }\n  /**\n   * \n   * @param obj \n   */\n  reCreateObject(obj: any) {\n    let ret;\n\n    function copyArray(_array) {\n      let retArray = [];\n      _array.forEach(function (a) {\n        if (Array.isArray(a)) {\n          retArray.push(copyArray(a));\n        } else if (typeof a === 'object') {\n          retArray.push(copyObject(a));\n        } else {\n          retArray.push(a);\n        }\n      });\n      return retArray;\n    }\n\n    function copyObject(_obj) {\n      let ret = {};\n      for (let p in _obj) {\n        if (!_obj.hasOwnProperty(p)) {\n          continue;\n        }\n        if (_obj[p] === null) {\n          ret[p] = null;\n        } else if (Array.isArray(_obj[p])) {\n          ret[p] = copyArray(_obj[p]);\n        } else if (typeof _obj[p] === 'object') {\n          ret[p] = copyObject(_obj[p]);\n        } else {\n          ret[p] = _obj[p];\n        }\n      }\n      return ret;\n    }\n\n    if (Array.isArray(obj)) {\n      ret = copyArray(obj);\n    } else {\n      ret = copyObject(obj);\n    }\n    return ret;\n  }\n  /**\n   * \n   * @param _position \n   */\n  getPositionStyle(_position: any) {\n    let style: any = {};\n    if (!_position) {\n      return style;\n    }\n    let position = _.clone(_position);\n    // if (window.isRTL) {\n    if (false) {\n      let temp;\n      if (typeof position.left !== 'undefined' && typeof position.right !== 'undefined') {\n        temp = position.left;\n        position.left = position.right;\n        position.right = temp;\n      } else if (typeof position.left !== 'undefined') {\n        position.right = position.left;\n        delete position.left;\n      } else if (typeof position.right !== 'undefined') {\n        position.left = position.right;\n        delete position.right;\n      }\n\n      if (typeof position.paddingLeft !== 'undefined' &&\n        typeof position.paddingRight !== 'undefined') {\n        temp = position.paddingLeft;\n        position.paddingLeft = position.paddingRight;\n        position.paddingRight = temp;\n      } else if (typeof position.paddingLeft !== 'undefined') {\n        position.paddingRight = position.paddingLeft;\n        delete position.paddingLeft;\n      } else if (typeof position.paddingRight !== 'undefined') {\n        position.paddingLeft = position.paddingRight;\n        delete position.paddingRight;\n      }\n    }\n\n    let ps = ['left', 'top', 'right', 'bottom', 'width', 'height',\n      'padding', 'paddingLeft', 'paddingRight', 'paddingTop', 'paddingBottom'\n    ];\n    for (let i = 0; i < ps.length; i++) {\n      let p = ps[i];\n      if (typeof position[p] === 'number') {\n        style[p] = position[p] + 'px';\n      } else if (typeof position[p] !== 'undefined') {\n        style[p] = position[p];\n      } else {\n        if (p.substr(0, 7) === 'padding') {\n          style[p] = 0;\n        } else {\n          style[p] = 'auto';\n        }\n      }\n    }\n\n    if (typeof position.zIndex === 'undefined') {\n      //set zindex=auto instead of 0, because inner dom of widget may need to overlay other widget\n      //that has the same zindex.\n      style.zIndex = this.globalParams.jimuConfig.zIndex;//'auto';\n    } else {\n      style.zIndex = position.zIndex;\n    }\n    return style;\n  }\n\n  /**\n   * 变更检测\n   * @param cdr ChangeDetectorRef\n   */\n  static detectChanges(cdr: ChangeDetectorRef): void {\n    if (cdr && cdr[\"destroyed\"] === false) {\n      cdr.detectChanges();\n    }\n  }\n}\n","import { DOCUMENT } from '@angular/common';\nimport { Inject, Injectable, NgZone } from '@angular/core';\nimport { Subject, Subscription } from 'rxjs';\nimport { isPlatform, Platforms, getPlatforms } from \"../utils/platform\";\n\nexport interface BackButtonEventDetail {\n  register(priority: number, handler: () => Promise<any> | void): void;\n}\nexport interface BackButtonEmitter extends Subject<BackButtonEventDetail> {\n  subscribeWithPriority(priority: number, callback: () => Promise<any> | void): Subscription;\n}\n@Injectable({\n  providedIn: 'root'\n})\nexport class PlatformService {\n\n  private _readyPromise: Promise<string>;\n  private win: any;\n\n  /**\n   * @hidden\n   */\n  backButton: BackButtonEmitter = new Subject<BackButtonEventDetail>() as any;\n\n  /**\n   * The pause event emits when the native platform puts the application\n   * into the background, typically when the user switches to a different\n   * application. This event would emit when a Cordova app is put into\n   * the background, however, it would not fire on a standard web browser.\n   */\n  pause = new Subject<void>();\n\n  /**\n   * The resume event emits when the native platform pulls the application\n   * out from the background. This event would emit when a Cordova app comes\n   * out from the background, however, it would not fire on a standard web browser.\n   */\n  resume = new Subject<void>();\n\n  /**\n   * The resize event emits when the browser window has changed dimensions. This\n   * could be from a browser window being physically resized, or from a device\n   * changing orientation.\n   */\n  resize = new Subject<void>();\n\n  constructor(@Inject(DOCUMENT) private doc: any, zone: NgZone) {\n    zone.run(() => {\n      this.win = doc.defaultView;\n      this.backButton.subscribeWithPriority = function (priority, callback) {\n        return this.subscribe(ev => (\n          ev.register(priority, () => zone.run(callback))\n        ));\n      };\n\n      proxyEvent(this.pause, doc, 'pause');\n      proxyEvent(this.resume, doc, 'resume');\n      proxyEvent(this.backButton, doc, 'ionBackButton');\n      proxyEvent(this.resize, this.win, 'resize');\n\n      let readyResolve: (value: string) => void;\n      this._readyPromise = new Promise(res => { readyResolve = res; });\n      if (this.win && this.win['cordova']) {\n        doc.addEventListener('deviceready', () => {\n          readyResolve('cordova');\n        }, { once: true });\n      } else {\n        readyResolve!('dom');\n      }\n    });\n  }\n  /*\n   *\n   * | Platform Name   | Description                        |\n   * |-----------------|------------------------------------|\n   * | android         | on a device running Android.       |\n   * | cordova         | on a device running Cordova.       |\n   * | ios             | on a device running iOS.           |\n   * | ipad            | on an iPad device.                 |\n   * | iphone          | on an iPhone device.               |\n   * | phablet         | on a phablet device.               |\n   * | tablet          | on a tablet device.                |\n   * | electron        | in Electron on a desktop device.   |\n   * | pwa             | as a PWA app.                      |\n   * | mobile          | on a mobile device.                |\n   * | mobileweb       | on a mobile device in a browser.   |\n   * | desktop         | on a desktop device.               |\n   * | hybrid          | is a cordova or capacitor app.     |\n   *\n   */\n  is(platformName: Platforms): boolean {\n    return isPlatform(this.win, platformName);\n  }\n\n  /**\n   * @returns the array of platforms\n   * @description\n   * Depending on what device you are on, `platforms` can return multiple values.\n   * Each possible value is a hierarchy of platforms. For example, on an iPhone,\n   * it would return `mobile`, `ios`, and `iphone`.\n   */\n  platforms(): string[] {\n    return getPlatforms(this.win);\n  }\n\n  /**\n   * Returns a promise when the platform is ready and native functionality\n   * can be called. If the app is running from within a web browser, then\n   * the promise will resolve when the DOM is ready. When the app is running\n   * from an application engine such as Cordova, then the promise will\n   * resolve when Cordova triggers the `deviceready` event.\n   *\n   * The resolved value is the `readySource`, which states which platform\n   * ready was used. For example, when Cordova is ready, the resolved ready\n   * source is `cordova`. The default ready source value will be `dom`. The\n   * `readySource` is useful if different logic should run depending on the\n   * platform the app is running from. For example, only Cordova can execute\n   * the status bar plugin, so the web should not run status bar plugin logic.\n   *\n   * ```\n   */\n  ready(): Promise<string> {\n    return this._readyPromise;\n  }\n\n  /**\n   * Returns if this app is using right-to-left language direction or not.\n   * We recommend the app's `index.html` file already has the correct `dir`\n   * attribute value set, such as `<html dir=\"ltr\">` or `<html dir=\"rtl\">`.\n   * [W3C: Structural markup and right-to-left text in HTML](http://www.w3.org/International/questions/qa-html-dir)\n   */\n  get isRTL(): boolean {\n    return this.doc.dir === 'rtl';\n  }\n\n  /**\n   * Get the query string parameter\n   */\n  getQueryParam(key: string): string | null {\n    return readQueryParam(this.win.location.href, key);\n  }\n\n  /**\n   * Returns `true` if the app is in landscape mode.\n   */\n  isLandscape(): boolean {\n    return !this.isPortrait();\n  }\n\n  /**\n   * Returns `true` if the app is in portait mode.\n   */\n  isPortrait(): boolean {\n    return this.win.matchMedia && this.win.matchMedia('(orientation: portrait)').matches;\n  }\n\n  testUserAgent(expression: string): boolean {\n    const nav = this.win.navigator;\n    return !!(nav && nav.userAgent && nav.userAgent.indexOf(expression) >= 0);\n  }\n\n  /**\n   * Get the current url.\n   */\n  url() {\n    return this.win.location.href;\n  }\n\n  /**\n   * Gets the width of the platform's viewport using `window.innerWidth`.\n   */\n  width() {\n    return this.win.innerWidth;\n  }\n\n  /**\n   * Gets the height of the platform's viewport using `window.innerHeight`.\n   */\n  height(): number {\n    return this.win.innerHeight;\n  }\n}\n\nconst readQueryParam = (url: string, key: string) => {\n  key = key.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n  const regex = new RegExp('[\\\\?&]' + key + '=([^&#]*)');\n  const results = regex.exec(url);\n  return results ? decodeURIComponent(results[1].replace(/\\+/g, ' ')) : null;\n};\n\nconst proxyEvent = <T>(emitter: Subject<T>, el: EventTarget, eventName: string) => {\n  if ((el as any)) {\n    el.addEventListener(eventName, (ev: Event | undefined | null) => {\n      // ?? cordova might emit \"null\" events\n      emitter.next(ev != null ? (ev as any).detail as T : undefined);\n    });\n  }\n};","import { UtilsService } from './utils.service';\nimport { Injectable, ComponentRef, EmbeddedViewRef } from '@angular/core';\nimport { WidgetPosition } from '../models/base-widget';\nimport { isPlatform, Platforms } from '../utils/platform'\nimport { PlatformService } from \"./platform.service\";\n/**\n * create by ruir 191015  通用功能函数\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class CommonService {\n\n  constructor(\n    private utils: UtilsService,\n    private platform: PlatformService\n  ) {\n\n  }\n  /**\n   * \n   */\n  createPromiseDefer() {\n    let resolve, reject;\n    const promise = new Promise<any>(function () {\n      resolve = arguments[0];\n      reject = arguments[1];\n    });\n    return {\n      resolve: resolve,\n      reject: reject,\n      promise: () => promise\n    };\n  }\n\n  /**\n   * 获取组件根级元素\n   * @param componentRef \n   */\n  getComponentRootNode(componentRef: ComponentRef<any>): HTMLElement {\n    if (!componentRef) {\n      console.log('componentRef undefined');\n      return null;\n    }\n    return (componentRef.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\n  }\n  /**\n   * 获取元素范围边界\n   * @param ele \n   */\n  getElementBounds(ele: HTMLElement) {\n    if (!ele) return null;\n    const rect = ele.getBoundingClientRect();\n\n    const top = document.documentElement.clientTop;\n\n    const left = document.documentElement.clientLeft;\n\n    return {\n\n      top: rect.top - top,\n      left: rect.left - left,\n      bottom: rect.bottom - top,\n      right: rect.right - left,\n      width: rect.width,\n      height: rect.height\n    }\n  }\n\n  /**\n   * \n   * @param px \n   */\n  getPx(px) {\n    // let xxxxx = _.isNumber(\"300\");//居然是false\n    if (!px) return \"0px\";\n    if (typeof px === \"string\" && px.indexOf(\"px\") >= 0) {\n      return px;\n    }\n    if (px.toString().indexOf(\"%\") >= 0 || px === \"auto\") return px;\n    if (typeof px === \"number\")\n      return px + \"px\";\n    let _temp = parseFloat(px);\n    if (isNaN(_temp)) {\n      return \"0px\";\n    }\n    return _temp + \"px\";\n\n  }\n  /**\n   * \n   * @param px \n   */\n  getPxNumber(px: number | string): number | string {\n    if (!px) return 0;\n\n    if (typeof px === \"string\" && px.indexOf(\"px\") >= 0) {\n      return parseInt(px, 10);\n    }\n    if (px.toString().indexOf(\"%\") >= 0 || px === \"auto\") return px;\n\n    if (typeof px === \"number\")\n      return px;\n\n    let _temp = parseFloat(px.toString());\n    if (isNaN(_temp)) {\n      return 0;\n    }\n    return _temp;\n  }\n  /**\n   * \n   * @param positionConfig \n   */\n  getPosition(positionConfig: any): WidgetPosition {\n    let _position: WidgetPosition = new WidgetPosition();\n    if (positionConfig.top || positionConfig.top == 0) {\n      _position.top = this.getPx(positionConfig.top);\n    }\n    if (positionConfig.left || positionConfig.left == 0) {\n      _position.left = this.getPx(positionConfig.left);\n    }\n    if (positionConfig.right || positionConfig.right == 0) {\n      _position.right = this.getPx(positionConfig.right);\n    }\n    if (positionConfig.bottom || positionConfig.bottom == 0) {\n      _position.bottom = this.getPx(positionConfig.bottom);\n    }\n    if (positionConfig.width || positionConfig.width == 0) {\n      _position.width = this.getPx(positionConfig.width);\n    } else {\n      _position.width = \"100%\";\n    }\n    if (positionConfig.height || positionConfig.height == 0) {\n      _position.height = this.getPx(positionConfig.height);\n    } else {\n      _position.height = \"100%\";\n    }\n    if (positionConfig.zIndex || positionConfig.zIndex == 0) {\n      _position.zIndex = positionConfig.zIndex;\n    }\n    return _position;\n  }\n  /**\n   * 设置组件位置\n   * @param compRef \n   * @param widgetPosition \n   */\n  setWidgetPosition(compRef: ComponentRef<any>, widgetPosition: any) {\n    let ele: HTMLElement = this.getComponentRootNode(compRef);\n    let css = this.utils.getPositionStyle(widgetPosition);\n    ele.style.position = \"absolute\";\n    if (css.top || css.top == 0) {\n      ele.style.top = css.top;\n    }\n    if (css.right || css.right == 0) {\n      ele.style.right = css.right;\n    }\n    if (css.bottom || css.bottom == 0) {\n      ele.style.bottom = css.bottom;\n    }\n    if (css.left || css.left == 0) {\n      ele.style.left = css.left;\n    }\n    if (css.width || css.width == 0) {\n      ele.style.width = css.width;\n    }\n    if (css.height || css.height == 0) {\n      ele.style.height = css.height;\n    }\n    if (css.zIndex || css.zIndex == 0) {\n      ele.style.zIndex = css.zIndex;\n    }\n  }\n  private win: any;\n  is(platformName: Platforms): boolean {\n    return isPlatform(this.win, platformName);\n  }\n\n  /**\n   * 返回当前平台名称\n   */\n  getPlatformName(): string {\n\n    if (this.isAndroid())\n      return 'android';\n\n    if (this.isIos())\n      return 'ios';\n\n    if (!this.isMobile())\n      return 'browser'\n\n    return 'unknown';\n  }\n  /**\n   * 是否移动端环境\n   */\n  isMobileNotTablet(): boolean {\n    return this.isMobile()\n      && this.platform.is(\"ipad\") == false\n      && this.platform.is(\"phablet\") == false\n      && this.platform.is(\"tablet\") == false;\n  }\n  /**\n   * 是否移动端环境\n   */\n  isMobile(): boolean {\n    return this.platform.is(\"mobile\") || this.platform.is(\"mobileweb\");\n  }\n  /**\n   * 是否真机环境\n   */\n  isMobileRealMachine(): boolean {\n    return this.platform.is('mobile') && !this.platform.is('mobileweb');\n  }\n  /**\n   * 是否android真机环境\n   */\n  isAndroid(): boolean {\n    return this.isMobileRealMachine() && this.platform.is('android');\n  }\n  /**\n   * 是否ios真机环境\n   */\n  isIos(): boolean {\n    return this.isMobileRealMachine() && (this.platform.is('ios') || this.platform.is('ipad') || this.platform.is('iphone'));\n  }\n}\n","import { Injectable, ComponentFactoryResolver, Type, ViewContainerRef, OnDestroy, ComponentRef, Injector, forwardRef, Inject, EmbeddedViewRef, ApplicationRef } from '@angular/core';\r\nimport { ComponentRegistry, findComponentInfo } from '../decorator/component-register.decorator';\r\nimport { ServiceInjector } from './service-injector';\r\n/**\r\n * create by ruir 191018  组件加载器\r\n */\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class ComponentLoaderService implements OnDestroy {\r\n    /**\r\n     * 最外层容器\r\n     */\r\n    viewContainerInHome: ViewContainerRef = null;\r\n    /**\r\n     * 地图组件中的容器\r\n     */\r\n    viewContainerInMap: ViewContainerRef = null;\r\n    private serviceInjector: ServiceInjector = null;\r\n    factories = null;\r\n    factoriesArray: Array<any> = null;\r\n    constructor(\r\n        private componentFactoryResolver: ComponentFactoryResolver\r\n        // ,private applicationRef: ApplicationRef,\r\n        //, @Inject(forwardRef(() => ServiceInjector))\r\n        //  private serviceInjector: ServiceInjector\r\n    ) {\r\n        // setTimeout(() => {\r\n        //     let injector = ReflectiveInjector.resolveAndCreate([ServiceInjector]);\r\n        //     let dependence1 = injector.get(ServiceInjector, null);\r\n        // }, 500);\r\n        this.factories = this.componentFactoryResolver[\"_factories\"];\r\n        if (this.factories) {\r\n            this.factoriesArray = Array.from(this.factories);\r\n        }\r\n    }\r\n    /**\r\n     * 创建组件\r\n     * @param component 组件\r\n     * @param params 参数\r\n     * @param container 容器\r\n     */\r\n    public createComponent(component: Type<any>, params?: any, container?: ViewContainerRef) {\r\n\r\n        let inputs = {};\r\n        if (params) {\r\n            inputs = params;\r\n        }\r\n        let inputProviders = Object.keys(inputs).map((inputName) => {\r\n            return { provide: inputName, useValue: inputs[inputName] };\r\n        });\r\n        //过时\r\n        //Injector.create(inputProviders)\r\n        //过时\r\n        // const resolvedInputs = ReflectiveInjector.resolve(inputProviders);\r\n        // const resolvedInputs= Injector.create({\r\n        //     providers:inputProviders\r\n        // })\r\n        // let parent = null;\r\n        // if (container) {\r\n        //     parent = container.parentInjector;\r\n        // }\r\n        // const injector = ReflectiveInjector.fromResolvedProviders(resolvedInputs, parent);\r\n        const injector = Injector.create({ providers: inputProviders, parent: container?.parentInjector });\r\n        const factory = this.componentFactoryResolver.resolveComponentFactory(component);\r\n        // container?.createComponent(factory,0,injector);\r\n        const compRef = factory.create(injector);\r\n        if (typeof compRef.instance.setServiceInjector === \"function\") {\r\n            compRef.instance.setServiceInjector(this.serviceInjector);\r\n        }\r\n        // this.applicationRef.attachView(compRef.hostView);\r\n        return compRef;\r\n    }\r\n    /**\r\n     * 获取组件的路径\r\n     * @param name 组件的selector\r\n     */\r\n    getComponentPath(name: string) {\r\n        const compInfo = findComponentInfo(name);\r\n        if (compInfo) {\r\n            return compInfo.path || compInfo.uri;\r\n        }\r\n        const comp = this.findComponent(name);\r\n        if (comp) {\r\n            return (typeof comp.getCompInfo === \"function\") ? comp.getCompInfo().path : \"\";\r\n        }\r\n        return \"\";\r\n    }\r\n    /**\r\n     * 查找组件\r\n     * @param name 组件的selector\r\n     */\r\n    findComponent(name: string) {\r\n        let comp = null;\r\n        if (this.factories) {\r\n            //ng8\r\n            //let factories: Array<any> =Array.from( this.componentFactoryResolver[\"_factories\"].values());\r\n            if (!this.factories || this.factories.size <= 0) return null;\r\n            //Array.from(factories)[0]  0:class 1:ComponentFactory_\r\n            //[...factories.values()] ComponentFactory_\r\n            /*\r\n            factories.forEach((value: any, key: any) => {\r\n                //value.componentType.name \"OnScreenWidgetIconComponent\"\r\n                //value.selector \"epsgis-on-screen-widget-icon\"\r\n                let _cname: string = key.name;\r\n                //key :NzDropdownContextComponent\r\n                if (_cname.toLowerCase() !== name.toLowerCase() && typeof key.getCompInfo === \"function\") {\r\n                    _cname = key.getCompInfo().name;\r\n                }\r\n                console.log(_cname);\r\n                if (_cname.toLowerCase() === name.toLowerCase()) {\r\n                    comp = key;\r\n                    return true;\r\n                }\r\n            });\r\n            */\r\n\r\n            let item = this.factoriesArray.find((value, index: number, arr) => {\r\n                //console.log(`value[0].name:${value[0].name}`); //变了\r\n                //console.log(`value[1].componentType.name:${value[1].componentType.name}`); //变了\r\n                //console.log(`value[1].selector:${value[1].selector}`); //\r\n                return value[1].selector.toLowerCase() === name.toLowerCase();\r\n            });\r\n            if (item) {\r\n                comp = item[0];\r\n                //console.log(JSON.stringify(comp.getCompInfo()));\r\n            }\r\n        } else {\r\n            //ng9及以上\r\n            const compInfo = findComponentInfo(name);\r\n            if (compInfo) {\r\n                return compInfo.component;\r\n            }\r\n        }\r\n        return comp;\r\n\r\n    }\r\n    getServiceInjector() {\r\n        return this.serviceInjector;\r\n    }\r\n    /**\r\n     * \r\n     * @param serviceInjector \r\n     */\r\n    setServiceInjector(serviceInjector: ServiceInjector) {\r\n        this.serviceInjector = serviceInjector;\r\n    }\r\n    ///////////////////////////\r\n    /**\r\n     * 设置组件容器\r\n     * @param container \r\n     */\r\n    setViewContainerInHome(container: ViewContainerRef) {\r\n        this.viewContainerInHome = container;\r\n    }\r\n    /**\r\n     * 创建组件\r\n     * @param component 组件\r\n     * @param params 参数\r\n     */\r\n    createComponentToHome(component: Type<any>, params?: any) {\r\n        return this.createComponent(component, params, this.viewContainerInHome);\r\n    }\r\n    /**\r\n     * 显示组件\r\n     */\r\n    showInHome(compRef: ComponentRef<any>) {\r\n        if (!compRef) {\r\n            return;\r\n        }\r\n        if (!this.viewContainerInHome) {\r\n            console.error(\"未设置容器，无法显示组件\");\r\n            return;\r\n        }\r\n        this.viewContainerInHome.insert(compRef.hostView);\r\n    }\r\n    /////////////////////////\r\n\r\n    /**\r\n     * 设置组件容器\r\n     * @param container \r\n     */\r\n    setViewContainerInMap(container: ViewContainerRef) {\r\n        this.viewContainerInMap = container;\r\n    }\r\n    /**\r\n     * 创建组件到地图组件中\r\n     * @param component 组件\r\n     * @param params 参数\r\n     */\r\n    createComponentToMap(component: Type<any>, params?: any) {\r\n        return this.createComponent(component, params, this.viewContainerInMap);\r\n    }\r\n    /**\r\n     * 显示组件（相对于地图组件）\r\n     */\r\n    showInMap(compRef: ComponentRef<any>) {\r\n        if (!compRef) {\r\n            return;\r\n        }\r\n        if (!this.viewContainerInMap) {\r\n            console.error(\"未设置容器，无法显示组件\");\r\n            return;\r\n        }\r\n        this.viewContainerInMap.insert(compRef.hostView);\r\n    }\r\n    /**\r\n     * \r\n     */\r\n    ngOnDestroy() {\r\n        if (this.viewContainerInHome) {\r\n            this.viewContainerInHome.clear();\r\n        }\r\n        if (this.viewContainerInMap) {\r\n            this.viewContainerInMap.clear();\r\n        }\r\n    }\r\n}\r\n","/**\n * create by ruir 191014  baseWidgetFrame.js\n */\nexport class BaseWidgetFrame {\n}\n","/**\n * create by ruir 191014  baseWidgetPanel.js\n */\nexport class BaseWidgetPanel {\n}\n","/**\n * create by ruir 191014  baseWidgetSetting.js\n */\nexport class BaseWidgetSetting {\n}\n","/**\n * create by ruir 191014  OnScreenWidgetPanel.js\n */\nexport class OnScreenWidgetPanel {\n}\n","/**\n * \n */\nexport class WidgetPlaceholder {\n\n    index: number = 0;\n    configId: string = \"\";\n    id = \"dijit__WidgetBase_\" + this.index;\n    class = 'jimu-widget-placeholder';\n    params: any = null;\n    constructor(options: any) {\n        this.params = options;\n    }\n    /**\n     * \n     */\n    postCreate() {\n\n\n    }\n    /**\n     * \n     * @param position \n     */\n    moveTo(position) {\n\n    }\n    /**\n     * \n     * @param index \n     */\n    setIndex(index: number) {\n\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { EventEmitter } from 'events';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EventEmitterService {\n\n  rss: EventEmitter = new EventEmitter();\n  /**\n   * 地图加载完成\n   */\n  readonly _mapLoaded: string = \"manLoaded\";\n  /**\n   * 地图改变\n   */\n  readonly _mapChanged: string = \"mapChanged\";\n  /**\n   * \n   */\n  readonly _viewLoaded: string = \"viewLoaded\";\n  /**\n   * \n   */\n  readonly _viewChanged: string = \"viewChanged\";\n  /**\n   * 组件创建成功\n   */\n  readonly _widget_Created: string = \"widget-created\";\n  /**\n   * 组件创建成功\n   */\n  readonly _widgetCreated: string = \"widgetCreated\";\n  /**\n   * \n   */\n  readonly _designConfigChanged: string = \"DesignConfigChanged\";\n  /**\n   * \n   */\n  readonly _appConfigLoaded: string = \"appConfigLoaded\";\n\n  readonly _appConfigChanged: string = \"appConfigChanged\";\n  readonly _header_ConfigChanged = \"header-configChanged\";\n  /**\n   * \n   */\n  readonly _createPanelContainer: string = \"createPanelContainer\";\n  /**\n   * \n   */\n  readonly _mapPositionChanged: string = \"mapPositionChanged\";\n\n  /**\n   * 变更检测 add yly 20200327\n   */\n  readonly _checkChangeDetector: string = \"detectChanges\";\n  /**\n   * 图片查看器，索引改变\n   */\n  readonly _imageViewerIndexChanged: string = \"imageViewerIndexChanged\";\n  constructor() {\n    //Possible EventEmitter memory leak detected. 11 mapChanged listeners added. Use emitter.setMaxListeners() to increase limit\n    //this.rss.setMaxListeners(50);\n  }\n  /**\n   * 移除监听\n   */\n  removeListener(event: string | any, listener: (...args: any[]) => void) {\n    if (typeof listener === \"function\") {\n      return this.rss.removeListener(event, listener);\n    }\n    return this.rss;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams, HttpHeaders } from '@angular/common/http';\nimport { RequestResultModel, TokenModel, OrderByType } from '../models/http/request.result';\nimport { AppGlobalConfig } from '../models/models';\n// export const ApiRootUrl = new InjectionToken<string>('ApiRootUrl');\n@Injectable({\n    providedIn: 'root'\n})\nexport class HttpReqService {\n    private ServiceUrl: string = '';\n    headers = new HttpHeaders().set(\n        \"Content-type\",\n        \"application/json; charset=UTF-8\"\n    );\n    private _tokenKey = \"__token\";\n    private _tokenValue = \"\";\n    constructor(\n        public httpClient: HttpClient,\n        // @Optional() @Inject(ApiRootUrl) private ApiRootUrl: string\n        public config: AppGlobalConfig\n    ) {\n        this.ServiceUrl = config.apiRootUrl;\n    }\n    /**\n     * 获取本地保存的token\n     */\n    getLocalToken(): TokenModel {\n        if (window.sessionStorage) {\n            let str = sessionStorage.getItem(this._tokenKey);\n            if (str != \"\") {\n                return JSON.parse(str);\n            }\n        } else {\n            console.log(\"浏览器不支持sessionStorage\");\n        }\n        return null;\n    }\n    /**\n     * sessionStorage中的key\n     */\n    getTokenKey() {\n        return this._tokenKey;\n    }\n    /**\n     * token更新后需要调用此函数更新本实例中的值\n     * @param token \n     */\n    setAccessToken(token: string) {\n        this._tokenValue = token;\n    }\n    /**\n     * \n     */\n    getAccessToken() {\n        let token: string = \"\";\n        if (this._tokenValue) {\n            token = this._tokenValue;\n        } else {\n            let m: TokenModel = this.getLocalToken();\n            if (m) {\n                this.setAccessToken(m.access_token);\n                token = m.access_token;\n            }\n        }\n        return token;\n    }\n    /**\n     * 获取带有token的headers\n     */\n    getAuthHeaders() {\n        return this.headers.set(\"Authorization\", `Bearer ${this.getAccessToken()}`);\n    }\n    /**\n     * 请求json文件\n     * @param configFilePath \n     */\n    getJsonFile(configFilePath: string) {\n        return this.httpClient.get(configFilePath, { responseType: 'json' }).toPromise();\n    }\n\n    private _toHttpParams(paras: Array<HttpPara>): HttpParams {\n        if (!paras) return null;\n        let obj = {};\n        paras.forEach(x => {\n            obj[x.name] = x.value;\n        })\n        return new HttpParams({ fromObject: obj });\n    }\n    /**\n     * \n     * @param para \n     */\n    private _toParaString(para: Array<HttpPara>): string {\n        if (!para || para.length <= 0) return '';\n        let str = '';\n        para.forEach(s => {\n            str += `&${s.name}=${s.value}`;\n        });\n        return str.substring(1);\n    }\n    /**\n     * \n     * @param para \n     */\n    private _toHttpParams2(para: ObjectPara | string) {\n        let _httpParams = null;\n        if (typeof para === \"string\") {\n            _httpParams = new HttpParams({ fromString: para });\n        } else {\n            _httpParams = new HttpParams({ fromObject: para as ObjectPara });\n        }\n        return _httpParams;\n    }\n    /**\n     * \n     * @param para \n     */\n    private _toParaString2(para: ObjectPara | string): string {\n        if (!para) return '';\n        if (typeof para === \"string\") {\n            if (para.startsWith(\"&\") || para.startsWith(\"?\")) {\n                return para.substring(1);\n            }\n            return para;\n        } else {\n            let str = '';\n            for (const key in para) {\n                if (para.hasOwnProperty(key)) {\n                    str += `&${key}=${para[key]}`;\n                }\n            }\n            return str.substring(1);\n        }\n    }\n    /**\n     * get请求\n     * @param apiName api\n     * @param para 参数\n     * @param serviceUrl 服务地址\n     */\n    getNoAuthGeneric<T>(apiName: string, para?: ObjectPara | string, serviceUrl?: string) {\n        let url = this.ServiceUrl;\n        if (serviceUrl) url = serviceUrl;\n        return this.httpClient.get<T>(`${url}/${apiName}`, {\n            headers: this.headers,\n            //params: new HttpParams({ fromString: paraString })\n            params: this._toHttpParams2(para)\n        }).toPromise<T>();\n    }\n    /**\n     * \n     * @param apiName api\n     * @param para 参数字符串\n     * @param serviceUrl 服务地址\n     */\n    getNoAuth(apiName: string, para?: ObjectPara | string, serviceUrl?: string) {\n        return this.getNoAuthGeneric<RequestResultModel>(apiName, para, serviceUrl);\n    }\n    /**\n    * get请求-带验证\n    * @param apiName api\n    * @param para 参数字符串\n    * @param serviceUrl 服务地址\n    */\n    getGeneric<T>(apiName: string, para?: ObjectPara | string, serviceUrl?: string) {\n        let url = this.ServiceUrl;\n        if (serviceUrl) url = serviceUrl;\n        return this.httpClient.get<T>(`${url}/${apiName}`, {\n            headers: this.getAuthHeaders(),\n            // params: new HttpParams({ fromString: paraString })\n            params: this._toHttpParams2(para)\n        }).toPromise<T>();\n    }\n    /**\n     * \n     * @param apiName \n     * @param para \n     * @param serviceUrl \n     */\n    get(apiName: string, para?: ObjectPara | string, serviceUrl?: string) {\n        return this.getGeneric<RequestResultModel>(apiName, para, serviceUrl);\n    }\n    /**\n     * 获取分页数据\n     * @param apiName \n     * @param pageIndex 页码\n     * @param pageSize 每页大小\n     * @param orderBy 排序\n     * @param direction 排序方向\n     * @param para 参数\n     * @param serviceUrl 自定义url\n     */\n    getPage(apiName: string, pageIndex: number, pageSize: number, orderBy?: string, direction?: OrderByType, para?: ObjectPara | string, serviceUrl?: string) {\n        if (pageIndex <= 0) {\n            pageIndex = 1;\n        }\n        if (pageSize <= 0) {\n            pageSize = 20;\n        }\n        let pager: ObjectPara = {\n            page: pageIndex.toString(),\n            size: pageSize.toString(),\n            orderby: orderBy ? orderBy : \"\",\n            direction: direction === OrderByType.desc ? \"1\" : \"0\"\n        };\n        let paraString = this._toParaString2(pager);\n        if (para) {\n            paraString = paraString + \"&\" + this._toParaString2(para);\n        }\n        return this.getGeneric<RequestResultModel>(apiName, paraString, serviceUrl);\n    }\n    /**\n    * post请求\n    * @param apiName 方法名\n    * @param para 参数\n    * @param serviceUrl 服务地址\n    * @param receiveAsObject api是否以对象接收参数\n    */\n    postNoAuthGeneric<T>(apiName: string, para?: ObjectPara | string | any, serviceUrl?: string | boolean, receiveAsObject?: boolean): Promise<T> {\n        let url = this.ServiceUrl;\n        if (typeof serviceUrl === 'string' && serviceUrl) url = serviceUrl;\n        if (receiveAsObject === true || (typeof serviceUrl === 'boolean' && serviceUrl === true)) {\n            return this.httpClient.post<T>(`${url}/${apiName}`, para, { headers: this.headers }).toPromise<T>();\n        } else {\n            return this.httpClient.post<T>(\n                `${url}/${apiName}`,\n                this._toParaString2(para),//要字符串\n                {\n                    headers: {\n                        'Content-Type': \"application/x-www-form-urlencoded;charset=UTF-8\"//也必须要设置。。。坑。。。                \n                    }\n                    //,params: this._toHttpParams(para)//这里是get参数\n                }).toPromise<T>();\n        }\n    }\n    /**\n     * \n     * @param apiName \n     * @param para \n     * @param serviceUrl \n    * @param receiveAsObject api是否以对象接收参数\n     */\n    postNoAuth(apiName: string, para?: ObjectPara | string | any, serviceUrl?: string | boolean, receiveAsObject?: boolean): Promise<RequestResultModel> {\n        return this.postNoAuthGeneric<RequestResultModel>(apiName, para, serviceUrl, receiveAsObject);\n    }\n\n\n    /**\n      * post请求-带验证\n      * @param apiName 方法名\n      * @param para 参数\n     * @param serviceUrl 服务地址\n    * @param receiveAsObject api是否以对象接收参数\n      */\n    postGeneric<T>(apiName: string, para?: ObjectPara | string | any, serviceUrl?: string | boolean, receiveAsObject?: boolean) {\n        let url = this.ServiceUrl;\n        if (typeof serviceUrl === 'string' && serviceUrl) url = serviceUrl;\n        if (receiveAsObject === true || (typeof serviceUrl === 'boolean' && serviceUrl === true)) {\n            return this.httpClient.post<T>(`${url}/${apiName}`, para, { headers: this.getAuthHeaders() }).toPromise<T>();\n        } else {\n            return this.httpClient.post<T>(\n                `${url}/${apiName}`,\n                this._toParaString2(para),//要字符串\n                {\n                    headers: {\n                        'Content-Type': \"application/x-www-form-urlencoded;charset=UTF-8\"//也必须要设置。。。坑。。。\n                        , \"Authorization\": `Bearer ${this.getAccessToken()}`\n                    }\n                    //,params: this._toHttpParams(para)//这里是get参数\n                }).toPromise<T>();\n        }\n    }\n    /**\n     * \n     * @param apiName \n     * @param para \n     * @param serviceUrl \n    * @param receiveAsObject api是否以对象接收参数\n     */\n    post(apiName: string, para?: ObjectPara | string | any, serviceUrl?: string | boolean, receiveAsObject?: boolean) {\n        return this.postGeneric<RequestResultModel>(apiName, para, serviceUrl, receiveAsObject);\n    }\n\n    /**\n     * 获取分页数据\n     * @param apiName \n     * @param pageIndex 页码\n     * @param pageSize 每页大小\n     * @param orderBy 排序\n     * @param direction 排序方向\n     * @param para 参数\n     * @param serviceUrl 自定义url\n    * @param receiveAsObject api是否以对象接收参数\n     */\n    postPage(apiName: string, pageIndex: number, pageSize: number, orderBy?: string, direction?: OrderByType, para?: ObjectPara | string | any, serviceUrl?: string | boolean, receiveAsObject?: boolean) {\n        if (pageIndex <= 0) {\n            pageIndex = 1;\n        }\n        if (pageSize <= 0) {\n            pageSize = 20;\n        }\n        let pager: ObjectPara = {\n            page: pageIndex.toString(),\n            size: pageSize.toString(),\n            orderby: orderBy ? orderBy : \"\",\n            direction: direction === OrderByType.desc ? \"1\" : \"0\"\n        };\n        let paraString = this._toParaString2(pager);\n        if (para) {\n            paraString = paraString + \"&\" + this._toParaString2(para);\n        }\n        return this.postGeneric<RequestResultModel>(apiName, paraString, serviceUrl, receiveAsObject);\n    }\n    /**\n     * delete请求\n     * @param apiName \n     * @param para \n     * @param serviceUrl \n     */\n    deleteGeneric<T>(apiName: string, para: ObjectPara | string, serviceUrl?: string) {\n        let url = this.ServiceUrl;\n        if (serviceUrl) url = serviceUrl;\n\n        return this.httpClient.delete<T>(`${url}/${apiName}`,\n            {\n                params: this._toHttpParams2(para),\n                headers: {\n                    \"Authorization\": `Bearer ${this.getAccessToken()}`\n                }\n            }\n        ).toPromise<T>();\n    }\n    /**\n     * \n     * @param apiName \n     * @param para \n     * @param serviceUrl \n     */\n    delete(apiName: string, para?: ObjectPara | string, serviceUrl?: string) {\n        return this.deleteGeneric<RequestResultModel>(apiName, para, serviceUrl);\n    }\n}\ninterface HttpPara {\n    name: string;\n    value: any;\n}\n\nexport interface ObjectPara {\n    [param: string]: string | ReadonlyArray<string>;\n}","import { CommonService } from './common.service';\nimport { HttpReqService } from './request.service';\nimport { EventEmitterService } from './event-emitter.service';\nimport { Injectable, ComponentRef } from '@angular/core';\nimport { UtilsService } from './utils.service';\nimport * as _ from \"lodash\";\nimport { ComponentLoaderService } from './component-loader.service';\nimport { WidgetState, WidgetOpenOptions } from '../models/base-widget';\nimport { ConfigLoaderService } from './config-loader.service';\nimport { PanelDockMode } from '../models/base-panel';\nimport { PanelManagerService } from './panel-manager.service';\nimport { BaseWidgetComponent } from '../components/base-widget/base-widget.component';\nimport { AppGlobalConfig } from '../models/models';\nimport { IComponentInfo } from '../decorator/component-register.decorator';\nimport { BaseWidget } from '../components/base-widget';\n/**\n * create by ruir 191014  widgetManager.js\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class WidgetManagerService {\n  loaded: Array<ComponentRef<BaseWidgetComponent>> = null;\n  missedActions: Array<any> = null;\n  activeWidget: ComponentRef<BaseWidgetComponent> = null;\n  map: any = null;\n  view: any = null;\n  appConfig: any = null;\n  configLoader: ConfigLoaderService;\n  panelManager: PanelManagerService;\n  constructor(\n    private globalParams: AppGlobalConfig,\n    private eventService: EventEmitterService,\n    private utils: UtilsService,\n    private httpService: HttpReqService,\n    private commonService: CommonService,\n    private componentLoader: ComponentLoaderService) {\n    this.loaded = [];\n    this.missedActions = [];\n    this.activeWidget = null;\n    // this.eventService.rss.on(this.eventService._mapLoaded, this._onMapLoaded);\n    // this.eventService.rss.on(this.eventService._mapChanged, this._onMapChanged);\n  }\n  /**\n    * \n    * @param map 二维地图或三维场景\n    */\n  setMap(map) {\n    if (this.globalParams.mapConfig.is3D === true) {\n      this.view = map;\n    } else {\n      this.map = map;\n    }\n  }\n  setAppConfig(appConfig) {\n\n    this.appConfig = appConfig;//appConfig有些问题\n    //this.appConfig = _layoutManager.appConfig;\n\n  }\n  _onMapLoaded(map) {\n\n  }\n\n  _onMapChanged(map) {\n\n  }\n  /**\n   * \n   * @param compInfo\n   * @param widget \n   */\n  loadConfig(compInfo: IComponentInfo, widget: BaseWidget): Promise<boolean> {\n    //view/map 赋值，其实setWidgetPorp也会赋值\n    widget.appConfig = this.appConfig;\n    widget.view = this.view;\n    widget.map = this.map;\n    let def = this.commonService.createPromiseDefer();\n    //从appConfig中查找组件的配置，查找到后直接赋值\n    let item = this.appConfig.widgetOnScreen.widgets.find(f => f.uri.toLowerCase() === compInfo.uri.toLowerCase());\n    if (item) {\n      if (!item.config) {\n        this.tryLoadWidgetConfig(item).then(widgetJson => {\n          this.setWidgetPorp(widget, widgetJson);\n          widget.started = true;\n          widget.state = WidgetState.opened;\n          return def.resolve(true);\n        }).catch(err => {\n          return def.resolve(true);\n        });\n      }\n\n    } else {\n      //如果没有查找到，则请求配置文件，再赋值\n      const aconfig = {\n        \"widgetOnScreen\":\n        {\n          \"widgets\": [{\n            \"uri\": compInfo.uri,\n            \"label\": compInfo.name\n          }]\n        }\n      };\n      this.configLoader._upgradeAppConfig(aconfig);\n      this.configLoader._processAfterTryLoad(aconfig);\n      this.configLoader.loadWidgetsManifest(aconfig).then(appconfig => {\n        const wConfig = appconfig.widgetOnScreen.widgets[0];\n        this.tryLoadWidgetConfig(wConfig).then(widgetJson => {\n          this.setWidgetPorp(widget, widgetJson);\n          widget.started = true;\n          widget.state = WidgetState.opened;\n          return def.resolve(true);\n        }).catch(err => {\n          return def.resolve(true);\n        });\n      });\n    }\n    return def.promise();\n  }\n  /**\n   * 打开组件\n   * @param options \n   */\n  openWidget(options: WidgetOpenOptions): Promise<BaseWidgetComponent> {\n    let _openPanelOrWidget = (_config) => {\n      const _options = _.cloneDeep(options);\n      let inPanel = _config.inPanel;\n      //仅创建组件时，panel不显示\n      if (options.onlyCreateWidget === true) { inPanel = false; }\n\n      if (inPanel !== false) {\n        //打开panel\n        this.panelManager.showPanel(_config, null, options.panel, _options).then((panel) => {\n          if (panel.instance.isDockable()) {\n            this.panelManager.onMapResize();\n          }\n          def.resolve(panel);\n        });\n      } else {\n        //打开组件\n        this.loadWidget(_config, _options).then((compRef) => {\n          if (options.onlyCreateWidget === true) {\n            def.resolve(compRef);\n          }\n          else {\n            this.showWidget(compRef);\n            compRef.instance.setPosition(_config.position);\n            this.commonService.setWidgetPosition(compRef, _config.position);\n            _config.loaded = true;\n            compRef.instance.configId = _config.id;\n            def.resolve(compRef.instance);\n          }\n        }).catch((err) => def.reject(err));\n      }\n    }\n    let def = this.commonService.createPromiseDefer();\n    if (!options.uri) {\n      console.error(\"no uri\");\n      def.reject(new Error(\"no uri\"));\n      return def.promise();\n    }\n    //查找appConfig，是否有配置\n    let item = this.appConfig.widgetOnScreen.widgets.find(f => f.uri.toLowerCase() === options.uri.toLowerCase());\n    if (item) {\n      //有配置\n      _openPanelOrWidget(item);\n    } else {\n      //没有配置\n      if (!options.position) {\n        console.error(\"no position\");\n        def.reject(new Error(\"no position\"));\n        return def.promise();\n      }\n      //有position 完善属性\n      let _config = {\n        \"label\": \"\",\n        \"uri\": options.uri,\n        \"position\": {\n        }\n      };\n      _config.position = _.merge(_config.position, options.position);\n      if (options.panel) {\n        _config.label = options.panel.title;\n        if (options.panel.dockSide) {\n          switch (options.panel.dockSide) {\n            case PanelDockMode.left:\n              _config[\"panel\"] = {\n                uri: \"epsgis-dockable-panel-at-left\"\n              };\n              break;\n            case PanelDockMode.bottom:\n              _config[\"panel\"] = {\n                uri: \"epsgis-dockable-panel-at-bottom\"\n              };\n              break;\n            case PanelDockMode.right:\n              _config[\"panel\"] = {\n                uri: \"epsgis-dockable-panel-at-right\"\n              };\n              break;\n            default:\n              break;\n          }\n        }\n      }\n      if (!_config.label) {\n        _config.label = _config.uri;\n      }\n      let _appConfig = {\n        \"widgetOnScreen\": {\n          \"widgets\": [\n            _config\n          ]\n        }\n      };\n      this.configLoader._processAfterTryLoad(_appConfig);\n      this.configLoader.loadWidgetsManifest(_appConfig).then((cfg) => {\n        const _widgetConfig = cfg.widgetOnScreen.widgets[0];\n        this.appConfig.widgetOnScreen.widgets.push(_widgetConfig);\n        //加载组件\n        _openPanelOrWidget(_widgetConfig);\n      }).catch(err => def.reject(err));\n\n    }\n    return def.promise();\n  }\n  /**\n   * \n   * @param setting \n   */\n  loadWidget(setting, openOptions?: WidgetOpenOptions): Promise<any> {\n    //setting 至少要包含id和uri（组件地址）\n    let def = this.commonService.createPromiseDefer();\n\n    let findWidget;\n    setting = _.clone(setting);\n    if (!setting.folderUrl) {\n      this.utils.processWidgetSetting(setting);\n    }\n    findWidget = this.getWidgetById(setting.id);\n    if (findWidget) {\n      if (openOptions) {\n        findWidget.instance.reqPara = openOptions.param;\n      }\n      def.resolve(findWidget);\n    } else {\n      def.resolve(this.createWidget(setting, openOptions));\n    }\n    return def.promise();\n  }\n  /**\n   * \n   * @param widget \n   * @param setting \n   */\n  private setWidgetPorp(widget: BaseWidget, setting) {\n    setting.rawConfig = _.cloneDeep(setting);\n    setting['class'] = 'jimu-widget';\n    if (!setting.label) {\n      setting.label = setting.name;\n    }\n    if (this.globalParams.mapConfig.is3D) {\n      if (this.view) {\n        setting.view = this.view;\n        widget.view = this.view;\n      }\n    } else {\n      if (this.map) {\n        setting.map = this.map;\n        widget.map = this.map;\n      }\n    }\n\n    widget.appConfig = this.appConfig;\n    widget.widgetConfig = setting;\n    widget.config = setting.config;\n    widget.configId = widget.id = setting.id;\n    widget.folderUrl = setting.folderUrl;\n    widget.icon = setting.icon;\n    widget.label = widget.title = widget.tooltip = setting.label;\n    widget[\"baseClass\"] = setting.class;\n    widget.gid = setting.gid;\n    widget.uri = setting.uri;\n    widget.openAtStart = setting.openAtStart === true;\n    if (setting.manifest\n      && setting.manifest.properties\n      && setting.manifest.properties.inPanel === false) {\n      widget.inPanel = setting.inPanel = setting.manifest.properties.inPanel;\n    } else {\n      widget.inPanel = setting.inPanel = true;\n    }\n  }\n  /**\n   * 创建组件\n   * @param setting \n   * @param clazz \n   * @param resouces \n   */\n  private async createWidget(setting: any, openOptions?: WidgetOpenOptions): Promise<any> {\n    const def = this.commonService.createPromiseDefer();\n    let widget;\n    let _widget = this.getWidgetById(setting.id);\n    if (_widget) {\n      def.resolve(_widget);\n      return def.promise();\n    }\n    try {\n      let comp = this.componentLoader.findComponent(setting.uri), compRef = null, inMap = false;\n      if (!comp) {\n        const _msg = 'widget [' + setting.uri + '] not find';\n        console.log(_msg);\n        def.reject(new Error(_msg));\n        return def.promise();\n      }\n      if (setting.position.relativeTo !== \"map\") {\n        compRef = this.componentLoader.createComponentToHome(comp);\n      } else {\n        compRef = this.componentLoader.createComponentToMap(comp);\n        inMap = true;\n      }\n      if (!compRef) {\n        const _msg = `widget [${setting.label}] create fail`;\n        console.log(_msg);\n        def.reject(new Error(_msg));\n        return def.promise();\n      }\n      widget = compRef.instance;\n      //compRef.componentType.getCompInfo() 获取组件信息\n\n      if (openOptions) {\n        widget.reqPara = openOptions.param;\n      }\n      //获取组件的config.json 或 manifest.json\n      if (!setting.config) {\n        await this.tryLoadWidgetConfig(setting);\n      }\n      if (!setting.manifest) {\n        await this.loadWidgetManifest(setting);\n      }\n      this.setWidgetPorp(widget, setting);\n      this.loaded.push(compRef);\n      console.log('widget [' + setting.uri + '] created.');\n      this.eventService.rss.emit(this.eventService._widgetCreated, widget);\n      def.resolve(compRef);\n    } catch (err) {\n      console.log('create [' + setting.uri + '] error:' + err.stack);\n      def.reject(err);\n    }\n    return def.promise();\n  }\n  /**\n   * 获取所有已经加载的组件\n   */\n  getAllWidgets() {\n    return this.loaded;\n  }\n  /**\n   * \n   * @param setting \n   */\n  loadWidgetClass(setting: any) {\n    //待开发\n    return this.commonService.createPromiseDefer().promise();\n  }\n  /**\n   * \n   * @param setting \n   */\n  loadWidgetResources(setting) {\n    //待开发\n    return this.commonService.createPromiseDefer().promise();\n  }\n  /**\n   * \n   * @param widgetJson \n   */\n  tryLoadWidgetConfig(widgetJson) {\n    var def = this.commonService.createPromiseDefer();\n    // modify by sy 2020/6/22 增加对configPath的支持\n    let configPath = widgetJson.configPath || 'config.json';\n    var url = widgetJson.folderUrl + configPath;\n    var foldrUrl = widgetJson.folderUrl.split('?');\n    if (foldrUrl.length > 0) {\n      url = foldrUrl[0] + configPath + '?' + (foldrUrl[1] ? foldrUrl[1] : '');\n    }\n\n    if (widgetJson.config) {\n      def.resolve(widgetJson);\n      return def.promise();\n    }\n    try {\n      this.httpService.getJsonFile(url).then((config) => {\n        widgetJson.config = config;\n        def.resolve(widgetJson);\n      }).catch(err => {\n        console.error(`load [${widgetJson.uri}] config.json error`);\n        console.error(err);\n        def.resolve(widgetJson);\n      });\n    } catch (error) {\n      console.error(error);\n      def.resolve(widgetJson);\n    }\n    return def.promise();\n  }\n  /**\n   * \n   * @param setting \n   */\n  _tryLoadWidgetConfig(setting) {\n\n  }\n  /**\n   * \n   * @param widgetJson \n   */\n  loadWidgetManifest(widgetJson: any): Promise<any> {\n    let def = this.commonService.createPromiseDefer();\n    var url = widgetJson.folderUrl + 'manifest.json';\n    var foldrUrl = widgetJson.folderUrl.split('?');\n    if (foldrUrl.length > 0) {\n      url = foldrUrl[0] + 'manifest.json?' + (foldrUrl[1] ? foldrUrl[1] : '');\n    }\n\n    if (widgetJson.manifest) {\n      def.resolve(widgetJson);\n      return def.promise();\n    }\n    // if (jimuConfig.isDesignMode === true) {\n    //     url=appInfo.path+url;\n    // }\n    let process = (manifest) => {\n      manifest.amdFolder = widgetJson.amdFolder;\n      manifest.category = 'widget';\n      let _w = \"auto\", _h = \"auto\";\n      if (manifest.properties.inPanel !== false) {\n        //widget\n        _w = \"300\";\n        _h = \"400\";\n      }\n      if (typeof widgetJson.position.width === \"undefined\") {\n        widgetJson.position.width = _w;\n      }\n      if (typeof widgetJson.position.height === \"undefined\") {\n        widgetJson.position.height = _h;\n      }\n      if (!widgetJson.label) {\n        this.utils.addI18NLabel(manifest).then(() => {\n          this._processManifest(manifest);\n          this.utils.addManifest2WidgetJson(widgetJson, manifest);\n          def.resolve(widgetJson);\n        });\n      } else {\n        this._processManifest(manifest);\n        this.utils.addManifest2WidgetJson(widgetJson, manifest);\n        def.resolve(widgetJson);\n      }\n    }\n\n    this.httpService.getJsonFile(url).then(process).catch((err) => {\n      if (err.readyState === 4 && err.status === 200 && err.responseText === \"\") {\n        //有文件，内容为空\n        var manifest: any = {};\n        manifest.amdFolder = widgetJson.amdFolder;\n        manifest.category = 'widget';\n        process(manifest);\n      } else {\n        console.error(`load [${widgetJson.uri}] config.json error`);\n        console.error(err);\n        def.resolve(widgetJson);\n      }\n    });\n    return def.promise();\n  }\n  /**\n   * 加载widget的配置页面\n   * @param  setting \n   */\n  loadWidgetSettingPage(setting): Promise<any> {\n    const def = this.commonService.createPromiseDefer();\n    //待开发\n    return def.promise();\n  }\n  /**\n   * 加载setting类\n   * @param  setting \n   */\n  loadWidgetSettingClass(setting) {\n    var def = this.commonService.createPromiseDefer();\n    return def.promise();\n  }\n  /**\n   * 加载setting需要的资源\n   * @param  setting \n   */\n  loadWidgetSettingPageResources(setting) {\n    var def = this.commonService.createPromiseDefer();\n    //待开发\n    return def.promise();\n\n  }\n  /**\n   * 创建setting\n   * @param  setting \n   * @param  clazz \n   */\n  createWidgetSetting(setting, clazz) {\n    //待开发\n    return null;\n  }\n  _hideLoading() {\n\n  }\n  /**\n   * \n   * @param id \n   */\n  getWidgetById(id) {\n    var ret;\n    _.some(this.loaded, (w) => {\n      if (w.instance.id === id) {\n        ret = w;\n        return true;\n      }\n    });\n    return ret;\n  }\n  /**\n   * \n   * @param label \n   */\n  getWidgetByLabel(label) {\n    var ret;\n    _.some(this.loaded, (w) => {\n      if (w.instance.label === label) {\n        ret = w;\n        return true;\n      }\n    });\n    return ret;\n  }\n  /**\n   * \n   * @param name \n   */\n  getWidgetsByName(name) {\n    var ret = [];\n    _.some(this.loaded, (w) => {\n      if (w.instance.name === name) {\n        ret.push(w);\n      }\n    });\n    return ret;\n  }\n  /**\n   * \n   * @param groupId \n   */\n  getOpenedWidgetByGroupId(groupId) {\n    return _.find(this.loaded, (w) => {\n      return w.instance.gid === groupId && (w.instance.state === WidgetState.opened || w.instance.state === WidgetState.active);\n    });\n  }\n  /**\n   * \n   * @param compRef  ng 组件\n   */\n  showWidget(compRef: ComponentRef<BaseWidgetComponent>) {\n    if (!compRef) return;\n    let widget = compRef.instance;\n    if (typeof widget === 'string') {\n      widget = this.getWidgetById(widget);\n      if (!widget) {\n        return;\n      }\n    }\n    if (!widget.started) {\n      try {\n        widget.started = true;\n        if (widget.widgetConfig.position.relativeTo === \"browser\") {\n          this.componentLoader.showInHome(compRef);\n        } else {\n          this.componentLoader.showInMap(compRef);\n        }\n        widget.startup();\n      } catch (err) {\n        console.error('fail to startup widget ' + widget.name + '. ' + err.stack);\n      }\n    }\n    if (widget.state === WidgetState.closed) {\n      widget.setState(WidgetState.opened);\n      try {\n        widget.onOpen();\n      } catch (err) {\n        console.error('fail to open widget ' + widget.name + '. ' + err.stack);\n      }\n    }\n  }\n  /**\n   * \n   * @param widget \n   */\n  closeOtherWidgetsInTheSameGroup(widget: ComponentRef<BaseWidgetComponent>) {\n    if (typeof widget === 'string') {\n      widget = this.getWidgetById(widget);\n      if (!widget) {\n        return;\n      }\n    }\n    var widgets = this.getAllWidgets();\n    for (var i = 0; i < widgets.length; i++) {\n      if (widgets[i].instance.gid === widget.instance.gid && widgets[i].instance.id !== widget.instance.id) {\n        this.closeWidget(widgets[i]);\n      }\n    }\n  }\n  /**\n   * \n   * @param groupId \n   */\n  closeAllWidgetsInGroup(groupId) {\n    var widgets = this.getAllWidgets();\n    for (var i = 0; i < widgets.length; i++) {\n      if (widgets[i].instance.gid === groupId) {\n        this.closeWidget(widgets[i]);\n      }\n    }\n  }\n  /**\n   * \n   * @param widget \n   */\n  closeWidget(widget: ComponentRef<BaseWidgetComponent> | string) {\n    let def = this.commonService.createPromiseDefer();\n    let _widget: ComponentRef<BaseWidgetComponent>;\n    if (typeof widget === 'string') {\n      _widget = this.getWidgetById(widget);\n    } else {\n      _widget = widget;\n    }\n    if (!_widget) {\n      def.reject(new Error(\"widget is null\"));\n      return def.promise();\n    }\n    if (_widget.instance.state !== WidgetState.closed) {\n      try {\n        if (this.activeWidget && this.activeWidget.instance.id === _widget.instance.id) {\n          this.activeWidget.instance.onDeActive();\n          this.activeWidget = null;\n        }\n        this.commonService.getComponentRootNode(_widget).style.display = 'none';\n        _widget.instance.setState(WidgetState.closed);\n\n        _widget.instance.onClose();\n        def.resolve(_widget);\n      } catch (err) {\n        console.log(console.error('fail to close widget ' + _widget.instance.name + '. ' + err.stack));\n        def.reject(err);\n      }\n\n    }\n    return def.promise();\n  }\n  /**\n   * \n   * @param widget \n   */\n  destroyWidget(widget: ComponentRef<BaseWidgetComponent>) {\n    var m;\n    if (typeof widget === 'string') {\n      m = this.getWidgetById(widget);\n      if (!m) {\n        //maybe, the widget is loading\n        return;\n      } else {\n        widget = m;\n      }\n    }\n    this._removeWidget(widget);\n    try {\n      widget.destroy();\n      console.log('destroy widget [' + widget.instance.id + '].');\n    } catch (err) {\n      console.log(console.error('fail to destroy widget ' + widget.instance.name + '. ' + err.stack));\n    }\n  }\n  /**\n   * \n   * @param manifest \n   */\n  _processManifest(manifest) {\n    this.utils.addManifestProperies(manifest);\n    this.utils.processManifestLabel(manifest, 'zh-cn');\n  }\n\n  /**\n   * \n   * @param setting \n   * @param flag \n   */\n  _tryLoadResource(setting, flag) {\n    //待开发\n    return this.commonService.createPromiseDefer().promise();\n  }\n  /**\n   * \n   * @param id \n   */\n  _replaceId(id) {\n    return id.replace(/\\//g, '_').replace(/\\./g, '_');\n  }\n  /**\n   * \n   * @param widgetSetting \n   */\n  loadWidgetStyle(widgetSetting) {\n    //待开发\n  }\n  /**\n   * \n   * @param widgetSetting \n   */\n  loadWidgetSettingStyle(widgetSetting) {\n    //待开发\n  }\n\n  loadWidgetConfig(widgetSetting) {\n    //待开发\n  }\n\n  loadWidgetI18n(widgetSetting) {\n\n  }\n\n  loadWidgetSettingI18n(widgetSetting) {\n\n  }\n\n  loadWidgetTemplate(widgetSetting) {\n    //待开发\n    return this.commonService.createPromiseDefer().promise();\n  }\n\n  loadWidgetSettingTemplate(widgetSetting) {\n\n    return this.commonService.createPromiseDefer().promise();\n  }\n  /**\n   * \n   */\n  getOnScreenOffPanelWidgets() {\n    return _.filter(this.loaded, function (widget) {\n      return (widget.instance.isOnScreen && !widget.instance.inPanel) || (widget.instance.widgetConfig.isOnScreen && !widget.instance.widgetConfig.inPanel);\n    });\n  }\n\n  _postWidgetStartup(widgetObject) {\n    //待开发\n  }\n  /**\n   * \n   * @param widget \n   */\n  _triggerMissedAction(widget: ComponentRef<BaseWidgetComponent>) {\n    this.missedActions.forEach(function (info) {\n      if (info.id === widget.instance.id) {\n        widget.instance.onAction(info.action.name, info.action.data);\n      }\n    });\n  }\n  /**\n   * \n   * @param id \n   */\n  _remove(id) {\n    return _.some(this.loaded, (w, i) => {\n      if (w.instance.id === id) {\n        this.loaded.splice(i, 1);\n        return true;\n      }\n    });\n  }\n  /**\n   * \n   * @param widget \n   */\n  _onDestroyWidget(widget: ComponentRef<BaseWidgetComponent>) {\n    if (widget.instance.state !== WidgetState.closed) {\n      this.closeWidget(widget);\n    }\n    this._removeWidget(widget);\n    console.log('destroy widget [' + widget.instance.uri + '].');\n  }\n  _onDestroyWidgetSetting(settingWidget) {\n    this.removeWidgetSettingStyle(settingWidget);\n  }\n  /**\n   * \n   * @param widget \n   */\n  _removeWidget(widget: ComponentRef<BaseWidgetComponent>) {\n    var m;\n    if (typeof widget === 'string') {\n      m = this.getWidgetById(widget);\n      if (!m) {\n        return;\n      } else {\n        widget = m;\n      }\n    }\n\n    if (this.activeWidget && this.activeWidget.instance.id === widget.instance.id) {\n      this.activeWidget = null;\n    }\n    this._remove(widget.instance.id);\n    if (this.getWidgetsByName(widget.instance.name).length === 0) {\n      this.removeWidgetStyle(widget);\n    }\n  }\n  removeWidgetStyle(widget) {\n    //待开发\n  }\n  removeWidgetSettingStyle(widget) {\n    //待开发\n  }\n  _onClickWidget(widget, evt) {\n\n    this._activeWidget(widget);\n  }\n  _activeWidget(widget) {\n\n    //待开发\n  }\n  getOffPanelWidgets() {\n    return _.filter(this.loaded, function (widget) {\n      return !widget.instance.inPanel;\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport * as _ from \"lodash\";\nimport { WidgetManagerService } from './widget-manager.service';\nimport { UtilsService } from './utils.service';\nimport { AppGlobalConfig } from '../models/app-config';\nimport { CommonService } from './common.service';\nimport { ComponentLoaderService } from './component-loader.service';\nimport { HttpReqService } from './request.service';\n\n/**\n * create by ruir 191014  configLoader.js\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConfigLoaderService {\n  urlParams: any = null;\n  appConfig: any = null;\n  rawAppConfig: any = null;\n  configFile: string = null;\n  _configLoaded: boolean = false;\n  portalSelf: any = null;\n  options: any = null;\n  constructor(\n    private widgetManager: WidgetManagerService,\n    private utils: UtilsService,\n    private httpService: HttpReqService,\n    private globalParams: AppGlobalConfig,\n    private commonService: CommonService,\n    private componentLoader: ComponentLoaderService) {\n    this.urlParams = globalParams.urlParams;\n    this._removeHash(this.urlParams);\n  }\n  /**\n   * \n   * @param urlParams \n   */\n  private _removeHash(urlParams: any) {\n    for (var p in urlParams) {\n      if (urlParams[p]) {\n        urlParams[p] = urlParams[p].replace('#', '');\n      }\n    }\n  }\n  /**\n   * 加载总的配置文件（config.json）\n   */\n  loadConfig(config?: any): Promise<any> {\n    console.time('Load Config');\n    const def = this.commonService.createPromiseDefer();\n\n    const _processResult = (appConfig) => {\n      //原始配置\n      this.rawAppConfig = _.cloneDeep(appConfig);\n      let globalConfigTemp = _.cloneDeep(this.globalParams.mapConfig) ;\n      //0924改为合并全局配置\n      appConfig =_.merge(globalConfigTemp,appConfig);\n      appConfig = this._upgradeAppConfig(appConfig);\n      this._processAfterTryLoad(appConfig);\n      //config.json中有定义title时，以它为准\n      if (appConfig.title) {\n        document.title = appConfig.title;\n      }\n      this.loadWidgetsManifest(appConfig).then((appConfig) => {\n        return this._upgradeAllWidgetsConfig(appConfig);\n      }).then((appConfig) => {\n        this._configLoaded = true;\n        this.appConfig = appConfig;\n        def.resolve(this.getAppConfig());\n      });\n    }\n    if (typeof config === \"string\") {\n      this._tryLoadConfig(config).then(_processResult).catch((error) => {\n        if (error.readyState === 4 && error.status === 200 && error.responseText !== \"\") {\n          //当json文件mime类型配置为\"application/x-javascript\" 时，会将json当做字符串返回到这里\n          //这种情况其他有请求json的地方都需要修改\n          try {\n            var _obj = JSON.parse(error.responseText);\n          } catch (error) {\n            console.log(\"将json串转为对象出错\");\n            def.reject(error);\n            return;\n          }\n          _processResult(_obj);\n\n        } else {\n          console.log(\"Load Config error\");\n          def.reject(error);\n        }\n      });\n    } else {\n      _processResult(config);\n    }\n    return def.promise();\n  }\n  /**\n   * \n   */\n  getAppConfig() {\n    var c = _.clone(this.appConfig);\n    c.getConfigElementById = (id) => {\n      return this.utils.getConfigElementById(this, id);\n    };\n\n    c.getConfigElementsByName = (name) => {\n      return this.utils.getConfigElementsByName(this, name);\n    };\n\n    c.visitElement = (cb) => {\n      this.utils.visitElement(this, cb);\n    };\n\n    this._addAuthorizedCrossOriginDomains(this.portalSelf, c);\n\n    return c;\n  }\n  /**\n   * \n   * @param portalSelf \n   * @param appConfig \n   */\n  _addAuthorizedCrossOriginDomains(portalSelf, appConfig) {\n\n  }\n  /**\n   * \n   */\n  _tryLoadConfig(configJsonFile?: string) {\n    if (configJsonFile) {\n      this.configFile = configJsonFile;\n    } else {\n      this.configFile = this.globalParams.appInfo.configFile;\n    }\n    return this.httpService.getJsonFile(this.configFile);\n  }\n  _processAfterTryLoad(appConfig) {\n\n    //this._processUrlParams(appConfig);\n\n    this.addNeedValues(appConfig);\n    this.processProxy(appConfig);\n\n    return appConfig;\n  }\n  getUriInfo(uri) {\n    //已移植到utils\n  }\n  /**\n   * \n   * @param setting \n   */\n  processWidgetSetting(setting) {\n    this.utils.processWidgetSetting(setting);\n  }\n  /**\n   * \n   * @param appConfig \n   */\n  _processWidgetJsons(appConfig) {\n    this.utils.visitElement(appConfig, (e, info) => {\n      if (info.isWidget && e.uri) {\n        this.processWidgetSetting(e);\n      }\n    });\n  }\n\n  _processNoUriWidgets(appConfig) {\n    var i = 0;\n    this.utils.visitElement(appConfig, (e, info) => {\n      if (info.isWidget) {/* && !e.uri */\n        i++;\n        e.placeholderIndex = i;\n      }\n    });\n  }\n\n  _addElementId(appConfig) {\n    var maxId = 0,\n      i;\n\n    this.utils.visitElement(appConfig, (e) => {\n      if (!e.id) {\n        return;\n      }\n      //fix element id\n      e.id = e.id.replace(/\\//g, '_');\n\n      var li = e.id.lastIndexOf('_');\n      if (li > -1) {\n        i = e.id.substr(li + 1);\n        maxId = Math.max(maxId, i);\n      }\n    });\n\n    this.utils.visitElement(appConfig, (e) => {\n      if (!e.id) {\n        maxId++;\n        e.id = e.uri ? (e.uri.replace(/\\//g, '_') + '_' + maxId) : ('' + '_' + maxId);\n      }\n    });\n  }\n  addNeedValues(appConfig) {\n    this._processNoUriWidgets(appConfig);\n    this._addElementId(appConfig);\n    this._processWidgetJsons(appConfig);\n  }\n  processProxy(appConfig) {\n\n    if (appConfig.httpProxy && appConfig.httpProxy.useProxy && appConfig.httpProxy.url) { }\n    if (appConfig.httpProxy && appConfig.httpProxy.useProxy && appConfig.httpProxy.rules) {\n\n    }\n  }\n  _upgradeAppConfig(appConfig) {\n    var appVersion = this.globalParams.wabVersion;\n    var configVersion = appConfig.wabVersion;\n    var newConfig: any = {};\n\n    if (appVersion === configVersion) {\n      return appConfig;\n    } {\n\n      newConfig.isUpgraded = true;\n      return newConfig;\n    }\n  }\n  /**\n   * \n   * @param appConfig \n   */\n  _upgradeAllWidgetsConfig(appConfig): Promise<any> {\n    /*\n    var defs = [];\n    if (appConfig.isUpgraded !== undefined && !appConfig.isUpgraded) {\n      return Promise.resolve(appConfig);\n    }\n    delete appConfig.isUpgraded;\n    this.utils.visitElement(appConfig, (e) => {\n      if (!e.uri) {\n        return;\n      }\n      if (e.config) {\n        //更新\n        defs.push(this.widgetManager.tryLoadWidgetConfig(e));\n      } else {\n        e.version = e.manifest ? e.manifest.version : \"\";\n      }\n    });\n\n    Promise.all(defs).then(() => {\n      Promise.resolve(appConfig);\n    });*/\n    return Promise.resolve(appConfig);\n  }\n  /**\n   * \n   * @param config \n   */\n  loadWidgetsManifest(config: any) {\n    let defs = [], def = this.commonService.createPromiseDefer();\n\n    if (this.globalParams.jimuConfig.isSettings === true) {\n\n    } else {\n      this.utils.visitElement(config, (e) => {\n        if (!e.widgets && e.uri) {\n          const _path = this.componentLoader.getComponentPath(e.uri);\n          if (_path) {\n            e.folderUrl = e.amdFolder = this.globalParams.widgetRootPath + \"/\" + _path + \"/\";\n            if (e.icon) {\n              e.icon = this.globalParams.widgetRootPath + \"/\" + _path + \"/\" + e.icon;\n            }\n            defs.push(this.widgetManager.loadWidgetManifest(e));\n          } else {\n            console.log(`widget [${e.uri}] not config componentPath`);\n            defs.push(Promise.resolve(e));\n          }\n\n        }\n      });\n    }\n    Promise.all(defs).then(() => {\n      def.resolve(config);\n    });\n    return def.promise();\n  }\n  /**\n   * \n   * @param manifest \n   */\n  _addNeedValuesForManifest(manifest: Object) {\n    this.utils.addManifestProperies(manifest);\n    this.utils.processManifestLabel(manifest, this.globalParams.dojoConfig.locale);\n  }\n  /**\n   * \n   */\n  _loadMergedWidgetManifests() {\n    var file = this.globalParams.appInfo.appPath + 'widgets/widgets-manifest.json';\n    return this.httpService.getJsonFile(file);\n  }\n}\n","import { CommonService } from './common.service';\nimport { ConfigLoaderService } from './config-loader.service';\nimport { WidgetManagerService } from './widget-manager.service';\nimport { Injectable } from '@angular/core';\nimport { UtilsService } from './utils.service';\nimport { EventEmitterService } from './event-emitter.service';\nimport * as _ from \"lodash\";\nimport { AppGlobalConfig } from '../models/app-config';\n/**\n * create by ruir 191014  configManager.js\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConfigManagerService {\n  urlParams: any = null;\n  appConfig: any = null;\n  configFile: any = null;\n  _configLoaded: any = false;\n  portalSelf: any = null;\n  _originConfig: any = null;\n\n  constructor(private utils: UtilsService,\n    private globalParams: AppGlobalConfig,\n    private eventService: EventEmitterService,\n    private widgetManager: WidgetManagerService,\n    private configLoader: ConfigLoaderService,\n    private commonService: CommonService) {\n    this.urlParams = globalParams.urlParams;\n    this.listenBuilderEvents();\n  }\n  listenBuilderEvents() {\n    this.eventService.rss.on(this.eventService._designConfigChanged, this._onDesignConfigChanged);\n  }\n  loadConfig(config?: any) {\n    //这if判断暂时注释，不知道当时的逻辑\n    // if (this.urlParams.mode === 'preview' ||\n    //   this.urlParams.mode === 'config') {\n    //   return;\n    // }\n    this.widgetManager.configLoader = this.configLoader;\n    return this.configLoader.loadConfig(config).then((appConfig) => {\n      this.portalSelf = this.configLoader.portalSelf;\n      this.appConfig = this._addDefaultValues(appConfig);\n\n      this.globalParams.appInfo.isRunInMobile = this._isRunInMobile();\n\n      if (this.appConfig.logo && this.globalParams.appInfo.folderUrlPrefix) {\n        this.appConfig.logo = this.globalParams.appInfo.folderUrlPrefix + \"/\" + this.appConfig.logo;\n      }\n      this.eventService.rss.emit(this.eventService._appConfigLoaded, this.appConfig);\n      //Rss.done(\"appConfigLoaded\", _self.appConfig);\n    }, function (err) {\n      console.error(err);\n      if (err && err.message && typeof err.message === 'string') {\n\n      }\n    });\n  }\n  _isRunInMobile() {\n    return false;\n  }\n  /**********************************************\n   * Add default values\n   ************************************************/\n  _addDefaultValues(config) {\n    this._addDefaultPortalUrl(config);\n    this._addDefaultGeometryService(config);\n    this._addDefaultStyle(config);\n    this._addDefaultMap(config);\n    this._addDefaultVisible(config);\n\n    //preload widgets\n    if (typeof config.widgetOnScreen === 'undefined') {\n      config.widgetOnScreen = {};\n    }\n\n    if (typeof config.widgetPool === 'undefined') {\n      config.widgetPool = {};\n    }\n    return config;\n  }\n\n  _addDefaultPortalUrl(config) {\n    config.portalUrl = 'https://www.supermap.com/cn';\n  }\n\n  _addDefaultGeometryService(appConfig) {\n\n\n  }\n\n  _addDefaultStyle(config) {\n    if (config.theme) {\n      if (!config.theme.styles || config.theme.styles.length === 0) {\n        config.theme.styles = ['default'];\n      }\n    }\n  }\n\n  _addDefaultMap(config) {\n    config.map.id = 'mapCantainer';\n\n    if (typeof config.map['3D'] === 'undefined' && typeof config.map['2D'] === 'undefined') {\n      config.map['2D'] = true;\n    }\n\n    if (typeof config.map.position === 'undefined') {\n      config.map.position = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0\n      };\n    }\n\n    if (typeof config.map.portalUrl === 'undefined') {\n      config.map.portalUrl = config.portalUrl;\n    }\n  }\n\n  _addDefaultVisible(config) {\n    if (config.visible === undefined) {\n      config.visible = true;\n    }\n  }\n\n  _addDefaultPanelAndPosition(config) {\n\n  }\n  processMenuWidgetConfig(menus) {\n\n    function visitHeaderMenu(widget: any, cb?: Function) { //支持子组件\n      if (widget.children && widget.children.length >= 1) {\n        for (var k = 0; k < widget.children.length; k++) {\n          var item = widget.children[k];\n          var tempobject: any = {\n            index: widget.index + \"\" + k,\n            isWidget: true,\n            groupId: section,\n            gid: section, //有的地方用的gid\n            isThemeWidget: false,\n            isOnScreen: isOnScreen,\n            isHeadMenu: isHeadMenu\n          };\n          tempobject.id = item.uri ? (item.uri.replace(/\\//g, '_') + '_' + (parseInt(tempobject.index) + 1)) : ('' + '_' + (parseInt(tempobject.index) + 1))\n          if (item.groupId || item.gid) {\n            tempobject.groupId = item.groupId || item.gid;\n            tempobject.gid = tempobject.groupId;\n          }\n          item = _.extend(item, tempobject)\n          this.utils.processWidgetUriPara(item);\n          if (item.isWidget && item.uri) {\n            _self.configLoader.processWidgetSetting(item);\n            //加载manifest\n            defs.push(_self.widgetManager.loadWidgetManifest(item));\n          }\n          visitHeaderMenu(item, cb);\n        }\n      }\n    }\n    var isHeadMenu = true, isOnScreen = false, i, section = \"widgetPool\";//headerMenu\n    var defs = [],\n      def = this.commonService.createPromiseDefer();\n    var maxId = this.appConfig.widgetOnScreen.widgets.length + 2;\n    i = maxId - 1; var _self = this;\n    _.forEach(menus, (widget, index, list) => {\n      widget.id = widget.uri ? (widget.uri.replace(/\\//g, '_') + '_' + maxId) : ('' + '_' + maxId);\n      widget.index = i;\n      //设置属性\n      widget.isWidget = true;\n      widget.groupId = section;\n      widget.gid = section;//有的地方用的gid\n      widget.isThemeWidget = widget.uri && widget.uri.indexOf('themes/' + _self.appConfig.theme.name) > -1;\n      widget.isOnScreen = isOnScreen;\n      widget.isHeadMenu = isHeadMenu;\n      widget.reqPara = {};\n      widget.version = undefined;\n      this.utils.processWidgetUriPara(widget);\n      visitHeaderMenu(widget);\n      if (widget.isWidget && widget.uri) {\n        _self.configLoader.processWidgetSetting(widget);\n        //加载manifest\n        defs.push(_self.widgetManager.loadWidgetManifest(widget));\n      }\n      i++;\n    });\n    Promise.all(defs).then(() => {\n      def.resolve(menus);\n    });\n    return def.promise();\n  }\n  _onWidgetAdded(obj, any) {\n    var widget = _.extend({}, obj);\n    //这里将原始的json对象，经过处理后传递给layoutmanager\n    //添加id\n    var maxId = this.appConfig.widgetOnScreen.widgets.length;\n    widget.id = widget.uri ? (widget.uri.replace(/\\//g, '_') + '_' + maxId) : ('' + '_' + maxId);\n    widget.index = maxId - 1;\n    //设置属性\n    widget.isWidget = true;\n    widget.groupId = \"widgetOnScreen\";\n    widget.gid = \"widgetOnScreen\";//有的地方用的gid\n    widget.isThemeWidget = widget.uri && widget.uri.indexOf('themes/' + this.appConfig.theme.name) > -1;\n    widget.isOnScreen = true;\n    widget.isHeadMenu = false;\n    widget.reqPara = {};\n    widget.version = undefined;\n    this.utils.processWidgetUriPara(widget);\n    if (widget.isWidget && widget.uri) {\n      this.configLoader.processWidgetSetting(widget);\n      //加载manifest\n      this.widgetManager.loadWidgetManifest(widget).then((config) => {\n        this.appConfig.widgetOnScreen.widgets.push(config);\n        // Rss.done(\"appConfigChanged\", { type: \"widgetAdded\", appConfig: _self.appConfig, data: config });\n        this.eventService.rss.emit(this.eventService._appConfigChanged, { type: \"widgetAdded\", appConfig: this.appConfig, data: config });\n      }).catch(function (err) {\n        console.log(\"loadWidgetManifest err\", err);\n      });\n    }\n\n  }\n  _getCleanConfig(config) {\n\n    var newConfig = _.clone(config);\n    var properties = this.utils.widgetProperties;\n\n    delete newConfig.mode;\n    this.utils.visitElement(newConfig, (e, info) => {\n      if (e.widgets) {\n        delete e.isOnScreen;\n        delete e.gid;\n        delete e.openType;\n        if (info.isOnScreen) {\n          if (e.panel && this.utils.isEqual(e.panel, newConfig.widgetOnScreen.panel)) {\n            delete e.panel;\n          }\n        }\n        return;\n      }\n\n      if (e.icon && e.icon === e.amdFolder + 'images/icon.png') {\n        delete e.icon;\n      }\n\n      delete e.panel;\n      delete e.folderUrl;\n      delete e.amdFolder;\n      delete e.thumbnail;\n      delete e.configFile;\n      delete e.gid;\n      delete e.isOnScreen;\n\n      properties.forEach(function (p) {\n        delete e[p];\n      });\n\n\n      if (e.visible) {\n        delete e.visible;\n      }\n      delete e.manifest;\n    });\n    delete newConfig.rawAppConfig;\n\n    delete newConfig._ssl;\n\n    delete newConfig.getConfigElementById;\n    delete newConfig.getConfigElementsByName;\n    delete newConfig.getConfigElementByLabel;\n\n    delete newConfig.getConfigElementsByUri;\n\n    delete newConfig.processNoUriWidgets;\n    delete newConfig.addElementId;\n    delete newConfig.getCleanConfig;\n    delete newConfig.visitElement;\n\n    delete newConfig.agolConfig;\n    delete newConfig._itemData;\n    delete newConfig.oldWabVersion;\n\n    return newConfig;\n  }\n  getAppConfig() {\n    var c;\n    if (this.globalParams.appInfo.isRunInMobile) {\n\n    } else {\n      c = _.clone(this.appConfig);\n    }\n\n    c.getConfigElementById = (id) => {\n      return this.utils.getConfigElementById(this, id);\n    };\n\n    c.getConfigElementByLabel = (label) => {\n      return this.utils.getConfigElementByLabel(this, label);\n    };\n\n    c.getConfigElementsByName = (name) => {\n      return this.utils.getConfigElementsByName(this, name);\n    };\n\n    c.getConfigElementsByUri = (uri) => {\n      return this.utils.getConfigElementsByUri(this, uri);\n    };\n\n    c.getCleanConfig = () => {\n      if (this._originConfig) {\n        return this._getCleanConfig(this._originConfig);\n      } else {\n        return this._getCleanConfig(this.appConfig);\n      }\n    };\n\n    c.visitElement = function (cb) {\n      this.utils.visitElement(this, cb);\n    };\n    return c;\n  }\n  _getAppConfigFromTheme(theme) {\n    var def = this.commonService.createPromiseDefer();\n    var config, styles = [];\n    var currentConfig = this.getAppConfig().getCleanConfig();\n\n    currentConfig.mode = this.urlParams.mode;\n\n    _.forEach(currentConfig.widgetPool.groups, (group) => {\n      delete group.panel;\n    });\n\n    if (theme.appConfig) {\n      config = _.clone(theme.appConfig);\n      config.map = currentConfig.map;\n      config.map.position = theme.appConfig.map.position;\n      // this._copyPoolToThemePool(currentConfig, config);\n\n      config.links = currentConfig.links;\n      config.title = currentConfig.title;\n      config.subtitle = currentConfig.subtitle;\n      config.logo = currentConfig.logo;\n    } else {\n\n    }\n\n    this.configLoader.addNeedValues(config);\n    this.configLoader.loadWidgetsManifest(config).then(() => {\n      this._addDefaultValues(config);\n      def.resolve(config);\n    });\n    return def.promise();\n  }\n  _onDesignConfigChanged(params) {\n\n    //根据不同事件处理相应的配置\n    var _preProcessConfig4Design = {\n      // type:'appAttributeChanged',\n      //     data:{\n      //     'appConfig':appConfig,\n      //     'changeData':{'title':'标题','subtitle':'副标题','logo':'1.jpg','links':'www.baidu.com'}\n      //     }\n      /**\n       * 基本信息改变 ，如logo，主、副标题\n       * @param  _params \n       * \n       */\n      appAttributeChanged: (_params) => {\n        _params.data.appConfig.logo = this.globalParams.appInfo.folderUrlPrefix + \"/\" + _params.data.appConfig.logo;\n        _params.data.changeData.logo = _params.data.appConfig.logo;\n        //Rss.done(\"appConfigChanged\", _params);\n\n      },\n      // type:'mapChanged',\n      // data:{\n      // 'appConfig':appConfig,\n      // 'changeData':{}\n      // }\n      /**\n       * 地图相关\n       * @param  _params \n       */\n      mapChanged: (_params) => {\n        var newJson = this.utils.reCreateObject(_params.data.appConfig.map);\n\n        if (newJson.itemId && newJson.itemId !== this.appConfig.map.itemId) {\n          if (this.appConfig.map.mapOptions) {\n            this.utils.deleteMapOptions(this.appConfig.map.mapOptions);\n          }\n        }\n        _.extend(this.appConfig.map, newJson);\n        // this.configLoader.addNeedValues(this.appConfig);\n        // this._addDefaultValues(this.appConfig);\n        _params.data.appConfig = this.getAppConfig();\n        // Rss.done(\"appConfigChanged\", _params);\n        this.eventService.rss.emit(this.eventService._appConfigChanged, _params);\n      },\n      // type:'themeChanged',\n      // data:{\n      // 'appConfig':appConfig,\n      // 'changeData':{}\n      // }\n      /**\n       * 主题\n       * @param  _params \n       */\n      themeChanged: (_params) => {\n        this._getAppConfigFromTheme(_params.data).then((config) => {\n          this.appConfig = config;\n          _params.data.appConfig = this.getAppConfig();\n          // Rss.done(\"appConfigChanged\", _params);\n          this.eventService.rss.emit(this.eventService._appConfigChanged, _params);\n        });\n      },\n      // type:'layoutChanged',\n      // data:{\n      // 'appConfig':appConfig,\n      // 'changeData':{}\n      // }\n      /**\n       * 布局\n       * @param  _params \n       */\n      layoutChanged: (_params) => {\n        this._getAppConfigFromTheme(_params.data).then((config) => {\n          this.appConfig = config;\n          _params.data.appConfig = this.getAppConfig();\n          // Rss.done(\"appConfigChanged\", _params);\n          this.eventService.rss.emit(this.eventService._appConfigChanged, _params);\n        });\n      },\n      // type:'styleChanged',\n      // data:{\n      // 'appConfig':appConfig,\n      // 'changeData':{'name':'blue'}\n      // }\n      /**\n       * 样式\n       * @param  _params \n       */\n      styleChanged: (_params) => {\n        this.appConfig.theme.styles = this._genStyles(this.appConfig.theme.styles, _params.data.appConfig.theme.styles[0]);\n        _params.data.appConfig = this.getAppConfig();\n        // Rss.done(\"appConfigChanged\", _params);\n        this.eventService.rss.emit(this.eventService._appConfigChanged, _params);\n      },\n      // type:'widgetChanged',\n      // data:{\n      // 'appConfig':appConfig,\n      // 'changeData':{\n      //     widgetList:[]//变更得widget数组，如果action为add，那这就是添加的widget，其他同理\n      // }\n      // \"action\":\"add\"//delete,modify\n      // }\n      /**\n       * widget\n       * @param  _params \n       */\n      widgetChanged: (_params) => {\n        _params.data.appConfig = this.getAppConfig();\n        // Rss.done(\"appConfigChanged\", _params);\n        this.eventService.rss.emit(this.eventService._appConfigChanged, _params);\n      },\n      // type:'widgetPoolChanged',\n      // data:{\n      // 'appConfig':appConfig,\n      // 'changeData':{}\n      // }\n      /**\n       * \n       * @param  _params \n       */\n      widgetPoolChanged: (_params: any) => {\n        _params.data.appConfig = this.getAppConfig();\n      }\n      // {\n      //     \"type\": \"actionTriggered\",\n      //     \"data\": {\n      //         \"actionInfo\": {\n      //             \"widget\": {\n\n      //             }\n      //             \"isOnScreen\": true,\n      //             \"action\": \"highLight\"\n      //         }\n      //         \"changeData\": {}\n      //     }\n      // }\n      , actionTriggered: (_params) => {\n        var id = \"\",\n          actionInfo = _params.data.actionInfo,\n          widget = actionInfo.widget,\n          cwidget = undefined\n          ;\n        if (widget.id) {\n          //cwidget = this.widgetManager.getWidgetById(widget.id);\n          id = widget.id;\n        }\n        else if (widget.uri || widget.oldUri) {\n          var uri = widget.uri ? widget.uri : widget.oldUri;\n          if (this.globalParams.appInfo.folderUrlPrefix) {\n            uri = this.globalParams.appInfo.folderUrlPrefix + \"/\" + uri;\n          }\n          var arr = this.utils.getConfigElementsByUri(this.appConfig, uri);\n          var _widget = _.find(arr, (w, index) => {\n            return w.isOnScreen === actionInfo.isOnScreen\n          });\n          if (_widget) {\n            // cwidget = this.widgetManager.getWidgetById(_widget.id);\n            id = _widget.id;\n          }\n        }\n        // if (cwidget) {//这只是widget\n        //     cwidget.onAction(actionInfo.action, _params);\n        // }\n        _params.data.eleid = id;\n        //Rss.done(\"appConfigChanged\", _params);\n\n      }\n    }\n    var _params = _.extend({}, params);\n    _preProcessConfig4Design[_params.type].call(this, _params);\n\n  }\n  _genStyles(allStyle, currentStyle) {\n    var styles = [];\n    styles.push(currentStyle);\n    _.forEach(allStyle, function (_style) {\n      if (styles.indexOf(_style) < 0) {\n        styles.push(_style);\n      }\n    });\n    return styles;\n  }\n\n}\n","import { WidgetState, WidgetWindowState, WidgetOpenOptions } from '../models/base-widget';\nimport { Injectable, ComponentFactoryResolver, ComponentRef, EmbeddedViewRef, ApplicationRef, ReflectiveInjector, ChangeDetectorRef } from '@angular/core';\n// import { Overlay, OverlayConfig, OverlayRef } from '@angular/cdk/overlay';\n// import { ComponentPortal } from '@angular/cdk/portal';\n// import { ComponentLoaderService } from './component-loader.service';\nimport { CommonService } from './common.service';\nimport { WidgetManagerService } from './widget-manager.service';\nimport * as _ from \"lodash\";\nimport { PanelOptions } from '../models/base-panel';\nimport { ComponentLoaderService } from './component-loader.service';\nimport { AppGlobalConfig } from '../models/app-config';\nimport { EventEmitterService } from './event-emitter.service';\nimport { OnScreenWidgetPanelComponent } from '../components/on-screen-widget-panel/on-screen-widget-panel.component';\nimport { BaseWidgetComponent } from '../components/base-widget/base-widget.component';\n\n/**\n * create by ruir 191014  panelManager.js\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class PanelManagerService {\n\n  // private _overlayConnectRef: OverlayRef;\n  // constructor(public overlay: Overlay, public ccc: ComponentLoaderService) {\n\n  // }\n  // globalOverlayPosition = 0;\n  // openPanel(viewContainer: ViewContainerRef) {\n  //   const strategy = this.overlay.position().connectedTo(\n  //     viewContainer.element.nativeElement, {\n  //     originX: 'end',\n  //     originY: 'top',\n  //   } {\n  //     overlayX: 'start',\n  //     overlayY: 'top'\n  //   }\n\n  //   );\n  //   strategy.withLockedPosition(true);\n  //   const config = new OverlayConfig({ positionStrategy: strategy });\n  //   config.scrollStrategy = this.overlay.scrollStrategies.reposition();\n  //   this._overlayConnectRef = this.overlay.create(config);\n  //   this._overlayConnectRef.attach(new ComponentPortal(OnScreenWidgetPanelComponent, viewContainer));\n  // }\n  // closePanel() {\n  //   if (this._overlayConnectRef && this._overlayConnectRef.hasAttached()) {\n  //     this._overlayConnectRef.dispose();\n  //   }\n  // }\n  /**\n   * 所有打开的panel\n   */\n  panels: Array<ComponentRef<OnScreenWidgetPanelComponent>> = [];\n  /**\n   * 当前激活的panel\n   */\n  activePanel: ComponentRef<OnScreenWidgetPanelComponent> = null;\n  map: any = null;\n  view: any = null;\n  /**\n   * \n   */\n  panelContainer: Element;\n  /**\n   * panel容器加载到map容器中\n   */\n  panelAddToMap: boolean = true;\n  /**\n   * \n   * @param commonService \n   * @param widgetManager \n   */\n  constructor(\n    private globalParams: AppGlobalConfig,\n    public commonService: CommonService,\n    public widgetManager: WidgetManagerService,\n    private appRef: ApplicationRef,\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private componentLoader: ComponentLoaderService,\n    public eventService: EventEmitterService\n  ) {\n    this.eventService.rss.on(this.eventService._createPanelContainer, (ele) => {\n      this.createPanelContainer(ele); //直接写居然不执行？？？\n    });\n    this.eventService.rss.on(this.eventService._mapPositionChanged, (pos) => {\n      this.onMapResize();\n    });\n  }\n  /**\n   * \n   * @param component \n   * @param params \n   */\n  private create<T>(component: ComponentType<T>, params: any) {\n    let inputs = {};\n    if (params) {\n      inputs = params;\n    }\n    let inputProviders = Object.keys(inputs).map((inputName) => {\n      return { provide: inputName, useValue: inputs[inputName] };\n    });\n\n    const factory = this.componentFactoryResolver.resolveComponentFactory(component);\n    const compRef = factory.create(ReflectiveInjector.resolveAndCreate(inputProviders));\n    return compRef;\n  }\n\n  /**\n   * \n   */\n  private createPanelContainer(eleMapContainer: HTMLElement) {\n    // 容器\n    let container = document.querySelector(\".sspanel_container\");\n    if (container == null) {\n      container = window.document.createElement(\"div\");\n      container.className = \"sspanel_container\";\n      if (this.commonService.isMobileNotTablet()) {\n        //this.componentLoader.viewContainerInHome.element.nativeElement.parentElement.parentElement.parentElement\n        const ionApp = document.querySelector(\"ion-app\");\n        if (ionApp) {\n          ionApp.appendChild(container);\n        } else {\n          window.document.body.appendChild(container);\n        }\n\n      } else {\n        if (this.panelAddToMap) {\n          if (eleMapContainer) {\n            eleMapContainer.appendChild(container);\n          } else {\n            window.document.body.appendChild(container);\n          }\n        } else {\n          window.document.body.appendChild(container);\n        }\n      }\n    }\n    this.panelContainer = container;\n  }\n  /**\n   * \n   * @param panel \n   */\n  private show(panel: ComponentRef<OnScreenWidgetPanelComponent>) {\n    if (!panel.instance.started) {\n      if (panel.instance.isDockable()) {\n        this.componentLoader.showInHome(panel);\n      } else {\n        this.panelContainer.appendChild(this.commonService.getComponentRootNode(panel));\n        // 加入angular脏检查\n        this.appRef.attachView(panel.hostView);\n      }\n    }\n  }\n\n  /**\n   * \n   * @param map 二维地图或三维场景\n   */\n  setMap(map) {\n    if (this.globalParams.mapConfig.is3D === true) {\n      this.view = map;\n    } else {\n      this.map = map;\n    }\n  }\n  /**\n   * 获取panel组件uri\n   * @param widgetConfig \n   */\n  private _findPanelUri(widgetConfig: any) {\n    const _uri_default: string = \"epsgis-on-screen-widget-panel\";\n    if (this.commonService.isMobileNotTablet()) {\n      //检查是否有停靠[左停靠=》drawer，右停靠=》drawerRight，底部停靠=》action] \n      if (widgetConfig.panel) {\n        switch (widgetConfig.panel.dock) {\n          case \"left\": return \"epsgis-mobile-drawer-panel\";\n          case \"right\": return \"epsgis-mobile-drawer-right-panel\";\n          case \"bottom\": return \"epsgis-mobile-action-panel\";\n        }\n        //uri 之前的配置方式，倒是也可以不要\n        switch (widgetConfig.panel.uri) {\n          case \"epsgis-dockable-panel-at-left\":\n            return \"epsgis-mobile-drawer-panel\"\n          case \"epsgis-dockable-panel-at-bottom\":\n            return \"epsgis-mobile-action-panel\";\n          case \"epsgis-dockable-panel-at-right\":\n            return \"epsgis-mobile-drawer-right-panel\";\n        }\n      }\n      if (widgetConfig.mobile && widgetConfig.mobile.mode) {\n        switch (widgetConfig.mobile.mode.toLowerCase()) {\n          case \"drawer\":\n            return \"epsgis-mobile-drawer-panel\";\n          case \"drawerright\":\n            return \"epsgis-mobile-drawer-right-panel\";\n          case \"modal\":\n            return \"epsgis-mobile-modal-panel\";\n          case \"popup\":\n            return \"epsgis-mobile-popup-panel\";\n          case \"popover\":\n            return _uri_default;\n        }\n      }\n      return \"epsgis-mobile-action-panel\";\n    } else {\n      if (widgetConfig.panel) {\n        switch (widgetConfig.panel.dock) {\n          case \"left\": return \"epsgis-dockable-panel-at-left\";\n          case \"right\": return \"epsgis-dockable-panel-at-right\";\n          case \"bottom\": return \"epsgis-dockable-panel-at-bottom\";\n        }\n        if (widgetConfig.panel.uri) {\n          return widgetConfig.panel.uri;\n        }\n      }\n      return _uri_default;\n    }\n  }\n  /**\n   * \n   * @param config \n   * @param widget\n   * @param options \n   */\n  showPanel(config: any, widget?: ComponentRef<BaseWidgetComponent>, options?: PanelOptions, openOptions?: WidgetOpenOptions): Promise<ComponentRef<OnScreenWidgetPanelComponent>> {\n    let def = this.commonService.createPromiseDefer();\n    let pid = config.id + '_panel',\n      panel = this.getPanelById(pid);\n    if (panel) {\n      if (panel.instance.state === WidgetState.closed) {\n        if (openOptions) {\n          panel.instance.reqPara = openOptions.param;\n          if (panel.instance.widget) {\n            panel.instance.widget.instance.reqPara = openOptions.param; //config.reqPara;\n          }\n        }\n        this.openPanel(panel);\n      }\n      def.resolve(panel);\n    } else {\n      try {\n        const _comp = this.componentLoader.findComponent(this._findPanelUri(config));\n        if (!_comp) {\n          const _msg = `not find panel [${config.panel.uri}]`;\n          console.error(_msg);\n          return def.reject(new Error(_msg));\n        }\n        panel = this.componentLoader.createComponent(_comp);\n        if (!options) {\n          options = {};\n          options.id = pid;\n          options.title = config.label;\n        }\n        options.buttonMaximize = !(config.maximizable === false);\n        options.buttonCollapse = !(config.collapsible === false);\n        options.modal = config.modal === true;\n        if (openOptions && openOptions.panel) {\n          options = _.merge(options, openOptions.panel);\n        }\n        panel.instance.label = panel.instance.title = panel.instance.tooltip = config.label;\n        panel.instance.widgetConfig = config;\n        if (this.globalParams.mapConfig.is3D) {\n          panel.instance.view = this.view;\n        } else {\n          panel.instance.map = this.map;\n        }\n        panel.instance.id = pid;\n        panel.instance.gid = config.gid;\n        if (openOptions) {\n          panel.instance.reqPara = openOptions.param;\n        }\n        panel.instance.setOptions(options);\n        panel.instance.setPosition(config.position);\n        if (widget) {\n          panel.instance.setWidget(widget);\n          panel.instance.widget.instance.reqPara = openOptions.param;\n        }\n        console.log('panel [' + pid + '] created.');\n        this.openPanel(panel);\n        this.panels.push(panel);\n        def.resolve(panel);\n      } catch (error) {\n        console.log('create panel error: ' + error + ', panelId: ' + pid);\n        def.reject(error);\n        return;\n      }\n    }\n    return def.promise();\n  }\n  /**\n   * 打开panel（静态内容或网页地址）\n   * @param  panelOptions panel的参数配置\n   *  {\n          id: \"ss_panel\",\n          title: \"SS Panel\",\n          modal: false\n          buttonsPosition: \"right\"\n          draggable: true\n          resizable: true\n          statusBar: false,\n          top: \"auto\",\n          left: \"auto\",\n          right: \"auto\",\n          bottom: \"auto\",\n          height: 200,\n          width: 400,\n          maxHeight: undefined,\n          maxWidth: undefined,\n          minHeight: 100,\n          minWidth: 200,\n          dockSide: \"\", //bottom\n          innerHtml:\"\",//静态内容\n          url:\"\"//设置URL时，嵌套iframe\n      }\n   */\n  /**\n   * \n   * @param panelOptions \n   */\n  showPanelNotWidget(panelOptions: PanelOptions) {\n    let position = {\n      width: panelOptions.width + 'px',\n      height: panelOptions.height + 'px',\n      relativeTo: panelOptions.relativeTo,\n    };\n    let config = {\n      id: panelOptions.id ? panelOptions.id : \"ss_panel\",\n      label: panelOptions.title ? panelOptions.title : \"SS Panel\",\n      position: position,\n      dockSide:panelOptions.dockSide,\n      panel: {\n        uri: 'epsgis-iframe-panel'    \n      },\n      resizable:panelOptions.resizable,\n      draggable:panelOptions.draggable,\n      gid: \"panelOfNotWidget\"\n    };\n    this.closeAllPanelsInGroup(config.gid);\n    let def = this.commonService.createPromiseDefer();\n    let pid = config.id,\n      panel = this.getPanelById(pid);\n    if (panel) {\n      if (panel.instance.state === WidgetState.closed) {\n        this.openPanel(panel);\n      }\n      def.resolve(panel);\n    } else {\n\n      this.showPanel(config, null, panelOptions);\n    }\n    return def.promise();\n  }\n  /**\n   * \n   * @param panel \n   */\n  closeOtherPanelsInTheSameGroup(panel: string | ComponentRef<OnScreenWidgetPanelComponent>) {\n    if (typeof panel === 'string') {\n      panel = this.getPanelById(panel);\n      if (!panel) {\n        return;\n      }\n    }\n\n    for (let i = 0; i < this.panels.length; i++) {\n      if (this.panels[i].instance.isDockable()) continue;\n      if (this.panels[i].instance.gid === panel.instance.gid\n        && this.panels[i].instance.id !== panel.instance.id) {\n        this.closePanel(this.panels[i]);\n      }\n    }\n  }\n  /**\n   * \n   * @param groupId \n   */\n  closeAllPanelsInGroup(groupId: string) {\n    for (let i = 0; i < this.panels.length; i++) {\n      if (this.panels[i].instance.isDockable()) continue;\n      if (this.panels[i].instance.gid === groupId) {\n\n        this.closePanel(this.panels[i]);\n      }\n    }\n  }\n  /**\n   * \n   * @param panel \n   */\n  openPanel(panel: ComponentRef<OnScreenWidgetPanelComponent>) {// | string\n    let def = this.commonService.createPromiseDefer();\n    if (!panel.instance.started) {\n      try {\n        this.show(panel);\n      } catch (err) {\n        console.error('fail to startup panel ' + panel.instance.id + '. ' + err.stack);\n      }\n    }\n\n    if (panel.instance.state === WidgetState.opened) {\n      def.resolve(panel);\n      return def.promise();\n    }\n    if (panel.instance.started) {\n      panel.instance.setState(WidgetState.opened);\n      this.playOpenPanelAnimation(panel).then(() => {\n        this._activePanel(panel);\n        def.resolve(panel);\n      });\n    }\n    return def.promise();\n  }\n  /**\n   * \n   * @param panel \n   */\n  closePanel(panel: ComponentRef<OnScreenWidgetPanelComponent> | string) {\n    let def = this.commonService.createPromiseDefer();\n    let _panel: ComponentRef<OnScreenWidgetPanelComponent>;\n    if (typeof panel === 'string') {\n      _panel = this.getPanelById(panel);\n    } else {\n      _panel = <ComponentRef<OnScreenWidgetPanelComponent>>panel;\n    }\n    if (!_panel) {\n      def.reject(new Error(\"panel is null\"));\n      return def.promise();\n    }\n    if (_panel.instance.state === WidgetState.closed) {\n      def.resolve(_panel);\n      return def.promise();\n    }\n    this.playClosePanelAnimation(_panel).then(() => {\n      if (this.activePanel && this.activePanel.instance.id === _panel.instance.id) {\n        this.activePanel.instance.onDeActive();\n        this.activePanel = null;\n      }\n      _panel.instance.setState(WidgetState.closed);\n      def.resolve(_panel);\n    });\n    return def.promise();\n  }\n  /**\n   * \n   * @param panel \n   */\n  minimizePanel(panel: ComponentRef<OnScreenWidgetPanelComponent> | string) {\n    if (typeof panel === 'string') {\n      panel = this.getPanelById(panel);\n      if (!panel) {\n        return;\n      }\n    }\n\n    if (panel.instance.state === WidgetState.closed) {\n      this.openPanel(panel);\n    }\n\n    panel.instance.setWindowState(WidgetWindowState.minimized);\n\n    try {\n      panel.instance.onMinimize();\n    } catch (err) {\n      console.log(console.error('fail to minimize panel ' + panel.instance.id + '. ' + err.stack));\n    }\n  }\n  /**\n   * \n   * @param panel \n   */\n  maximizePanel(panel: ComponentRef<OnScreenWidgetPanelComponent> | string) {\n    if (typeof panel === 'string') {\n      panel = this.getPanelById(panel);\n      if (!panel) {\n        return;\n      }\n    }\n\n    if (panel.instance.state === WidgetState.closed) {\n      this.openPanel(panel);\n    }\n\n    panel.instance.setWindowState(WidgetWindowState.maximized);\n    try {\n      panel.instance.onMaximize();\n    } catch (err) {\n      console.log(console.error('fail to maximize panel ' + panel.instance.id + '. ' + err.stack));\n    }\n  }\n  /**\n   * \n   * @param panel \n   */\n  normalizePanel(panel: ComponentRef<OnScreenWidgetPanelComponent> | string) {\n    if (typeof panel === 'string') {\n      panel = this.getPanelById(panel);\n      if (!panel) {\n        return;\n      }\n    }\n\n    if (panel.instance.state === WidgetState.closed) {\n      this.openPanel(panel);\n    }\n\n    panel.instance.setWindowState(WidgetWindowState.normal);\n    try {\n      panel.instance.onNormalize();\n    } catch (err) {\n      console.log(console.error('fail to noralize panel ' + panel.instance.id + '. ' + err.stack));\n    }\n  }\n  /**\n   * \n   * @param panel \n   * @param state \n   */\n  changeWindowStateTo(panel: ComponentRef<OnScreenWidgetPanelComponent> | string, state: WidgetWindowState) {\n    if (typeof panel === 'string') {\n      panel = this.getPanelById(panel);\n      if (!panel) {\n        return;\n      }\n    }\n\n    if (state === WidgetWindowState.normal) {\n      this.normalizePanel(panel);\n    } else if (state === WidgetWindowState.minimized) {\n      this.minimizePanel(panel);\n    } else if (state === WidgetWindowState.maximized) {\n      this.maximizePanel(panel);\n    } else {\n      console.log('error state: ' + state);\n    }\n  }\n  /**\n   * \n   * @param pid \n   */\n  getPanelById(pid: string) {\n    for (let i = 0; i < this.panels.length; i++) {\n      if (this.panels[i].instance.id === pid) {\n        return this.panels[i];\n      }\n    }\n  }\n  /**\n   * \n   */\n  onWindowResize() {\n    for (let i = 0; i < this.panels.length; i++) {\n      if (this.panels[i].instance.state !== WidgetState.closed &&\n        this.panels[i].instance.position.relativeTo !== 'map') {\n        this.panels[i].instance.resize();\n      }\n    }\n  }\n  /**\n   * \n   */\n  onMapResize() {\n    for (let i = 0; i < this.panels.length; i++) {\n      if (this.panels[i].instance.isDockable()) {\n        this.panels[i].instance.resize();\n      } else {\n        // if (this.panels[i].instance.state !== WidgetState.closed &&\n        //   this.panels[i].instance.position.relativeTo === 'browser') {\n        //   if (this.panels[i].instance.panelIcon) {\n        //     this.panels[i].instance.resize(this.panels[i].instance.panelIcon.resetPanelPosition());\n        //   } else {\n        //     //咋玩?\n        //   }\n        // }\n      }\n    }\n  }\n  /**\n   * \n   * @param panel \n   */\n  destroyPanel(panel: string | ComponentRef<OnScreenWidgetPanelComponent>) {\n    if (typeof panel === 'string') {\n      panel = this.getPanelById(panel);\n      if (!panel) {\n        return;\n      }\n    }\n\n    if (panel.instance.state !== WidgetState.closed) {\n      this.closePanel(panel);\n    }\n    this._removePanel(panel);\n    try {\n      panel.destroy();\n      console.log('destroy panel [' + panel.instance.id + '].');\n    } catch (err) {\n      console.log(console.error('fail to destroy panel ' + panel.instance.id + '. ' + err.stack));\n    }\n  }\n  /**\n   * \n   */\n  destroyAllPanels() {\n    let allPanelIds = _.map(this.panels, function (panel) {\n      return panel.instance.id;\n    });\n    _.forEach(allPanelIds, (panelId) => {\n      this.destroyPanel(panelId);\n    });\n    this.panels = [];\n  }\n  /**\n   * \n   * @param panel \n   */\n  playOpenPanelAnimation(panel: string | ComponentRef<OnScreenWidgetPanelComponent>) {\n    return Promise.resolve(true);\n  }\n  /**\n   * \n   * @param panel \n   */\n  playClosePanelAnimation(panel: string | ComponentRef<OnScreenWidgetPanelComponent>) {\n    return Promise.resolve(true);\n  }\n  /**\n   * \n   * @param panel \n   */\n  getPositionOnMobile(panel: string | ComponentRef<OnScreenWidgetPanelComponent>) {\n\n    if (typeof panel === 'string') {\n      panel = this.getPanelById(panel);\n      if (!panel) {\n        return {};\n      }\n    }\n    //待开发\n  }\n  /**\n   * \n   * @param panel \n   */\n  _onPanelClick(panel) {\n    this._activePanel(panel);\n  }\n  /**\n   * \n   * @param panel \n   */\n  _activePanel(panel: ComponentRef<OnScreenWidgetPanelComponent> | string) {\n    if (typeof panel === \"string\") {\n      panel = this.getPanelById(panel);\n    }\n    if (!panel) return;\n    if (panel.instance.isDockable()) return;\n    if (this.activePanel) {\n      if (this.activePanel.instance.id === panel[\"instance\"].id) {\n        if (this.activePanel.instance.moveTopOnActive) {\n          this.activePanel.instance.setZIndex(\"active\");\n        }\n        return;\n      }\n      if (this.activePanel.instance.state === WidgetState.active) {\n        this.activePanel.instance.setState(WidgetState.opened);\n        if (this.activePanel.instance.position.zIndex !== 'undefined') {\n          // this.activePanel.instance.setZIndex(this.activePanel.instance.position.zIndex);\n          this.activePanel.instance.setZIndex(\"deactive\");\n        } else {\n          this.activePanel.instance.setZIndex(\"deactive\");\n        }\n        this.activePanel.instance.onDeActive();\n      }\n    }\n\n    let aw = this.widgetManager.activeWidget;\n    if (aw && aw.instance.state === WidgetState.active && aw.instance.getPanel() !== panel) {\n      aw.instance.setState(WidgetState.opened);\n      if (aw.instance.inPanel === false) {\n        if (aw.instance.position.zIndex !== 'undefined') {\n          // aw.instance.setZIndex(aw.instance.position.zIndex);\n          aw.instance.setZIndex(\"deactive\");\n        } else {\n          aw.instance.setZIndex(\"deactive\");\n        }\n      }\n      aw.instance.onDeActive();\n      this.widgetManager.activeWidget = null;\n    }\n\n    this.activePanel = panel;\n    if (this.activePanel.instance.state === WidgetState.active) {\n      return;\n    }\n    this.activePanel.instance.setState(WidgetState.active);\n    if (this.activePanel.instance.moveTopOnActive) {\n      this.activePanel.instance.setZIndex(\"active\");\n    }\n    _.forEach(this.panels, (p, index, arr) => {\n      if (p.instance.isDockable() == false && p.instance.id != this.activePanel.instance.id) {\n        p.instance.setZIndex(\"deactive\");\n      }\n    });\n    this.activePanel.instance.onActive();\n\n  }\n  /**\n   * \n   * @param panel \n   */\n  _removePanel(panel: ComponentRef<OnScreenWidgetPanelComponent>) {\n    let index = this.panels.indexOf(panel);\n    if (index > -1) {\n      this.panels.splice(index, 1);\n    }\n\n    if (this.activePanel && this.activePanel.instance.id === panel.instance.id) {\n      this.activePanel = null;\n    }\n  }\n\n  _onMoveStart(mover) {\n    //\n  }\n  /**\n   * \n   * @param widget \n   */\n  _onWidgetActived(widget) {\n    if (this.activePanel &&\n      this.activePanel.instance.state === WidgetState.active &&\n      widget.getPanel() !== this.activePanel) {\n      this.activePanel.instance.setState(WidgetState.opened);\n\n      if (this.activePanel.instance.position.zIndex !== 'undefined') {\n        //待开发 设置index\n      } else {\n        //待开发 设置index\n      }\n      this.activePanel.instance.onDeActive();\n      this.activePanel = null;\n    }\n  }\n\n  _loadPanelClass(panelUri) {\n\n  }\n\n  _loadThemeI18N(panelUri) {\n\n  }\n  getAllPanels() {\n    return this.panels;\n  }\n}\nexport interface ComponentType<T> {\n  new(...args: any[]): T;\n}\n","import { aspect, TestAspect } from './aspect.service';\nimport { ComponentLoaderService } from './component-loader.service';\nimport { Injectable, Injector, ComponentRef } from '@angular/core';\nimport { UtilsService } from './utils.service';\nimport { HttpReqService } from './request.service';\nimport { EventEmitterService } from './event-emitter.service';\nimport { CommonService } from './common.service';\nimport { AppGlobalConfig } from '../models/app-config';\nimport * as _ from 'lodash';\n/**\n * create by ruir 191014  mapManager.js\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class MapManagerService {\n  originMapPosition: any = null;\n  mapPosition: any = null;\n  appConfig: any = null;\n  id: string = \"\";\n  mapDivId: string = '';\n  map: any = null;\n  view: any = null;\n  previousInfoWindow: any = null;\n  mobileInfoWindow: any = null;\n  isMobileInfoWindow: boolean = false;\n  tiandituToken: string = \"95c02448602e3ee0683e07de5e772e96\";//后面放config\n  layerInfosObj: any = null;\n  options: any = null;\n  urlParams: any = null;\n  comRefMap: ComponentRef<any> = null;\n  //componentLoader:ComponentLoaderService;\n  constructor(\n    private utils: UtilsService,\n    private httpService: HttpReqService,\n    private globalParams: AppGlobalConfig,\n    private eventService: EventEmitterService,\n    private commonService: CommonService,\n    private componentLoader: ComponentLoaderService\n    //private injector: Injector\n  ) {\n    // setTimeout(() => {\n\n    // Promise.resolve().then(() => {\n    //   this.componentLoader = injector.get(ComponentLoaderService);\n    // });\n    // }, 600);\n    this.mapDivId = this.id = this.globalParams.jimuConfig.mapId;\n    this.urlParams = this.globalParams.urlParams;\n  }\n  setAppConfig(config) {\n    this.appConfig = config;\n  }\n  restorePosition() {\n    this.changeMapPosition(this.originMapPosition);\n  }\n  changeMapPosition(position, triggerEvent: boolean = true) {\n    this.mapPosition = _.merge(this.mapPosition, position);\n    this.commonService.setWidgetPosition(this.comRefMap, this.mapPosition);\n    if (this.comRefMap.instance.resize) {\n      this.comRefMap.instance.resize();\n    }\n    if (triggerEvent) {\n      this.eventService.rss.emit(this.eventService._mapPositionChanged, this.mapPosition);\n    }\n  }\n  setMapPosition(position) {\n    this.mapPosition = position;\n    this.originMapPosition = _.cloneDeep(position);\n    //待开发\n  }\n\n  getMapPosition() {\n    return this.mapPosition;\n  }\n  centerAtMap(lgtd, lttd, s) {\n\n  }\n  async showMap() {\n    let mapComp = this.componentLoader.findComponent(this.appConfig.map.uri);\n    if (!mapComp) {\n      console.log(\"没有找到map组件，请检查config.json文件map[uri]配置\");\n      return;\n    }\n    const _path = (typeof mapComp.prototype.getCompInfo === \"function\") ? mapComp.prototype.getCompInfo().path : \"\";\n    let _config, _manifest;\n    if (_path) {\n      try {\n        const _rpath = this.globalParams.widgetRootPath + \"/\" + _path;\n        _manifest = await this.httpService.getJsonFile(_rpath + \"/manifest.json\");\n        // modify by sy 2020/6/22 增加对configPath和config的支持\n        _config = this.appConfig.map.config;\n        if (!_config) {\n          let configPath = this.appConfig.map.configPath || 'config.json';\n          _config = await this.httpService.getJsonFile(_rpath + \"/\" + configPath);\n        }\n        // this.appConfig.map.config = _config;\n        // this.appConfig.map.manifest = _manifest;\n      } catch (err) {\n        console.log(err);\n      }\n    }\n    this.comRefMap = this.componentLoader.createComponentToHome(mapComp);\n    // this.comRefMap.instance.showSettingWhenInPanel=true;\n    this.comRefMap.instance.setProps({\n      appConfig: this.appConfig,\n      config: _config,\n      manifest: _manifest\n    });\n    let _position = _.cloneDeep(this.appConfig.map.position);\n    // if (_position.top) {\n    //   if (_position.height === \"100%\") {\n    //     const _top: number = parseInt(this.commonService.getPxNumber(_position.top.toString()).toString(), 10);\n    //     const h = document.body.clientHeight - _top;\n    //     _position.height = this.commonService.getPx(h);\n    //   }\n    // }\n    this.commonService.setWidgetPosition(this.comRefMap, _position);\n    //aspect.after(this.comRefMap.instance, \"ngOnInit\", this.test);\n    aspect.after(this.comRefMap.instance, \"afterNgOnInit\", ()=>{\n      this.initMap();\n    });\n    this.componentLoader.showInHome(this.comRefMap);\n    //this.comRefMap.instance[\"ngOnInit\"]();\n    // const test = new TestAspect();\n    // aspect.before(test, \"testBefore\", () => {\n    //   console.log(\"testBefore complate\");\n    // });\n    // aspect.after(test, \"testAfter\", () => {\n    //   console.log(\"testAfter complate\");\n    // });\n    // aspect.around(test, \"testAround\", () => {\n    //   console.log(\"testAround complate\");\n    // });\n    // test.testBefore();\n    // test.testAfter();\n    // test.testAround();\n\n  }\n  /**\n   * 销毁地图组件\n   */\n  destoryMap() {\n    if (this.comRefMap) {\n      this.comRefMap.destroy();\n      console.log('destroy map.');\n    }\n  }\n  initMap() {\n    this.comRefMap.instance.initMap().then((map) => {\n      console.log('map loaded.');\n      if (this.globalParams.mapConfig.is3D === true) {\n        this.view = map;\n        this.comRefMap.instance.view = map;\n      } else {\n        this.comRefMap.instance.map = map;\n        this.map = map;\n      }\n      //因有openAtStart的panel，所以先创建panel容器\n      this.eventService.rss.emit(this.eventService._createPanelContainer, this.commonService.getComponentRootNode(this.comRefMap));\n      //再加载地图及组件\n      this.eventService.rss.emit(this.eventService._mapLoaded, map);\n    }, (msg) => {\n      console.log(msg);\n    });\n  }\n}\n","import { MapManagerService } from './map-manager.service';\nimport { WidgetManagerService } from './widget-manager.service';\nimport { PanelManagerService } from './panel-manager.service';\nimport { Injectable, ComponentRef, ChangeDetectorRef } from '@angular/core';\nimport * as _ from 'lodash';\nimport { UtilsService } from './utils.service';\nimport { HttpReqService } from './request.service';\nimport { EventEmitterService } from './event-emitter.service';\nimport { CommonService } from './common.service';\nimport { AppGlobalConfig } from '../models/app-config';\nimport { ComponentLoaderService } from './component-loader.service';\nimport { OnScreenWidgetIconComponent } from '../components/on-screen-widget-icon/on-screen-widget-icon.component';\nimport { aspect } from './aspect.service';\n/**\n * create by ruir 191014  layoutManager.js\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class LayoutManagerService {\n\n  map: any = null\n  view: any = null;\n  mapId: string = 'mapContainer';\n  widgetPlaceholders: Array<any> = [];\n  preloadWidgetIcons: Array<ComponentRef<OnScreenWidgetIconComponent>> = [];\n  preloadGroupPanels: Array<any> = [];\n  invisibleWidgetIds: Array<any> = [];\n  id: string = \"\";\n  urlParams: any = \"\";\n  appConfig: any = null;\n  constructor(\n    private panelManager: PanelManagerService,\n    private widgetManager: WidgetManagerService,\n    private utils: UtilsService,\n    private httpService: HttpReqService,\n    private globalParams: AppGlobalConfig,\n    public eventService: EventEmitterService,\n    private commonService: CommonService,\n    private mapManager: MapManagerService,\n    private componentLoader: ComponentLoaderService\n    // @Inject(forwardRef(() => MapManagerService))\n    // @Optional() private mapManager: MapManagerService\n  ) {\n    this.widgetPlaceholders = [];\n    this.preloadWidgetIcons = [];\n    this.preloadGroupPanels = [];\n    this.invisibleWidgetIds = [];\n\n    this.eventService.rss.on(this.eventService._appConfigLoaded, (config) => this.onAppConfigLoaded(config));\n    this.eventService.rss.on(this.eventService._appConfigChanged, (config) => this.onAppConfigChanged(config));\n    this.eventService.rss.on(this.eventService._mapLoaded, (map) => this.onMapLoaded(map));\n    this.eventService.rss.on(this.eventService._mapChanged, (map) => this.onMapChanged(map));\n    this.eventService.rss.on(this.eventService._viewChanged, (view) => this.onViewChanged(view));\n    //待开发\n  }\n  startup() {\n    console.log(\"layout startup\");\n    this.widgetManager.panelManager = this.panelManager;\n  }\n  resize() {\n    _.forEach(this.widgetManager.getAllWidgets(), (w) => {\n      if (w.instance.inPanel === false) {\n        w.instance.resize();\n      }\n    });\n  }\n  onAppConfigLoaded(config) {\n    this.appConfig = config;\n    if (this.appConfig.theme) {\n      this._loadTheme(this.appConfig.theme);\n    }\n    this._loadMap();\n  }\n  onAppConfigChanged(params) {\n  }\n  _loadMap() {\n    //待开发\n    this.mapManager.setAppConfig(this.appConfig);\n    this.mapManager.setMapPosition(this.appConfig.map.position);\n    this.mapManager.showMap();/*.then(map=>{\n      this.onMapLoaded(map);\n    });*/\n  }\n  onMapLoaded(map) {\n    if (this.globalParams.mapConfig.is3D === true) {\n      this.view = map;\n    } else {\n      this.map = map;\n    }\n    this.panelManager.setMap(map);\n    this.widgetManager.setMap(map);\n    this.widgetManager.setAppConfig(this.appConfig);\n    this._loadPreloadWidgets(this.appConfig);\n  }\n  /**\n   * \n   * @param map \n   */\n  onMapChanged(map) {\n    this.map = map;\n    this.panelManager.map = map;//.setMap(map);\n    this.widgetManager.map = map;//.setMap(map);\n    this.mapManager.map = map;\n    this.preloadWidgetIcons.forEach(icon => {\n      icon.instance.map = this.map;\n      icon.instance.onMapChange(this.map);\n    });\n    this.panelManager.getAllPanels().forEach(panel => {\n      panel.instance.map = this.map;\n      panel.instance.onMapChange(this.map);\n    })\n    this.widgetManager.getAllWidgets().forEach(widget => {\n      widget.instance.map = this.map;\n      widget.instance.onMapChange(this.map);\n    });\n  }\n  /**\n   * \n   * @param view \n   */\n  onViewChanged(view) {\n    this.view = view;\n    this.panelManager.view = view;\n    this.widgetManager.view = view;\n    this.mapManager.view = view;\n    this.preloadWidgetIcons.forEach(icon => {\n      icon.instance.view = this.view;\n      icon.instance.onViewChange(this.view);\n    });\n    this.panelManager.getAllPanels().forEach(panel => {\n      panel.instance.view = this.view;\n      panel.instance.onViewChange(this.view);\n    })\n    this.widgetManager.getAllWidgets().forEach(widget => {\n      widget.instance.view = this.view;\n      widget.instance.onViewChange(this.view);\n    });\n  }\n  _loadPreloadWidgets(appConfig) {\n    console.time('Load widgetOnScreen');\n    let defs = [],\n      def = this.commonService.createPromiseDefer();\n    //加载组件\n    _.each(appConfig.widgetOnScreen.widgets, (widgetConfig, index, list) => {\n      if (widgetConfig.headerMenu === true) {\n        return true;\n      }\n      if (widgetConfig.visible === false || (this.commonService.isMobile() && typeof widgetConfig.mobile !== \"undefined\" && widgetConfig.mobile.visible === false)) {\n        this.invisibleWidgetIds.push(widgetConfig.id);\n      } else {\n        defs.push(this._loadPreloadWidget(widgetConfig, appConfig));\n      }\n    });\n    //加载分组中的部件 未实现\n    // _.forEach(appConfig.widgetOnScreen.groups, function(groupConfig) {\n    //     defs.push(this._loadPreloadGroup(groupConfig, appConfig));\n    //   }, this);\n\n    Promise.all(defs).then(() => {\n      console.timeEnd('Load widgetOnScreen');\n      //Rss.one(\"preloadWidgetsLoaded\")\n      //closeProgressBar();\n      //组件加载完成发送事件，脏检测 add yly 20200327\n      this.eventService.rss.emit(this.eventService._checkChangeDetector, defs);\n      this._hideLoading();\n    }).catch(() => {\n      // closeProgressBar();\n      this._hideLoading();\n    });\n\n    return def.promise();\n  }\n  _hideLoading() {\n    //待开发\n  }\n  _doPostLoad() {\n\n  }\n  /**\n   * \n   * @param widgetConfig \n   * @param appConfig \n   */\n  async _loadPreloadWidget(widgetConfig, appConfig) {\n    let def = this.commonService.createPromiseDefer();\n    //创建组件\n    if (!widgetConfig || !widgetConfig.uri) {\n      console.error(`widget [${widgetConfig.label}] no uri`);\n      return def.resolve(null);\n    }\n    //let compRef = await this.widgetManager.createWidget(widgetConfig);\n\n    if (((this.globalParams.jimuConfig.isDesignMode === true && this.urlParams.config && this.globalParams.appInfo.folderUrlPrefix) || appConfig.mode === 'config') && !widgetConfig.uri) {\n      //ruir 190718 解决占位符得高宽变成了panel得高宽问题 （获取下manifest信息）\n      if (widgetConfig.oldUri) {\n        let _tempUrl = widgetConfig.oldUri;\n        if (_tempUrl.startsWith(\"/\")) {\n          _tempUrl = _tempUrl.substring(1);\n        }\n        widgetConfig.amdFolder = _tempUrl.substring(0, _tempUrl.toLowerCase().lastIndexOf(\"/widget\")) + \"/\";\n        widgetConfig.folderUrl = this.globalParams.appInfo.folderUrlPrefix + \"/\" + widgetConfig.amdFolder;\n        this.widgetManager.loadWidgetManifest(widgetConfig).then((widgetConfigNew) => {\n          let placeholder = this._createPreloadWidgetPlaceHolder(widgetConfigNew);\n          def.resolve(placeholder);\n        });\n      } else {\n        let placeholder = this._createPreloadWidgetPlaceHolder(widgetConfig);\n        def.resolve(placeholder);\n      }\n      return def.promise();\n    }\n    let iconDijit;\n    if (widgetConfig.inPanel || widgetConfig.closeable) {\n      //创建图标\n      iconDijit = this._createPreloadWidgetIcon(widgetConfig);\n      def.resolve(iconDijit);\n    } else {\n      /*\n      this.widgetManager.openWidget(compRef);\n      compRef.instance.setPosition(widgetConfig.position);\n      this.commonService.setWidgetPosition(compRef, widgetConfig.position);\n      widgetConfig.loaded = true;\n      def.resolve(compRef);\n      */\n      //加载组件\n      this.widgetManager.loadWidget(widgetConfig).then((compRef) => {\n        this.widgetManager.showWidget(compRef);\n        compRef.instance.setPosition(widgetConfig.position);\n        this.commonService.setWidgetPosition(compRef, widgetConfig.position);\n        widgetConfig.loaded = true;\n        compRef.instance.configId = widgetConfig.id;\n        def.resolve(compRef);\n      }).catch((err) => {\n        console.error(err);\n      });\n\n\n    }\n\n    return def.promise();\n  }\n  _createPreloadWidgetPlaceHolder(widgetConfig) {\n\n  }\n  /**\n   * 创建图标\n   * @param widgetConfig 组件配置\n   * @param component 组件\n   */\n  _createPreloadWidgetIcon(widgetConfig, component?: any) {\n    let iconDijit = null;\n    let inMap: boolean = false;\n    if (widgetConfig.position.relativeTo === \"browser\") {\n      iconDijit = this.componentLoader.createComponentToHome(OnScreenWidgetIconComponent);\n    } else {\n      inMap = true;\n      iconDijit = this.componentLoader.createComponentToMap(OnScreenWidgetIconComponent);\n    }\n\n    iconDijit.instance.setProps({\n      compRef: component,\n      appConfig: this.appConfig,\n      map: this.globalParams.mapConfig.is3D ? this.view : this.map,\n      widgetConfig: widgetConfig\n    });\n    aspect.before(iconDijit.instance, 'destroy', () => {\n      this._onDestroyIcon(iconDijit);\n    });\n\n    this.preloadWidgetIcons.push(iconDijit);\n    if (inMap) {\n      this.componentLoader.showInMap(iconDijit);\n    } else {\n      this.componentLoader.showInHome(iconDijit);\n    }\n    let _ele = this.commonService.getComponentRootNode(iconDijit);\n    if (_ele) {\n      _ele.classList.add(\"jimu-widget-onscreen-icon\");\n      _ele.title = widgetConfig.label;\n    }\n    let _position = _.cloneDeep(widgetConfig.position);\n    // _position.height = 32;\n    // _position.width = 32;\n    //ruir 20210315 删除高宽属性，要不然样式里修改后会因这里设置里高宽导致无效\n    delete _position.height;\n    delete _position.width;\n    this.commonService.setWidgetPosition(iconDijit, _position);\n\n    // iconDijit.startup();\n    //图标位置显示后自动打开\n    if (widgetConfig.openAtStart === true) {\n      iconDijit.instance.switchToOpen();\n    }\n\n    return iconDijit;\n  }\n  /**\n   * \n   * @param placeholder \n   */\n  _onDestroyPlaceholder(placeholder) {\n    let index = 0, idx = -1;\n    for (; index < this.widgetPlaceholders.length; index++) {\n      let ci = this.widgetPlaceholders[index];\n      if (placeholder.id === ci.id || placeholder.configId === ci.configId) {\n        idx = index;\n        break;\n      }\n    }\n    if (idx >= 0) {\n      this.widgetPlaceholders.splice(idx, 1);\n    }\n    console.log('destroy placeholder [' + placeholder.id + '].');\n  }\n  /**\n   * 销毁图标之前\n   * @param  icon \n   */\n  _onDestroyIcon(icon) {\n    //_版本低了，没有findIndex函数\n    // let idx = _.findIndex(this.preloadWidgetIcons, function (ci) { return icon.id === ci.id; }, this);\n    let index = 0, idx = -1;\n    for (; index < this.preloadWidgetIcons.length; index++) {\n      let ci = this.preloadWidgetIcons[index];\n      if (icon.instance.id === ci.instance.id) {\n        idx = index;\n        break;\n      }\n    }\n    if (idx >= 0) {\n      this.preloadWidgetIcons.splice(idx, 1);\n    }\n    console.log('destroy icon [' + icon.instance.id + '].');\n  }\n  _loadPreloadGroup(groupJson, appConfig) {\n    let def = this.commonService.createPromiseDefer();\n    if (!appConfig.mode && (!groupJson.widgets || groupJson.widgets.length === 0)) {\n      def.resolve(null);\n      return def;\n    }\n    //待开发\n    return def.promise();\n  }\n  _getThemeCommonStyleId(theme) {\n    return 'theme_' + theme.name + '_style_common';\n  }\n  _getThemeCurrentStyleId(theme) {\n    return 'theme_' + theme.name + '_style_' + theme.styles[0];\n  }\n  _loadTheme(theme) {\n    //待开发\n  }\n  _loadThemeCommonStyle(theme) {\n    //待开发\n  }\n  _removeThemeCommonStyle(theme) {\n    //待开发\n  }\n  _loadThemeCurrentStyle(theme) {\n    //待开发\n  }\n  _removeThemeCurrentStyle(theme) {\n    //待开发\n  }\n\n  _destroyPreloadWidgetIcons() {\n    // _.each(this.preloadWidgetIcons, function (icon) {\n    //     icon.destroy();\n    // }, this);\n    //ruir 190719:这里需要从后往前循环，因icon.destroy();中会删除元素\n    for (let index = this.preloadWidgetIcons.length - 1; index >= 0; index--) {\n      const icon = this.preloadWidgetIcons[index];\n      icon.destroy();\n    }\n    this.preloadWidgetIcons = [];\n  }\n\n  _destroyOffPanelWidgets() {\n    _.forEach(this.widgetManager.getOffPanelWidgets(), (widget) => {\n      this.widgetManager.destroyWidget(widget);\n    });\n  }\n  _destroyWidgetPlaceholders() {\n    // _.forEach(this.widgetPlaceholders, function (placeholder) {\n    //     placeholder.destroy();\n    // }, this);\n    //ruir 190719:这里需要从后往前循环，因placeholder.destroy();中会删除元素\n    for (let index = this.widgetPlaceholders.length - 1; index >= 0; index--) {\n      const placeholder = this.widgetPlaceholders[index];\n      placeholder.destroy();\n    }\n    this.widgetPlaceholders = [];\n  }\n  _destroyPreloadPanels() {\n    this.panelManager.destroyAllPanels();\n  }\n  _destroyPreloadGroupPanels() {\n    // _.forEach(this.preloadGroupPanels, function (panel) {\n    //   this.panelManager.destroyPanel(panel);\n    // }, this);\n    this.preloadGroupPanels = [];\n  }\n  /**\n   * 主题改变\n   * @param  appConfig \n   */\n  _onThemeChange(appConfig) {\n    //待开发\n  }\n  /**\n  * 布局改变\n  * @param  appConfig \n  */\n  _onLayoutChange2(appConfig) {\n    //待开发\n  }\n  /**\n   * 布局改变\n   * @param  appConfig \n   */\n  _onLayoutChange(appConfig) {\n    this._onLayoutChange2(appConfig);\n\n  }\n  /**\n   * 样式改变\n   * @param  appConfig \n   */\n  _onStyleChange(appConfig) {\n    // 待开发\n\n  }\n  _changeMapPosition(appConfig) {\n\n    //待开发\n  }\n  /**\n   * 图层、map位置等改变\n   * @param  appConfig \n   */\n  _onMapChange(appConfig) {\n\n    //待开发\n  }\n  /**\n   * 菜单改变\n   * @param  appConfig \n   */\n  _onWidgetPoolChange(appConfig: any, changeData?: any) {\n\n  }\n  /**\n   * \n   * @param  appConfig \n   * @param  action\n   * @param  eleid 元素id\n   */\n  _onActionTriggerd(appConfig, action, eleid) {\n    let panelIcon = _.find(this.preloadWidgetIcons, (w, index) => {\n      return w.instance.configId === eleid;\n    });\n    if (panelIcon) {\n      panelIcon.instance.onAction(action,\"TODO\");\n    }\n    // let widget = this.widgetManager.getWidgetById(eleid);//从panel打开的widget也会被高亮\n    let widget = _.find(this.widgetManager.getOnScreenOffPanelWidgets(), (w) => {\n      return (w.instance.id === eleid);\n    });\n    if (widget) {\n      widget.instance.onAction(action,\"TODO\");\n    }\n    let placeholder = _.find(this.widgetPlaceholders, (w, index) => {\n      return w.configId === eleid;\n    });\n    if (placeholder) {\n      placeholder.onAction(action,\"TODO\");\n    }\n  }\n  /**\n   * 组件改变\n   * @param  appConfig \n   * @param  changeData  \n   * @param  action add、delete、edit \n   */\n  _onWidgetChange(appConfig, changeData, action) {\n    let changedWidgets = changeData.widgetList;\n    if (!changedWidgets || changedWidgets.length <= 0) {\n      return;\n    }\n    let _self = this;\n    function loadWidget(widgetConfig, appConfig, isIcon, state) {\n      if (widgetConfig.headerMenu === true) {\n        return true;\n      }\n      if (widgetConfig.visible === false) {\n        _self.invisibleWidgetIds.push(widgetConfig.id);\n        return true;\n      }\n      _self._loadPreloadWidget(widgetConfig, appConfig).then(function (iconNew) {\n        if (isIcon) {\n          if (widgetConfig.uri && state === 'opened') {\n            iconNew.onClick();\n          }\n        }\n      });\n    }\n    function process(wc) {\n      let uri = this.globalParams.appInfo.folderUrlPrefix + \"/\" + (wc.oldUri ? wc.oldUri : wc.uri);\n      let icon = _.find(_self.preloadWidgetIcons, function (w) { return wc.id === w.instance.configId || uri === w.instance.uri });\n      let state = undefined, widgetConfig = undefined;\n      if (icon) {\n        state = icon.instance.state, widgetConfig = icon.instance.widgetConfig;\n        if (icon.instance.widget) {\n          icon.instance.widget.destroy();\n        }\n        icon.destroy();\n        if (action === \"delete\") {//删除\n          _self._createPreloadWidgetPlaceHolder(widgetConfig);\n        }\n        else if (action === \"modify\") {//编辑配置\n          loadWidget(widgetConfig, appConfig, true, state);\n        }\n      } else {\n        let widget = _.find(_self.widgetManager.getOnScreenOffPanelWidgets(), function (w) {\n          return (wc.id === w.instance.configId) || uri === w.instance.uri;\n        }, this);\n        if (widget) {\n          widgetConfig = widget.instance.widgetConfig;\n          widget.destroy();\n          if (action === \"delete\") {//删除\n            _self._createPreloadWidgetPlaceHolder(widgetConfig);\n          }\n          else if (action === \"modify\") {//编辑配置\n            loadWidget(widgetConfig, appConfig, false, '');\n          }\n        } else {\n          //删除组件后添加或占位符添加\n          let eleConfig = this.utils.getConfigElementById(appConfig, wc.id);\n          if (eleConfig) {\n            let placeholder = _.find(_self.widgetPlaceholders, function (w) {\n              return (wc.id === w.configId || wc.id === w.id);\n            }, this);\n            if (placeholder) {\n              placeholder.destroy();\n            }\n            if (eleConfig.loaded === true) {\n              delete eleConfig.amdFolder;\n              delete eleConfig.checked;\n              delete eleConfig.folderUrl;\n              delete eleConfig.hasConfig;\n              delete eleConfig.hasLocale;\n              delete eleConfig.hasSetting;\n              delete eleConfig.hasSettingLocale;\n              delete eleConfig.hasSettingPage;\n              delete eleConfig.hasSettingStyle;\n              delete eleConfig.hasSettingUIFile;\n              delete eleConfig.hasStyle;\n              delete eleConfig.hasUIFile;\n              delete eleConfig.hasVersionManager;\n              delete eleConfig.icon;\n              delete eleConfig.inPanel;\n              delete eleConfig.isController;\n              delete eleConfig.isHeadMenu;\n              //delete eleConfig.isWidget;\n              delete eleConfig.keepConfigAfterMapSwithched;\n              delete eleConfig.loaded;\n              delete eleConfig.manifest;\n              delete eleConfig.supportMultiInstance;\n              delete eleConfig.thumbnail;\n              delete eleConfig.uri;\n              delete eleConfig.version;\n            }\n\n            {\n              widgetConfig = _.extend(eleConfig, wc);\n              this.configManager.configLoader._processAfterTryLoad(appConfig);\n              _self.widgetManager.loadWidgetManifest(widgetConfig).then((config) => {\n                loadWidget(widgetConfig, appConfig, false, '');\n              }).catch(function (err) {\n                console.log(\"loadWidgetManifest err\", err);\n              });\n\n            }\n          } else {\n            _.forEach(_self.invisibleWidgetIds, (widgetId) => {\n              if (widgetId === wc.id && wc.visible !== false) {\n                widgetConfig = this.utils.getConfigElementById(appConfig, wc.id);\n                _self._loadPreloadWidget(widgetConfig, appConfig);\n                let i = _self.invisibleWidgetIds.indexOf(widgetConfig.id);\n                _self.invisibleWidgetIds.splice(i, 1);\n              }\n            });\n          }\n        }\n      }\n\n    }\n    _.forEach(changedWidgets, process);\n  }\n\n}","import { Injectable } from '@angular/core';\n/**\n * create by ruir 191014  widgetPlaceHolder.js\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class WidgetPlaceHolderService {\n\n  constructor() { }\n}\n","import { Subject } from 'rxjs';\nimport { SSModalAPI } from './modal-options';\nimport { SsModalOptions } from './modal-types';\nimport { ModalContainerComponent } from './modal-container/modal-container.component';\nimport { EventEmitter, ComponentRef } from '@angular/core';\n// import { OverlayRef } from '@angular/cdk/overlay';\n\nexport const enum SsModalState {\n  OPEN,\n  CLOSING,\n  CLOSED\n}\n\nexport const enum SsTriggerAction {\n  CANCEL = 'cancel',\n  OK = 'ok'\n}\nexport function isPromise<T>(obj: any): obj is Promise<T> {\n  return !!obj && typeof obj.then === 'function' && typeof obj.catch === 'function';\n}\nexport class SsModalRef<T = any, R = any> implements SSModalAPI<T, R> {\n  containerInstance: ModalContainerComponent;\n  componentRef: ComponentRef<T>;\n  componentInstance: T | null = null;\n  result?: R;\n  state: SsModalState = SsModalState.OPEN;\n  afterClose: Subject<R> = new Subject();\n  afterOpen: Subject<void> = new Subject();\n\n  private closeTimeout?: number;\n\n  // constructor(private overlayRef: OverlayRef,private config: SsModalOptions, public containerInstance: ModalContainerComponent) {\n  //   containerInstance.cancelTriggered.subscribe(() => this.trigger(SsTriggerAction.CANCEL));\n  //   containerInstance.okTriggered.subscribe(() => this.trigger(SsTriggerAction.OK));\n  //   containerInstance.onCloseTreggered.subscribe(() => {\n  //     this.afterClose.next(this.result);\n  //     this.afterClose.complete();\n  //     if (config.nzAfterClose instanceof EventEmitter) {\n  //       config.nzAfterClose.emit(this.result);\n  //     }\n  //     this.componentInstance = null;\n  //     //dispose\n  //   });\n  // }\n  constructor(private config: SsModalOptions, private containerRef: ComponentRef<ModalContainerComponent>) {\n    this.containerInstance = containerRef.instance;\n    this.containerInstance.cancelTriggered.subscribe(() => this.trigger(SsTriggerAction.CANCEL));\n    this.containerInstance.okTriggered.subscribe(() => this.trigger(SsTriggerAction.OK));\n    this.containerInstance.onCloseTreggered.subscribe(() => {\n      this.afterClose.next(this.result);\n      this.afterClose.complete();\n      if (config.afterClose instanceof EventEmitter) {\n        config.afterClose.emit(this.result);\n      }\n      this.containerRef = null;\n      this.containerInstance = null;\n      this.componentRef = null;\n      this.componentInstance = null;\n      //dispose\n    });\n  }\n  getContentComponent(): T {\n    return this.componentInstance as T;\n  }\n\n  getElement(): HTMLElement {\n    return this.containerInstance.getNativeElement();\n  }\n\n  destroy(result?: R): void {\n    this.close(result);\n  }\n\n  triggerOk(): void {\n    this.trigger(SsTriggerAction.OK);\n  }\n\n  triggerCancel(): void {\n    this.trigger(SsTriggerAction.CANCEL);\n  }\n\n  /**\n   * Open the modal.\n   * @deprecated Opened when create, this method is useless.\n   * @breaking-change 10.0.0\n   */\n  open(): void {\n    // noop\n  }\n\n  close(result?: R): void {\n    this.result = result;\n    // 可关闭 \n    // this.overlayRef.detachBackdrop();\n    // this.overlayRef.dispose();\n    this.componentRef.destroy();\n    this.containerRef.destroy();\n    this.state = SsModalState.CLOSED;\n    //关闭事件传递结果\n    this.afterClose.next(this.result);\n  }\n\n  updateConfig(config: SsModalOptions): void {\n    Object.assign(this.config, config);\n    this.containerInstance.cdr.markForCheck();\n  }\n\n  getState(): SsModalState {\n    return this.state;\n  }\n\n  getConfig(): SsModalOptions {\n    return this.config;\n  }\n\n  getBackdropElement(): HTMLElement | null {\n    // return this.overlayRef.backdropElement;\n    return null;\n  }\n\n  private trigger(action: SsTriggerAction): void {\n    const trigger = { ok: this.config.onOk, cancel: this.config.onCancel }[action];\n    const loadingKey = { ok: 'okLoading', cancel: 'cancelLoading' }[action] as 'okLoading' | 'cancelLoading';\n    const loading = this.config[loadingKey];\n    if (loading) {\n      return;\n    }\n    if (trigger instanceof EventEmitter) {\n      trigger.emit(this.getContentComponent());\n    } else if (typeof trigger === 'function') {\n      const result = trigger(this.getContentComponent());\n      const caseClose = (doClose: boolean | void | {}) => doClose !== false && this.close(doClose as R);\n      if (isPromise(result)) {\n        this.config[loadingKey] = true;\n        const handleThen = (doClose: boolean | void | {}) => {\n          this.config[loadingKey] = false;\n          this.closeWhitResult(doClose);\n        };\n        result.then(handleThen).catch(handleThen);\n      } else {\n        caseClose(result);\n      }\n    }\n  }\n\n  private closeWhitResult(result: any): void {\n    if (result !== false) {\n      this.close(result);\n    }\n  }\n}","import { TemplateRef, EventEmitter, Type, ViewContainerRef } from '@angular/core';\n\n\nexport type OnClickCallback<T> = (instance: T) => (false | void | {}) | Promise<false | void | {}>;\n\nexport type SsButtonType = 'primary' | 'default' | 'dashed' | 'danger' | 'link' | null;\nexport type SsButtonShape = 'circle' | 'round' | null;\nexport type SsButtonSize = 'large' | 'default' | 'small';\nexport type SsModalTypes = 'default' | 'confirm'; // Different modal styles we have supported\n\nexport type SsConfirmType = 'confirm' | 'info' | 'success' | 'error' | 'warning'; // Subtypes of Confirm Modal\n\nexport interface SsStyleObjectLike {\n  [key: string]: string;\n}\n\nconst noopFun = () => void 0;\n\nexport class SsModalOptions<T = any, R = any> {\n  closable?: boolean = true;\n  okLoading?: boolean = false;\n  okDisabled?: boolean = false;\n  cancelDisabled?: boolean = false;\n  cancelLoading?: boolean = false;\n  noAnimation?: boolean = false;\n  autofocus?: 'ok' | 'cancel' | 'auto' | null = 'auto';\n  mask?: boolean = true;\n  maskClosable?: boolean = true;\n  keyboard?: boolean = true;\n  zIndex?: number = 1000;\n  top?: number | string = 50;\n  width?: number | string = 520;\n  height?: number | string = 400;\n  closeIcon?: string | TemplateRef<void> = 'close';\n  okType?: SsButtonType = 'primary';\n  modalType?: SsModalTypes = 'default';\n  onCancel?: EventEmitter<T> | OnClickCallback<T> = noopFun;\n  onOk?: EventEmitter<T> | OnClickCallback<T> = noopFun;\n  componentParams?: Partial<T>;\n  maskStyle?: SsStyleObjectLike;\n  bodyStyle?: SsStyleObjectLike;\n  wrapClassName?: string;\n  className?: string;\n  styles?: object;\n  title?: string | TemplateRef<{}>;\n  footer?: string | TemplateRef<{}> | Array<SsModalButtonOptions<T>> | null; // Default Modal ONLY\n  cancelText?: string | null;\n  okText?: string | null;\n  content?: string | TemplateRef<any> | Type<T>;\n  closeOnNavigation?: boolean = true;\n  viewContainerRef?: ViewContainerRef;\n\n  /**\n   * Reset the container element.\n   * @deprecated Not supported.\n   * @breaking-change 10.0.0\n   */\n  getContainer?: HTMLElement;\n\n  /**\n   * 模板时用\n   */\n  afterOpen?: EventEmitter<void>;\n  afterClose?: EventEmitter<R>;\n\n  /**\n   * Confirm\n   */\n  iconType?: string = 'question-circle';\n  fullScreen?: boolean = false;\n  /**\n   * 标题栏（图标）按钮\n   */\n  titleBarButtons?: Array<SsModalTitleBarButtonOptions<T>> | null;\n}\n\nexport interface SsModalButtonOptions<T = any> {\n  label: string;\n  type?: SsButtonType;\n  shape?: SsButtonShape;\n  ghost?: boolean;\n  size?: SsButtonSize;\n  autoLoading?: boolean; // Default: true, indicate whether show loading automatically while onClick returned a Promise\n  // [NOTE] \"componentInstance\" will refer to the component's instance when using Component\n  show?: boolean | ((this: SsModalButtonOptions<T>, contentComponentInstance?: T) => boolean);\n  loading?: boolean | ((this: SsModalButtonOptions<T>, contentComponentInstance?: T) => boolean); // This prop CAN'T use with autoLoading=true\n  disabled?: boolean | ((this: SsModalButtonOptions<T>, contentComponentInstance?: T) => boolean);\n  onClick?(this: SsModalButtonOptions<T>, contentComponentInstance?: T): any | Promise<any>;\n  [key: string]: any;\n}\n/**\n * 图标按钮选项\n */\nexport interface SsModalTitleBarButtonOptions<T = any> {\n  /**\n   * 对应ngzorro的type或阿里图标\n   */\n  icon: string;\n  theme?: string;\n  spin?: boolean;\n  /**\n   * theme 为“twotone”时可用\n   */\n  twotoneColor?: string;\n  /**\n   * 是否为阿里图标\n   */\n  isIconfont?: boolean;\n  rotate?: number;\n  title?: string;\n  /**\n   * 自定义样式，建议不要设置color，全局样式默认会设置为白色\n   */\n  style?: string;\n  onClick?(this: SsModalTitleBarButtonOptions<T>, contentComponentInstance?: T): any | Promise<any>;\n}","import { SsModalOptions } from './modal-types';\nimport { SSModalComponent } from './modal.component';\n\nexport function applyConfigDefaults(config: SsModalOptions, defaultOptions: SsModalOptions): SsModalOptions {\n  return { ...defaultOptions, ...config };\n}\n\n\nexport function setContentInstanceParams<T>(instance: T, params: Partial<T> | undefined): void {\n  Object.assign(instance, params);\n}\n\nexport function getConfigFromComponent(component: SSModalComponent): SsModalOptions {\n  const {\n    mask,\n    maskClosable,\n    closable,\n    okLoading,\n    okDisabled,\n    cancelDisabled,\n    cancelLoading,\n    keyboard,\n    noAnimation,\n    content,\n    componentParams,\n    footer,\n    getContainer,\n    zIndex,\n    width,\n    wrapClassName,\n    className,\n    styles,\n    title,\n    closeIcon,\n    maskStyle,\n    bodyStyle,\n    okText,\n    cancelText,\n    okType,\n    iconType,\n    modalType,\n    onOk,\n    onCancel,\n    afterOpen,\n    afterClose\n  } = component;\n  return {\n    mask,\n    maskClosable,\n    closable,\n    okLoading,\n    okDisabled,\n    cancelDisabled,\n    cancelLoading,\n    keyboard,\n    noAnimation,\n    content,\n    componentParams,\n    footer,\n    getContainer,\n    zIndex,\n    width,\n    wrapClassName,\n    className,\n    styles,\n    title,\n    closeIcon,\n    maskStyle,\n    bodyStyle,\n    okText,\n    cancelText,\n    okType,\n    iconType,\n    modalType,\n    onOk,\n    onCancel,\n    afterOpen,\n    afterClose\n  };\n}\n","<div class=\"ssmodal_overlay\" #ssmodal_overlay>\n  <div class=\"ssmodal\" #ssmodal id=\"{{options.id}}\" [ngStyle]=\"position\">\n    <div class=\"ssmodal_titlebar ssmodal_titlebar_draggable\" #ssmodal_titlebar\n      (mousedown)=\"_titlebar_MouseDown($event);\">\n      <div class=\"ssmodal_titlebar_text\"><span class=\"ssmodal_titlebar_text_span\">{{options.title}}</span></div>\n      <!--icon button-->\n      <div class=\"ssmodal_titlebar_custom_buttons\" *ngIf=\"config.titleBarButtons\" ss-modal-titlebar-button [modalRef]=\"modalRef\"></div>\n      <ng-container *ngIf=\"options.buttonCollapse\">\n        <ng-container *ngIf=\"windowState=='collapsed'; else showCollapsedButton\">\n          <div class=\"ssmodal_titlebar_button ssmodal_titlebar_button_collapse\" title=\"{{options.buttonUnCollapseText}}\"\n            (click)=\"_buttonCollapse_Click($event);\">\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n              viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <polyline points=\"1,3 9,3 5,8 1,3 9,3\"></polyline>\n              </g>\n            </svg></div>\n        </ng-container>\n        <ng-template #showCollapsedButton>\n          <div class=\"ssmodal_titlebar_button ssmodal_titlebar_button_collapse\" title=\"{{options.buttonCollapseText}}\"\n            (click)=\"_buttonCollapse_Click($event);\">\n            <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n              viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <polyline points=\"1,7 9,7 5,2 1,7 9,7\"></polyline>\n              </g>\n            </svg></div>\n        </ng-template>\n\n\n      </ng-container>\n\n\n      <ng-container *ngIf=\"options.buttonMaximize\">\n        <ng-container *ngIf=\"windowState == 'maximized'; else showMaximizeButton\">\n\n          <div class=\"ssmodal_titlebar_button ssmodal_titlebar_button_maximize\" title=\"{{options.buttonUnmaximizeText}}\"\n            (click)=\"_buttonMax_Click($event);\"><svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <rect x=\"1\" y=\"3\" height=\"6\" width=\"6\"></rect>\n                <line y1=\"3\" x1=\"3\" y2=\"1\" x2=\"3\"></line>\n                <line y1=\"1\" x1=\"2.5\" y2=\"1\" x2=\"9.5\"></line>\n                <line y1=\"1\" x1=\"9\" y2=\"7\" x2=\"9\"></line>\n                <line y1=\"7\" x1=\"9.5\" y2=\"7\" x2=\"7\"></line>\n              </g>\n            </svg></div>\n        </ng-container>\n        <ng-template #showMaximizeButton>\n\n          <div class=\"ssmodal_titlebar_button ssmodal_titlebar_button_maximize\" title=\"{{options.buttonMaximizeText}}\"\n            (click)=\"_buttonMax_Click($event);\"><svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\n              xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n              <g fill=\"none\">\n                <rect x=\"1\" y=\"1\" height=\"8\" width=\"8\"></rect>\n              </g>\n            </svg></div>\n        </ng-template>\n      </ng-container>\n\n      <ng-container *ngIf=\"options.buttonClose\">\n        <div class=\"ssmodal_titlebar_button ssmodal_titlebar_button_close\" title=\"{{options.buttonCloseText}}\"\n          (click)=\"closePanel($event);\">\n          <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n            viewBox=\"0 0 10 10\" height=\"100%\" width=\"100%\">\n            <g>\n              <line y2=\"0\" x2=\"10\" y1=\"10\" x1=\"0\"></line>\n              <line y2=\"10\" x2=\"10\" y1=\"0\" x1=\"0\"></line>\n            </g>\n          </svg></div>\n      </ng-container>\n    </div>\n    <div class=\"ssmodal_content\" (click)=\"_contentClick($event);\">\n      <ng-template #widget_content></ng-template>\n    </div>\n    <div class=\"ssmodal_statusbar\" *ngIf=\"showStatusBar\">\n      <div class=\"ssmodal_statusbar_content\">\n        <div *ngIf=\"config.footer !== null\" ss-modal-footer [modalRef]=\"modalRef\" (cancelTriggered)=\"onCloseClick()\"\n          (okTriggered)=\"onOkClick()\"></div>\n      </div>\n      <!-- <div class=\"ssmodal_statusbar_handle\"> -->\n        <div class=\"ssmodal_resizer ssmodal_resizer_bottom\"\n          (mousedown)=\"_resizer_MouseDown($event,{dimension:'height',directionY:'bottom'});\"></div>\n      <!-- </div> -->\n    </div>\n    <div class=\"ssmodal_resizer ssmodal_resizer_top\"\n      (mousedown)=\"_resizer_MouseDown($event,{dimension:'height',directionY:'top'});\"></div>\n    <div class=\"ssmodal_resizer ssmodal_resizer_left\"\n      (mousedown)=\"_resizer_MouseDown($event,{dimension:'width',directionX:'left'});\"></div>\n    <div class=\"ssmodal_resizer ssmodal_resizer_right\"\n      (mousedown)=\"_resizer_MouseDown($event,{dimension:'width',directionX:'right'});\"></div>\n    <div class=\"ssmodal_resizer ssmodal_resizer_topleft\"\n      (mousedown)=\"_resizer_MouseDown($event,{dimension:'both',directionX:'left',directionY:'top'});\"></div>\n    <div class=\"ssmodal_resizer ssmodal_resizer_topright\"\n      (mousedown)=\"_resizer_MouseDown($event,{dimension:'both',directionX:'right',directionY:'top'});\"></div>\n    <div class=\"ssmodal_resizer ssmodal_resizer_bottomleft\"\n      (mousedown)=\"_resizer_MouseDown($event,{dimension:'both',directionX:'left',directionY:'bottom'});\"></div>\n    <div class=\"ssmodal_resizer ssmodal_resizer_bottomright\"\n      (mousedown)=\"_resizer_MouseDown($event,{dimension:'both',directionX:'right',directionY:'bottom'});\"></div>\n  </div>\n</div>\n<div class=\"ssmodal_minplaceholder\"></div>","import { Component, OnInit, Renderer2, ElementRef, EventEmitter, ChangeDetectorRef, NgZone, ComponentRef, EmbeddedViewRef, ViewChild } from '@angular/core';\nimport { BasePanelComponent } from '../../base-panel/base-panel.component';\nimport { SsModalRef } from '../modal-ref';\nimport { SsModalOptions } from '../modal-types';\nimport { ServiceInjector } from '../../../services/service-injector';\nimport { WidgetState, WidgetWindowState, WidgetPosition } from '../../../models/base-widget';\n// import { CdkPortalOutlet, ComponentPortal } from '@angular/cdk/portal';\nexport function throwNzModalContentAlreadyAttachedError(): never {\n  throw Error('Attempting to attach modal content after content is already attached');\n}\nimport { ComponentRegister } from '../../../decorator/component-register.decorator';\nimport { CommonService } from '../../../services/common.service';\nimport { PanelManagerService } from '../../../services/panel-manager.service';\nimport { WidgetManagerService } from '../../../services/widget-manager.service';\nimport { AppGlobalConfig } from '../../../models/app-config';\nimport { MapManagerService } from '../../../services/map-manager.service';\n@ComponentRegister({\n  uri: 'epsgis-modal-container',\n  path: \"components/modal/modal-container\"\n})\n@Component({\n  selector: 'epsgis-modal-container',\n  templateUrl: './modal-container.component.html',\n  styleUrls: ['./modal-container.component.scss'],\n})\nexport class ModalContainerComponent extends BasePanelComponent implements OnInit {\n\n  animationStateChanged = new EventEmitter<AnimationEvent>();\n  containerClick = new EventEmitter<void>();\n  cancelTriggered = new EventEmitter<void>();\n  okTriggered = new EventEmitter<void>();\n  document: Document;\n  modalRef!: SsModalRef;\n  isStringContent: boolean = false;\n  private elementFocusedBeforeModalWasOpened: HTMLElement | null = null;\n  private latestMousedownTarget: HTMLElement | null = null;\n  private oldMaskStyle: { [key: string]: string } | null = null;\n\n  onCloseTreggered = new EventEmitter<any>();\n  @ViewChild(\"ssmodal_overlay\", { static: true }) sspanelOverlay: ElementRef;\n  @ViewChild(\"ssmodal_titlebar\", { static: true }) sspanel_titlebar: ElementRef;\n  @ViewChild(\"ssmodal\", { static: true }) sspanel: ElementRef;\n  @ViewChild('ssmodal', { static: true }) modalElementRef!: ElementRef<HTMLDivElement>;\n  // portalOutlet!: CdkPortalOutlet;\n  showStatusBar: boolean = false;\n  defaultZIndex = 110;\n  constructor(\n    protected elementRef: ElementRef,\n    public cdr: ChangeDetectorRef,\n    protected render: Renderer2,\n    protected zone: NgZone,\n    public config: SsModalOptions,\n    // private serviceInjecter: ServiceInjector,\n    public commonService:CommonService,\n    public panelManager:PanelManagerService,\n    public widgetManager:WidgetManagerService,\n    public globalParams:AppGlobalConfig,\n    public mapManager:MapManagerService\n  ) {\n    super(render, cdr);\n    // this.setServiceInjector(this.serviceInjecter);\n    this.document = document;\n    this.isStringContent = typeof config.content === 'string';\n    this.setContainer();\n    if (this.config.footer != null) {\n      this.showStatusBar = true;\n    } else if (this.config.okDisabled !== true) {\n      this.showStatusBar = true;\n    } else if (this.config.cancelDisabled !== true) {\n      this.showStatusBar = true;\n    }\n  }\n  ngOnInit() {\n    if (this.commonService.isMobile()) {\n      this.widgetConfig = {\n        position: new WidgetPosition(0, 0, 0, 0, \"100%\", \"100%\", \"\", \"unset\")\n      };\n    } else {\n      let left = 0;\n      if (this.config.width === \"100%\") {\n        left = 0;\n      } else if (this.config.width === \"auto\") {\n\n      } else if (typeof this.config.width === \"number\") {\n        left = (window.innerWidth - this.config.width) / 2;\n      } else if (typeof this.config.width === \"string\") {\n        let x = parseInt(this.config.width, 10);\n        left = (window.innerWidth - x) / 2;\n      }\n      this.widgetConfig = {\n        position: {\n          top: this.config.top,\n          left: left,\n          width: this.config.width,\n          height: this.config.height,\n          zIndex: this.config.zIndex || this.defaultZIndex\n        }\n      };\n    }\n    let _index = this.defaultZIndex - 1;\n    if (this.config.zIndex >= 1) {\n      _index = this.config.zIndex - 1;\n    }\n    //如果设置了zIndex，则将背景div的zindex减1。解决背景无法遮盖高于它的div\n    this.render.setStyle(this.sspanelOverlay.nativeElement, 'z-index', _index);\n    this.setOptions({\n      buttonMaximize: true,\n      buttonClose: true,\n      buttonCollapse: false,\n      modal: this.config.mask,\n      title: this.config.title.toString(),\n      minHeight: 100,\n      minWidth: 200\n    });\n    this.label = this.tooltip = this.config.title.toString();\n    if (this.globalParams.mapConfig.is3D) {\n      this.view = this.mapManager.view;\n    } else {\n      this.map = this.mapManager.map;\n    }\n    this.id = \"ss-modal\";\n    this.gid = \"ss-modal\";\n\n    this.setPosition(this.widgetConfig.position);\n    this.state = WidgetState.opened;\n    this.windowState = WidgetWindowState.normal;\n\n    super.ngOnInit();\n  }\n  ngAfterViewInit() {\n    this.modalRef.afterOpen.next();\n    if (this.config.fullScreen) {\n      this._maximize();\n    }\n  }\n  onClose() {\n    this.onCloseTreggered.emit();\n  }\n  onMousedown(e: MouseEvent): void {\n    this.latestMousedownTarget = (e.target as HTMLElement) || null;\n  }\n\n  onMouseup(e: MouseEvent): void {\n    if (e.target === this.latestMousedownTarget && e.target === this.elementRef.nativeElement) {\n      this.containerClick.emit();\n    }\n    this.latestMousedownTarget = null;\n  }\n\n  onCloseClick(): void {\n    this.cancelTriggered.emit();\n  }\n\n  onOkClick(): void {\n    this.okTriggered.emit();\n  }\n\n  //  attach2<T>(portal: ComponentPortal<T>){\n  //   if (this.portalOutlet.hasAttached()) {\n  //     throwNzModalContentAlreadyAttachedError();\n  //   }\n  //   this.savePreviouslyFocusedElement();\n  //   this.setModalTransformOrigin();\n  //   return this.portalOutlet.attachComponentPortal(portal);\n  //  }\n  attachComponentPortal<T>(compRef: ComponentRef<T>): ComponentRef<T> {\n    this.savePreviouslyFocusedElement();\n    this.setModalTransformOrigin();\n    this.widgetContainer.insert(compRef.hostView);\n    return compRef;\n  }\n\n  attachTemplatePortal<C>(): EmbeddedViewRef<C> {\n    //TODO \n    return null;\n  }\n\n  getNativeElement(): HTMLElement {\n    return this.elementRef.nativeElement;\n  }\n\n  private animationDisabled(): boolean {\n    // return this.config.nzNoAnimation || this.animationType === 'NoopAnimations';\n    return false;\n  }\n\n  private setModalTransformOrigin(): void {\n    const modalElement = this.modalElementRef.nativeElement;\n    if (this.elementFocusedBeforeModalWasOpened as HTMLElement) {\n      const previouslyDOMRect = this.elementFocusedBeforeModalWasOpened!.getBoundingClientRect();\n\n      const lastPosition = this.commonService.getElementBounds(this.elementFocusedBeforeModalWasOpened);\n      const x = lastPosition.left + previouslyDOMRect.width / 2;\n      const y = lastPosition.top + previouslyDOMRect.height / 2;\n      const transformOrigin = `${x - modalElement.offsetLeft}px ${y - modalElement.offsetTop}px 0px`;\n      this.render.setStyle(modalElement, 'transform-origin', transformOrigin);\n    }\n  }\n\n  private savePreviouslyFocusedElement(): void {\n    if (this.document) {\n      this.elementFocusedBeforeModalWasOpened = this.document.activeElement as HTMLElement;\n      if (this.elementRef.nativeElement.focus) {\n        Promise.resolve().then(() => this.elementRef.nativeElement.focus());\n      }\n    }\n  }\n\n  private trapFocus(): void {\n\n  }\n\n  private restoreFocus(): void {\n\n  }\n\n  private setEnterAnimationClass(): void {\n\n  }\n\n  private setExitAnimationClass(): void {\n\n  }\n\n  private cleanAnimationClass(): void {\n    if (this.animationDisabled()) {\n      return;\n    }\n\n  }\n\n  private bindBackdropStyle(): void {\n  }\n\n  /**\n   * Set the container element.\n   * @deprecated Not supported.\n   * @breaking-change 10.0.0\n   */\n  private setContainer(): void {\n    const container = this.getContainer();\n    if (container) {\n      this.render.appendChild(container, this.elementRef.nativeElement);\n    }\n  }\n\n  /**\n   * Reset the container element.\n   * @deprecated Not supported.\n   * @breaking-change 10.0.0\n   */\n  private resetContainer(): void {\n    const container = this.getContainer();\n    if (container) {\n    }\n  }\n\n  private getContainer(): HTMLElement | null {\n    // const { nzGetContainer } = this.config;\n    // const container = typeof nzGetContainer === 'function' ? nzGetContainer() : nzGetContainer;\n    // return container instanceof HTMLElement ? container : null;\n    return this.config.getContainer;\n  }\n\n  onAnimationDone(event: AnimationEvent): void {\n\n  }\n\n  onAnimationStart(event: AnimationEvent): void {\n\n  }\n\n  startExitAnimation(): void {\n    this.state = WidgetState.closed;\n    this.cdr.markForCheck();\n  }\n  /**\n  * 关闭panel\n  * @param event \n  */\n  closePanel(event) {\n    this.cancelTriggered.emit();\n  }\n}\n","import { Injectable, OnDestroy, Injector, SkipSelf, Optional, TemplateRef, ComponentFactoryResolver, ReflectiveInjector, ApplicationRef, ComponentRef, Type } from '@angular/core';\nimport { SsModalRef } from '../components/modal/modal-ref';\nimport { Subject, Observable, defer } from 'rxjs';\nimport { startWith } from 'rxjs/operators';\nimport { SsModalOptions } from '../components/modal/modal-types';\nimport { setContentInstanceParams, applyConfigDefaults } from '../components/modal/utils';\nimport { PortalInjector, ComponentPortal } from '@angular/cdk/portal';\nimport { ModalContainerComponent } from '../components/modal/modal-container/modal-container.component';\nimport { ComponentType } from './services';\nimport { CommonService } from './common.service';\nimport { ServiceInjector } from './service-injector';\nimport { OverlayRef, OverlayConfig, Overlay } from '@angular/cdk/overlay';\nimport { findComponentInfo } from '../decorator/component-register.decorator';\ntype ContentType<T> = ComponentType<T> | TemplateRef<T> | string;\n\n/**\n * 模态对话框 \n * create by 20200508\n */\n@Injectable({ providedIn: 'root' })\nexport class ModalManagerService implements OnDestroy {\n  private openModalsAtThisLevel: SsModalRef[] = [];\n  private readonly afterAllClosedAtThisLevel = new Subject<void>();\n  factories = new Map();\n  factoriesArray: Array<any> = null;\n  get openModals(): SsModalRef[] {\n    return this.parentModal ? this.parentModal.openModals : this.openModalsAtThisLevel;\n  }\n\n  get _afterAllClosed(): Subject<void> {\n    const parent = this.parentModal;\n    return parent ? parent._afterAllClosed : this.afterAllClosedAtThisLevel;\n  }\n\n  readonly afterAllClose: Observable<void> = defer(() =>\n    this.openModals.length ? this._afterAllClosed : this._afterAllClosed.pipe(startWith(undefined))\n  ) as Observable<void>;\n  constructor(\n    private overlay: Overlay,\n    private injector: Injector,\n    @Optional() @SkipSelf() private parentModal: ModalManagerService,\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private appRef: ApplicationRef,\n    private commonService: CommonService\n  ) {\n    this.factories = this.componentFactoryResolver[\"_factories\"];\n    if (this.factories) {\n      this.factoriesArray = Array.from(this.factories);\n    }\n  }\n\n  readonly modalContainerClass: string = \"ssmodal_container\";\n\n  modalContainer: Element;\n\n  private createModalContainer() {\n    // 容器\n    let container = document.querySelector(this.modalContainerClass);\n    if (container == null) {\n      container = window.document.createElement(\"div\");\n      container.className = this.modalContainerClass;\n      window.document.body.appendChild(container);\n    }\n    this.modalContainer = container;\n  }\n  /**\n   * \n   * @param config \n   */\n  create<T, R = any>(config: SsModalOptions<T, R>): SsModalRef<T, R> {\n    return this.open<T, R>(config.content as ComponentType<T>, config);\n  }\n  /**\n   * \n   */\n  closeAll(): void {\n    this.closeModals(this.openModals);\n  }\n  private attachModalContainer2(overlayRef: OverlayRef, config: SsModalOptions): ModalContainerComponent {\n    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\n    const injector = new PortalInjector(\n      userInjector || this.injector,\n      new WeakMap<any, any>([\n        [OverlayRef, overlayRef],\n        [SsModalOptions, config]\n      ])\n    );\n\n    const ContainerComponent = ModalContainerComponent;\n\n    const containerPortal = new ComponentPortal<ModalContainerComponent>(ContainerComponent, config.viewContainerRef, injector);\n    const containerRef = overlayRef.attach<ModalContainerComponent>(containerPortal);\n\n    return containerRef.instance;\n  }\n  /**\n   * \n   * @param componentOrTemplateRef \n   * @param config \n   */\n  private open<T, R>(componentOrTemplateRef: ContentType<T>, config?: SsModalOptions): SsModalRef<T, R> {\n    const configMerged = applyConfigDefaults(config || {}, new SsModalOptions());\n    const modalContainerRef = this.attachModalContainer(configMerged);\n    const modalRef = this.attachModalContent<T, R>(componentOrTemplateRef, configMerged, modalContainerRef);\n    modalContainerRef.instance.modalRef = modalRef;\n    this.openModals.push(modalRef);\n    // const overlayRef = this.createOverlay(configMerged);\n    // const modalContainer = this.attachModalContainer2(overlayRef, configMerged);\n    // const modalRef = this.attachModalContent2<T, R>(componentOrTemplateRef, modalContainer, overlayRef, configMerged);\n    // modalContainer.modalRef = modalRef;\n    modalRef.afterClose.subscribe(() => this.removeOpenModal(modalRef));\n    return modalRef;\n  }\n  /**\n   * \n   * @param modalRef \n   */\n  private removeOpenModal(modalRef: SsModalRef): void {\n    const index = this.openModals.indexOf(modalRef);\n    if (index > -1) {\n      this.openModals.splice(index, 1);\n\n      if (!this.openModals.length) {\n        this._afterAllClosed.next();\n      }\n    }\n  }\n  /**\n   * \n   * @param dialogs \n   */\n  private closeModals(dialogs: SsModalRef[]): void {\n    let i = dialogs.length;\n    while (i--) {\n      dialogs[i].close();\n      if (!this.openModals.length) {\n        this._afterAllClosed.next();\n      }\n    }\n  }\n  // private createOverlay(config: SsModalOptions): OverlayRef {\n  //   const overlayConfig = new OverlayConfig({\n  //     hasBackdrop: true,\n  //     scrollStrategy: this.overlay.scrollStrategies.block(),\n  //     positionStrategy: this.overlay.position().global(),\n  //     disposeOnNavigation: config.nzCloseOnNavigation\n  //   });\n\n  //   if (config.nzMask) {\n  //     overlayConfig.backdropClass = \"ant-modal-mask\";\n  //   }\n\n  //   return this.overlay.create(overlayConfig);\n  // }\n\n  // private attachModalContent2<T, R>(\n  //   componentOrTemplateRef: ContentType<T>,\n  //   modalContainer: ModalContainerComponent,\n  //   overlayRef: OverlayRef,\n  //   config: SsModalOptions<T>\n  // ): SsModalRef<T, R> {\n  //   const modalRef = new SsModalRef<T, R>(overlayRef, config, modalContainer);\n\n  //   if (componentOrTemplateRef instanceof TemplateRef) {\n\n  //   } else if (componentOrTemplateRef!=null && typeof componentOrTemplateRef !== 'string') {\n  //     const injector = this.createInjector<T, R>(modalRef, config);\n  //     const contentRef = modalContainer.attach2<T>(\n  //       new ComponentPortal(componentOrTemplateRef, config.nzViewContainerRef, injector)\n  //     );\n  //     setContentInstanceParams<T>(contentRef.instance, config.nzComponentParams);\n  //     modalRef.componentInstance = contentRef.instance;\n  //   }\n  //   return modalRef;\n  // }\n  /**\n   * \n   * @param config \n   */\n  private attachModalContainer(config: SsModalOptions): ComponentRef<ModalContainerComponent> {\n    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\n    const injector = new PortalInjector(\n      userInjector || this.injector,\n      new WeakMap<any, any>([\n        [SsModalOptions, config]\n      ])\n    );\n    this.createModalContainer();\n    // const ContainerComponent =\n    //   config.nzModalType === 'confirm'\n    //       NzModalConfirmContainerComponent:\n    //       ModalContainerComponent;\n    let inputs = {\n      config: config\n    };\n    let inputProviders = Object.keys(inputs).map((inputName) => {\n      return { provide: inputName, useValue: inputs[inputName] };\n    });\n    const ContainerComponent = ModalContainerComponent;\n    const factory = this.componentFactoryResolver.resolveComponentFactory(ContainerComponent);\n    const injectorc = Injector.create({ providers: inputProviders,parent:injector });\n    //const containerRef = factory.create(ReflectiveInjector.resolveAndCreate(inputProviders, injector));\n    const containerRef = factory.create(injectorc);\n    this.modalContainer.appendChild(this.commonService.getComponentRootNode(containerRef));\n    // 加入angular脏检查\n    this.appRef.attachView(containerRef.hostView);\n    return containerRef;\n  }\n\n  findComponent(name: string): Type<any> {\n    let comp = null;\n    if (this.factories) {\n      if (!this.factories || this.factories.size <= 0) return null;\n      let item = this.factoriesArray.find((value, index: number, arr) => {\n        return value[1].selector.toLowerCase() === name.toLowerCase() || value[0].name.toLowerCase() === name.toLocaleLowerCase();\n      });\n      if (item) {\n        comp = item[0];\n      }\n    } else {\n      //ng9及以上\n      const compInfo = findComponentInfo(name);\n      if (compInfo) {\n        return compInfo.component;\n      }\n    }\n    return comp;\n\n  }\n  /**\n   * \n   * @param componentOrTemplateRef \n   * @param config \n   * @param modalContainer\n   */\n  private attachModalContent<T, R>(\n    componentOrTemplateRef: ContentType<T>,\n    config: SsModalOptions<T>,\n    modalContainerRef: ComponentRef<ModalContainerComponent>,\n  ): SsModalRef<T, R> {\n    const modalRef = new SsModalRef<T, R>(config, modalContainerRef);\n\n    if (componentOrTemplateRef instanceof TemplateRef) {\n      // TODO \n\n    } else if (componentOrTemplateRef && typeof componentOrTemplateRef !== 'string') {\n      let inputs = {};\n      if (config.componentParams) {\n        inputs = config.componentParams;\n      }\n      let inputProviders = Object.keys(inputs).map((inputName) => {\n        return { provide: inputName, useValue: inputs[inputName] };\n      });\n      let component = componentOrTemplateRef;\n      if (this.factories && !this.factories.get(componentOrTemplateRef)) {\n        component = this.findComponent(componentOrTemplateRef.name);\n      }\n      const factory = this.componentFactoryResolver.resolveComponentFactory(component);\n      const injector = Injector.create({ providers: inputProviders, parent: this.createInjector(modalRef, config) });\n      // const compRef = factory.create(ReflectiveInjector.resolveAndCreate(inputProviders, this.createInjector(modalRef, config)));\n      const compRef = factory.create(injector);\n      setContentInstanceParams<T>(compRef.instance, config.componentParams);\n      modalContainerRef.instance.attachComponentPortal<T>(compRef);\n      modalRef.componentInstance = compRef.instance;\n      modalRef.componentRef = compRef;\n    }\n    return modalRef;\n  }\n\n  private createInjector<T, R>(modalRef: SsModalRef<T, R>, config: SsModalOptions<T>): PortalInjector {\n    const userInjector = config && config.viewContainerRef && config.viewContainerRef.injector;\n    const injectionTokens = new WeakMap<any, any>([[SsModalRef, modalRef]]);\n\n    return new PortalInjector(userInjector || this.injector, injectionTokens);\n  }\n\n\n  ngOnDestroy(): void {\n    this.closeModals(this.openModalsAtThisLevel);\n    this.afterAllClosedAtThisLevel.complete();\n  }\n}","import { Injectable } from '@angular/core';\nimport { RequestResultModel } from '../models/http/request.result';\nimport { HttpReqService } from './request.service';\n\n/**\n * Setting服务\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class SettingService {\n  readonly API_SAVE_SETTING: string = \"api/setting/content\";\n  constructor(public req: HttpReqService) { }\n  /**\n   * 获取配置文件内容\n   * @param filePath 配置文件路径\n   */\n  getConfigContent(filePath: string) {\n    return this.req.getJsonFile(filePath);\n  }\n  /**\n   * 保存配置文件\n   * @param data \n   */\n  saveConfig(data: ISettingSaveModel): Promise<RequestResultModel> {\n    if (!data) {\n      return Promise.resolve({\n        success: false,\n        msg: \"data is null\",\n        data: null\n      });\n    }\n    if (!data.filePath) {\n      return Promise.resolve({\n        success: false,\n        msg: \"data.filePath is null\",\n        data: null\n      });\n    }\n    return this.req.postNoAuth(this.API_SAVE_SETTING, data, this.req.config.settingApiUrl, true);\n  }\n}\nexport interface ISettingSaveModel {\n  filePath: string;\n  content: string;\n}\n\n","import { Injectable } from '@angular/core';\r\nimport { EventManager } from '@angular/platform-browser';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AppGlobalConfig, defaultAppGlobalConfig } from '../models/app-config';\r\nimport { LayoutManagerService } from './layout-manager.service';\r\nimport { WidgetPlaceHolderService } from './widget-place-holder.service';\r\nimport { PanelManagerService } from './panel-manager.service';\r\nimport { MapManagerService } from './map-manager.service';\r\nimport { ConfigManagerService } from './config-manager.service';\r\nimport { ConfigLoaderService } from './config-loader.service';\r\nimport { WidgetManagerService } from './widget-manager.service';\r\nimport { CommonService } from './common.service';\r\nimport { UtilsService } from './utils.service';\r\nimport { HttpReqService } from './request.service';\r\nimport { ModalManagerService } from './modal-manager.service';\r\nimport { ComponentLoaderService } from './component-loader.service';\r\nimport { SettingService } from './setting.service';\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class ServiceInjector {\r\n\r\n    constructor(\r\n        public config: AppGlobalConfig,\r\n        public utils: UtilsService,\r\n        public commonService: CommonService,\r\n        public httpService: HttpReqService,\r\n        public configLoader: ConfigLoaderService,\r\n        public configManager: ConfigManagerService,\r\n        public mapManager: MapManagerService,\r\n        public panelManager: PanelManagerService,\r\n        public widgetManager: WidgetManagerService,\r\n        public widgetPlaceHolder: WidgetPlaceHolderService,\r\n        public layoutManager: LayoutManagerService,\r\n        public jsEventManager: EventManager,\r\n        private route: ActivatedRoute,\r\n        public componentManager: ComponentLoaderService,\r\n        public modalManaer: ModalManagerService,\r\n        public settingService: SettingService\r\n        // @Inject(forwardRef(() => ConfigLoaderService))\r\n        // public configLoader: ConfigLoaderService,\r\n\r\n        // @Inject(forwardRef(() => ConfigManagerService))\r\n        // public configManager: ConfigManagerService,\r\n\r\n        // @Inject(forwardRef(() => PanelManagerService))\r\n        // public panelManager: PanelManagerService,\r\n\r\n        // @Inject(forwardRef(() => WidgetManagerService))\r\n        // public widgetManager: WidgetManagerService,\r\n\r\n        // @Inject(forwardRef(() => WidgetPlaceHolderService))\r\n        // public widgetPlaceHolder: WidgetPlaceHolderService,\r\n\r\n        // @Inject(forwardRef(() => MapManagerService))\r\n        // public mapManager: MapManagerService,\r\n\r\n        // @Inject(forwardRef(() => LayoutManagerService))\r\n        // public layoutManager: LayoutManagerService\r\n    ) {\r\n        if (!config) {\r\n            config = Object.assign({}, defaultAppGlobalConfig);\r\n        }\r\n        //url中参数改变时，重新给全局参数中的urlParams赋值\r\n        this.route.queryParams.subscribe(params => {\r\n            this.config.urlParams = Object.assign(this.config.urlParams, params);\r\n        });\r\n    }\r\n}\r\n","/**\r\n * create by ruir  js 、css加载器\r\n */\r\nclass SimpleLoaderService {\r\n    /**\r\n     * 单例\r\n     */\r\n    private static _instance: SimpleLoaderService = null;\r\n    private constructor() {\r\n\r\n    }\r\n    static getInstance() {\r\n        if (!this._instance) {\r\n            this._instance = new SimpleLoaderService();\r\n        }\r\n        return this._instance;\r\n    }\r\n    /**\r\n     * 类型判断\r\n     * @param type \r\n     * @param obj \r\n     */\r\n    private is(type: string, obj: any) {\r\n        let clas = Object.prototype.toString.call(obj).slice(8, -1);\r\n        return obj !== undefined && obj !== null && clas === type;\r\n    }\r\n    /**\r\n     * 是否数组\r\n     * @param item \r\n     */\r\n    private isArray(item: any) {\r\n        return this.is(\"Array\", item);\r\n    }\r\n\r\n    /**\r\n     * 获取url扩展名\r\n     * @param url \r\n     */\r\n    private getExtension(url: string) {\r\n        url = url || \"\";\r\n        let items = url.split(\"?\")[0].split(\".\");\r\n        return items[items.length - 1].toLowerCase();\r\n    }\r\n    /**\r\n     * 创建元素\r\n     * @param config \r\n     */\r\n    private createElement(config: any) {\r\n        let e = document.createElement(config.element);\r\n        for (let i in config) {\r\n            if (i !== 'element' && i !== 'appendTo') {\r\n                e[i] = config[i];\r\n            }\r\n        }\r\n        let root = document.getElementsByTagName(config.appendTo)[0];\r\n        return (typeof root.appendChild(e) === 'object');\r\n    }\r\n    /**\r\n     * \r\n     * @param url \r\n     * @param onLoad \r\n     */\r\n    private elementLoaded(url: string, onLoad?: Function) {\r\n        if (onLoad) {\r\n            onLoad(url);\r\n        }\r\n    }\r\n    /**\r\n     * \r\n     * @param url \r\n     * @param thisObj \r\n     * @param onLoad 加载事件\r\n     */\r\n    private elementReadyStateChanged(url: string, thisObj: any, onLoad?: Function) {\r\n        if (thisObj.readyState === 'loaded' || thisObj.readyState === 'complete') {\r\n            this.elementLoaded(url, onLoad);\r\n        }\r\n    }\r\n    /**\r\n     * 加载css\r\n     * @param url css url\r\n     * @param onLoad 加载事件\r\n     */\r\n    private loadCss(url: string, onLoad?: Function) {\r\n        let result = this.createElement({\r\n            element: 'link',\r\n            rel: 'stylesheet',\r\n            type: 'text/css',\r\n            href: url,\r\n            onload: () => {\r\n                this.elementLoaded(url, onLoad);\r\n            },\r\n            appendTo: 'head'\r\n        });\r\n\r\n        //对于不触发加载事件的浏览器\r\n        // Safari在加载样式时更新document.stylesheets。\r\n        let ti = setInterval(() => {\r\n            let styles = document.styleSheets;\r\n            for (let i = 0; i < styles.length; i++) {\r\n                // console.log(styles[i].href);\r\n                if (styles[i].href &&\r\n                    styles[i].href.substr(styles[i].href.indexOf(url), styles[i].href.length) === url) {\r\n                    clearInterval(ti);\r\n                    this.elementLoaded(url, onLoad);\r\n                }\r\n            }\r\n        }, 500);\r\n\r\n        return result;\r\n    }\r\n    /**\r\n     * 加载js\r\n     * @param url js url\r\n     * @param onLoad 加载事件\r\n     */\r\n    private loadJs(url: string, onLoad?: Function) {\r\n        let result = this.createElement({\r\n            element: 'script',\r\n            type: 'text/javascript',\r\n            onload: () => {\r\n                this.elementLoaded(url, onLoad);\r\n            },\r\n            onreadystatechange: () => {\r\n                this.elementReadyStateChanged(url, this, onLoad);\r\n            },\r\n            src: url,\r\n            appendTo: 'body'\r\n        });\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 加载JavaScript、Css资源（多个）\r\n     * @param ress 资源路径数组\r\n     * @param onOneBeginLoad 单个资源开始加载回调事件\r\n     * @param onOneLoad 单个资源加载完成回调事件\r\n     * @param onLoad 所有资源加载完成回调事件\r\n     */\r\n    loadResources(ress: string[], onOneBeginLoad?: Function, onOneLoad?: Function, onLoad?: Function) {\r\n        let loaded = [];\r\n        /**\r\n         * 检测是否已经触发过onload事件\r\n         * @param url \r\n         */\r\n        const checkHaveLoaded = (url) => {\r\n            for (let i = 0; i < loaded.length; i++) {\r\n                if (loaded[i] === url) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        /**\r\n         * onload\r\n         * @param url \r\n         */\r\n        const _onOneLoad = (url) => {\r\n            //避免多次出发onload事件\r\n            if (checkHaveLoaded(url)) {\r\n                return;\r\n            }\r\n            loaded.push(url);\r\n            if (onOneLoad) {\r\n                onOneLoad(url, loaded.length);\r\n            }\r\n            if (loaded.length === ress.length) {\r\n                if (onLoad) {\r\n                    onLoad();\r\n                }\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < ress.length; i++) {\r\n            this.loadResource(ress[i], onOneBeginLoad, _onOneLoad);\r\n        }\r\n\r\n    }\r\n    /**\r\n     * 加载JavaScript、Css资源（一个）\r\n     * @param url 资源路径\r\n     * @param onBeginLoad 开始加载回调事件\r\n     * @param onLoad 资源加载完成回调事件\r\n     */\r\n    loadResource(url: string, onBeginLoad?: Function, onLoad?: Function) {\r\n        if (onBeginLoad) {\r\n            onBeginLoad(url);\r\n        }\r\n        let type = this.getExtension(url);\r\n        if (type.toLowerCase() === 'css') {\r\n            this.loadCss(url,onLoad);\r\n        } else {\r\n            this.loadJs(url,onLoad);\r\n        }\r\n\r\n    }\r\n\r\n}\r\nexport const simpleLoader = SimpleLoaderService.getInstance();\r\n\r\n//test\r\n// simpleLoader.loadResource(\"assets/smlib/2d/libs/moment.js/moment.min.js\", () => {\r\n//   console.log(\"simpleLoader.loadResource OnBeginLoad\");\r\n// }, () => {\r\n//   console.log(\"simpleLoader.loadResource OnLoad\");\r\n//   console.log(`moment.now():${window[\"moment\"].now()}`);\r\n// });\r\n/*\r\nsimpleLoader.loadResources([\r\n    \"assets/smlib/3d/js/china.js\",\r\n    \"assets/smlib/3d/js/config.js\",\r\n    \"assets/smlib/3d/js/echarts.js\"\r\n], (url) => {\r\n    console.log(`simpleLoader.loadResources [${url}]开始加载`);\r\n}, (url) => {\r\n    console.log(`simpleLoader.loadResources [${url}]加载完成`);\r\n}, () => {\r\n    console.log(`simpleLoader.loadResources 所有加载完成`);\r\n});\r\n*/\r\n","import { Injectable } from '@angular/core';\nimport { HttpReqService, ObjectPara } from './request.service';\nimport { TokenModel, RequestResultModel, CurrentLoginUser } from '../models/http/request.result';\n/**\n * create by ruir 20200224\n */\n@Injectable({\n    providedIn: 'root'\n})\nexport class AuthService {\n    private _tokenKey = \"\";\n    private _userKey = \"__current_user\";\n    private _currentUser: CurrentLoginUser = null;\n    constructor(private req: HttpReqService) {\n        this._tokenKey = this.req.getTokenKey();\n    }\n    /**\n     * \n     * @param key \n     * @param data \n     */\n    private saveInfo2Local(key: string, data: any) {\n        if (window.sessionStorage) {//localStorage\n            sessionStorage.setItem(key, JSON.stringify(data));\n        } else {\n            console.log(\"浏览器不支持sessionStorage\");\n        }\n    }\n    /**\n     * \n     * @param key \n     */\n    private getInfoFromLocal(key: string): string {\n        if (window.sessionStorage) {\n            return sessionStorage.getItem(key);\n        } else {\n            console.log(\"浏览器不支持sessionStorage\");\n        }\n        return \"\";\n    }\n    /**\n     * \n     * @param data \n     */\n    private saveToken(data: TokenModel) {\n        this.saveInfo2Local(this._tokenKey, data);\n        this.req.setAccessToken(data.access_token);\n    }\n    /**\n     * 获取本地保存的token\n     */\n    getLocalToken(): TokenModel {\n        let str = this.getInfoFromLocal(this._tokenKey);\n        if (str != \"\") {\n            return JSON.parse(str);\n        }\n        return null;\n    }\n    /**\n     * 刷新token\n     */\n    refreshToken(refresh_token: string): Promise<RequestResultModel> {\n        return new Promise<RequestResultModel>((resolve, reject) => {\n            this.req.get('epsoffice/token/refresh', { \"refresh_token\": refresh_token }).then(result => {\n                if (result.success) {\n                    this.saveToken(result.data);\n                }\n                resolve(result);\n            }).catch(err => reject(err));\n        });\n    }\n    /**\n     * 登录\n     * @param username \n     * @param password \n     */\n    userLogin(username: string, password: string): Promise<RequestResultModel> {\n        return new Promise((resolve, reject) => {\n            this.req.post(\"epsoffice/user/login\", { \"username\": username, \"password\": password })\n                .then(result => {\n                    if (result.success) {\n                        this._currentUser = result.data;\n                        this.saveInfo2Local(this._userKey, result.data);\n                        this.saveToken(result.data.token);\n                    }\n                    resolve(result);\n                }).catch(reject);\n        });\n    }\n\n    /**\n     * 验证token\n     */\n    checkLogin(): Promise<RequestResultModel> {\n        return this.req.get(\"epsoffice/user/login/validate\");\n    }\n    /**\n     * \n     */\n    logout() {\n        return new Promise<boolean>((resove, reject) => {\n            this.req.post(\"epsoffice/user/logout\").then(result => {\n                if (result.success) {\n                    this.removeToken();\n                }\n                resove(result.success);\n            }).catch(err => {\n                console.error(err);\n                resove(false);\n            });\n        });\n    }\n    removeToken() {\n        this._currentUser = null;\n        this.req.setAccessToken(\"\");\n        sessionStorage.removeItem(this._tokenKey);\n        sessionStorage.removeItem(this._userKey);\n    }\n    /**\n     * 远程获取用户信息\n     */\n    getRemoteUser(): Promise<CurrentLoginUser> {\n        return new Promise<CurrentLoginUser>((resolve, reject) => {\n            this.req.get(\"epsoffice/user/login/info\").then(result => {\n                if (result.success) {\n                    this._currentUser = result.data;\n                    this.saveInfo2Local(this._userKey, result.data);\n                    this._currentUser.token = this.getLocalToken();\n                    resolve(result.data);\n                } else {\n                    console.error(result.msg);\n                    resolve(null);\n                }\n            }).catch(err => {\n                console.error(err);\n                resolve(null);\n            });\n        });\n    }\n    /**\n     * 获取当前用户信息\n     */\n    getCurrentUser(): CurrentLoginUser {\n        if (this._currentUser) {\n            return this._currentUser;\n        }\n        const str = this.getInfoFromLocal(this._userKey);\n        if (str) {\n            const _user = JSON.parse(str);\n            this._currentUser = _user;\n            this._currentUser.token = this.getLocalToken();\n        }\n        return this._currentUser;\n    }\n}\n","export class GISAuthService {\n  static message: string = \"请获取开发授权！\";\n  static authtype: string = \"开发版\";\n  static encryptCode: string = \"\";\n  static decrypt(str: string, pwd?: string | number | boolean) {\n    try {\n      if (str == '') {\n        return '';\n      }\n      if (!pwd || pwd == '') {\n        pwd = 'sunway_webgis_auth_code';\n      }\n      pwd = encodeURIComponent(pwd);\n      if (str == undefined || str.length < 8) {\n        return '';\n      }\n      if (pwd == undefined || pwd.length <= 0) {\n        return '';\n      }\n      var prand: any = '';\n      for (var i = 0, len = pwd.length; i < len; i += 1) {\n        prand += pwd.charCodeAt(i).toString();\n      }\n      var sPos = Math.floor(prand.length / 5);\n      var mult = parseInt(prand.charAt(sPos) + prand.charAt(sPos * 2) + prand.charAt(sPos * 3) +\n        prand.charAt(sPos * 4) + prand.charAt(sPos * 5));\n      var incr = Math.round(pwd.length / 2);\n      var modu = Math.pow(2, 31) - 1;\n      var salt = parseInt(str.substring(str.length - 8, str.length), 16);\n      str = str.substring(0, str.length - 8);\n      prand += salt;\n      while (prand.length > 10) {\n        prand = (parseInt(prand.substring(0, 10)) +\n          parseInt(prand.substring(10, prand.length))).toString();\n      }\n      if (this.isIE()) {\n        prand++;\n      }\n      prand = (mult * prand + incr) % modu;\n      var encChr: any = '';\n      var encStr: any = '';\n      for (var i = 0, len = str.length; i < len; i += 2) {\n        encChr = parseInt(str.substring(i, i + 2), 16) ^ Math.floor((prand / modu) * 255);\n        encStr += String.fromCharCode(encChr);\n        prand = (mult * prand + incr) % modu;\n      }\n      return decodeURIComponent(encStr);\n    } catch (error) {\n      return \"\";\n    }\n  }\n\n  static validateAuth(encryptCode: string) {\n    setTimeout(() => {\n      this.doValidateAuth(encryptCode);\n    }, 0);\n  }\n  static doValidateAuth(encryptCode: string) {\n    this.encryptCode = encryptCode;\n    var enCodeStr = this.decrypt(this.encryptCode);\n    var hosts = enCodeStr.split('|')[0]; //支持多个ip同时授权，以逗号隔开\n    var deadline = enCodeStr.split('|')[1];\n    this.authtype = enCodeStr.split('|')[2];\n\n    // localhost\n    let hostname = window.location.hostname.toUpperCase();\n    if (hostname === \"LOCALHOST\") {\n      return;\n    }\n\n    var bHostPass = false;\n    var hostArry = hosts.split(',');\n    hostArry.forEach(host => {\n      if (host.toUpperCase() === hostname) {\n        bHostPass = true;\n        return;\n      }\n    });\n\n    if (!bHostPass) {\n      this.showAuthDlg(\"软件未授权，请联系软件提供商，获取授权码！\");\n      return;\n    }\n\n    //是否过期\n    if (typeof (deadline) == \"undefined\") {\n      //重定向到err页;\n      this.showAuthDlg(\"软件未授权，请联系软件提供商，获取授权码！\");\n    }\n    var oDate1 = this.getServerDate();\n    var oDate2 = new Date(deadline);\n    if (oDate1.getTime() > oDate2.getTime()) {\n      //重定向到err页;\n      this.showAuthDlg(this.authtype + \"有限期至【\" + deadline + \"】\" + \"已过期，请重新授权！@山维科技\");\n    }\n\n    if (this.authtype != \"正式版\") {\n      this.showAuthInfo(\"开发预览版，有限期至【\" + deadline + \"】\" + \"@山维科技\");\n    }\n\n  }\n\n  static isIE() { //ie?\n    if (!!window[\"ActiveXObject\"] || \"ActiveXObject\" in window) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  static getServerDate() {\n    var xhr = null;\n    if (window['XMLHttpRequest']) {\n      xhr = new window['XMLHttpRequest']();\n    } else { // ie\n      xhr = new window[\"ActiveXObject\"](\"Microsoft\")\n    }\n    xhr.open(\"GET\", \"/\", false) //false不可变\n    xhr.send(null);\n    var date = xhr.getResponseHeader(\"Date\");\n    return new Date(date);\n  }\n  //右下角显示开发版内容\n  static showAuthInfo(msg: string) {\n\n    var chObj = document.getElementById(\"copyrightinfo\");\n    if (chObj) {\n      //存在 \n      chObj.innerHTML = msg;\n    } else {\n      var node = document.createElement(\"div\");\n      node.id = \"copyrightinfo\";\n      node.style.position = \"absolute\";\n      node.style.bottom = \"0px\";\n      node.style.right = \"20px\";\n      node.style.fontSize = \"14px\";\n      node.style.zIndex = \"700\";\n      node.style.color = \"#e51c23\";\n      var textnode = document.createTextNode(msg);\n      node.appendChild(textnode);\n      document.body.appendChild(node);\n    }\n  }\n  static showAuthDlg(msg: string) {\n\n    var chObj = document.getElementById(\"copyDlginfo\");\n    if (!chObj) {\n\n      //插入遮障 \n\n      var oMask = document.createElement(\"div\");\n      oMask.id = \"mask\";\n      oMask.style.background = \"#000\";\n      oMask.style.opacity = \"0.65\";\n      oMask.style.width = \"100%\";\n      oMask.style.position = \"absolute\";\n      oMask.style.left = \"0\";\n      oMask.style.top = \"0\";\n      oMask.style.bottom = \"0\";\n      oMask.style.zIndex = \"1000\";\n\n      document.body.appendChild(oMask);\n\n\n      //插入内容显示\n      var html = '<div style=\"text-align:center; margin-top:150px;\"><p style=\"color:red\">' + msg + '</p><a href=\"#\" id=\"hideWin\">刷新</a> </div>';\n\n      var node = document.createElement(\"div\");\n      node.id = \"copyDlginfo\";\n      node.style.position = \"absolute\";\n      node.style.top = \"0\";\n      node.style.right = \"0\";\n      node.style.bottom = \"0\";\n      node.style.left = \"0\";\n      node.style.margin = \"auto\";\n      node.style.fontSize = \"14px\";\n      node.style.borderRadius = \"20px\";\n      node.style.zIndex = \"1001\";\n      node.style.width = \"500px\"\n      node.style.height = \"300px\"\n      node.style.color = \"#e51c23\";\n      node.style.background = \"#fff\";\n      // node.style.display = \"none\";\n\n      node.innerHTML = html;\n      document.body.appendChild(node);\n\n      // let nodeTop = -1000;\n      // let timer = setInterval(() => {\n      //   if (nodeTop < 0) {\n      //     nodeTop = nodeTop + 1;\n      //     node.style.top = nodeTop + \"px\";\n      //   } else {\n      //     clearInterval(timer);\n      //   }\n      // }, 1);\n\n\n      document.getElementById('hideWin').onclick = function () {\n        window.location.reload();\n      }\n    }\n  }\n\n}\n","import { Component, OnInit, ViewChild, ViewContainerRef, Input, Output, EventEmitter, AfterViewInit, ChangeDetectorRef } from '@angular/core';\nimport { ComponentContainerDirective } from '../../directives/component-container.directive';\nimport { ServiceInjector } from '../../services/service-injector';\nimport { ComponentLoaderService } from '../../services/component-loader.service';\nimport { EventEmitterService } from '../../services/event-emitter.service';\nimport { UtilsService } from '../../services/services';\n// import { ComponentRegister } from '../../decorator/decorators';\n// @ComponentRegister({\n//   selector: 'epsgis-comp-container'\n// })\n@Component({\n  selector: 'epsgis-comp-container',\n  templateUrl: './comp-container.component.html',\n  styleUrls: ['./comp-container.component.scss'],\n})\nexport class CompContainerComponent implements OnInit, AfterViewInit {\n\n  @ViewChild(ComponentContainerDirective, { read: ViewContainerRef, static: true }) container: ViewContainerRef;\n  @Input(\"config-json-file\") configJsonFile: string;\n  /**\n     * 自定义model变量\n     */\n  private _configJsonFile: string;\n  /**\n   * 返回父组件变化后的值\n   */\n  @Input()\n  get jsonFile() {\n    return this._configJsonFile;\n  }\n\n  /**\n   * 组件值产生变化后父组件改变\n   * @param value\n   */\n  set jsonFile(value) {\n    this._configJsonFile = value;\n    this.configJsonFile = value;\n    this.jsonFileChange.emit(value);\n  }\n  @Output()\n  jsonFileChange: EventEmitter<any> = new EventEmitter();\n  //增加对象配置 ruir 20200909\n  /**\n     * 自定义model变量\n     */\n  private _config: any;\n  /**\n   * 返回父组件变化后的值\n   */\n  @Input()\n  get config() {\n    return this._config;\n  }\n\n  /**\n   * 组件值产生变化后父组件改变\n   * @param value\n   */\n  set config(value) {\n    this._config = value;\n    if (typeof value === \"string\") {\n      this._configJsonFile = value;\n      this.configJsonFile = value;\n    }\n    this.configChange.emit(value);\n  }\n  @Output()\n  configChange: EventEmitter<any> = new EventEmitter();\n  /**\n   * 默认加载\n   */\n  @Input() autoLoad: boolean = true;\n  /**\n   * \n   * @param serviceInjector \n   * @param componentLoader \n   */\n  constructor(\n    public serviceInjector: ServiceInjector,\n    public cdr: ChangeDetectorRef,\n    public eventService: EventEmitterService,\n    public componentLoader: ComponentLoaderService) {\n\n    //订阅变化检测事件，当组件执行完后 add yly 20200327\n    this.eventService.rss.on(this.eventService._checkChangeDetector, (obj: any) => {\n      UtilsService.detectChanges(this.cdr);\n      // setInterval(() => { this.cdr.detectChanges(); }, 5000);\n    });\n  }\n  ngOnInit(): void {\n\n  }\n  ngAfterViewInit() {\n    this.componentLoader.setViewContainerInHome(this.container);\n    this.componentLoader.setServiceInjector(this.serviceInjector);\n    if (this.autoLoad) {\n      this._init();\n    }\n  }\n  private _init() {\n    this.serviceInjector.layoutManager.startup();\n    if (this.config) {\n      this.serviceInjector.configManager.loadConfig(this.config);\n    } else {\n      let _configJsonFile = this.serviceInjector.config.appInfo.configFile;\n      if (this.configJsonFile) {\n        _configJsonFile = this.configJsonFile;\n      }\n      this.serviceInjector.configManager.loadConfig(_configJsonFile);\n    }\n  }\n  //对外提供的函数开始\n  /**\n   * 清除已经加载的组件\n   */\n  clear() {\n    this.serviceInjector.layoutManager._destroyPreloadWidgetIcons();\n    this.serviceInjector.layoutManager._destroyOffPanelWidgets();\n    this.serviceInjector.layoutManager._destroyWidgetPlaceholders();\n    this.serviceInjector.layoutManager._destroyPreloadPanels();\n    this.serviceInjector.layoutManager._destroyPreloadGroupPanels();\n    this.serviceInjector.mapManager.destoryMap();\n  }\n  reload() {\n    this.clear();\n    this._init();\n  }\n  // 对外提供的函数结束\n}\n","<ng-template component-host> </ng-template>","import { EpsGisDirectivesModule } from '../../directives/directives.module';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { CompContainerComponent } from './comp-container.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        EpsGisDirectivesModule\n    ],\n    declarations: [\n        CompContainerComponent\n    ],\n    entryComponents: [CompContainerComponent],\n    exports: [CompContainerComponent],\n    providers: []\n})\nexport class EpsGisCompContainerModule { }","import { Component, OnInit, ChangeDetectionStrategy, OnChanges, SimpleChanges, Input, TemplateRef, Type, Output, EventEmitter, ViewChild, ViewContainerRef, Renderer2, Optional, ChangeDetectorRef } from '@angular/core';\nimport { SSModalAPI } from './modal-options';\nimport { Observable } from 'rxjs';\nimport { SsStyleObjectLike, SsButtonType, SsModalTypes, OnClickCallback, SsModalOptions, SsModalButtonOptions } from './modal-types';\nimport { SsModalRef } from './modal-ref';\nimport { ModalManagerService } from '../../services/modal-manager.service';\nimport { getConfigFromComponent } from './utils';\nimport { BasePanelComponent } from '../base-panel/base-panel.component';\n\nimport { ComponentRegister } from '../../decorator/component-register.decorator';\n@ComponentRegister({\n  uri: 'epsgis-modal',\n  path: \"epsgis/components/modal\"\n})\n@Component({\n  selector: 'epsgis-modal',\n  template: ` <ng-template><ng-content></ng-content></ng-template> `,\n  styleUrls: ['./modal.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SSModalComponent<T = any, R = any> extends BasePanelComponent implements OnChanges, SSModalAPI<T, R> {\n\n  @Input() mask: boolean = true;\n  @Input() maskClosable: boolean = true;\n  @Input() visible: boolean = false;\n  @Input() closable: boolean = true;\n  @Input() okLoading: boolean = false;\n  @Input() okDisabled: boolean = false;\n  @Input() cancelDisabled: boolean = false;\n  @Input() cancelLoading: boolean = false;\n  @Input() keyboard: boolean = true;\n  @Input() noAnimation = false;\n  @Input() content?: string | TemplateRef<{}> | Type<T>;\n  @Input() componentParams?: T;\n  @Input() footer?: string | TemplateRef<{}> | Array<SsModalButtonOptions<T>> | null;\n  @Input() getContainer?: HTMLElement;\n  @Input() zIndex: number = 1000;\n  @Input() width: number | string = 520;\n  @Input() wrapClassName?: string;\n  @Input() className?: string;\n  @Input() styles?: object;\n  @Input() title: string;//| TemplateRef<{}>;\n  @Input() closeIcon: string | TemplateRef<void> = 'close';\n  @Input() maskStyle?: SsStyleObjectLike;\n  @Input() bodyStyle?: SsStyleObjectLike;\n  @Input() okText?: string | null;\n  @Input() cancelText?: string | null;\n  @Input() okType: SsButtonType = 'primary';\n  @Input() iconType: string = 'question-circle'; // Confirm Modal ONLY\n  @Input() modalType: SsModalTypes = 'default';\n\n  @Input()\n  @Output()\n  readonly onOk: EventEmitter<T> | OnClickCallback<T> = new EventEmitter<T>();\n  @Input()\n  @Output()\n  readonly onCancel: EventEmitter<T> | OnClickCallback<T> = new EventEmitter<T>();\n\n  @Output() readonly afterOpen = new EventEmitter<void>();\n  @Output() readonly afterClose = new EventEmitter<R>();\n  @Output() readonly visibleChange = new EventEmitter<boolean>();\n\n  @ViewChild(TemplateRef, { static: true }) contentTemplateRef!: TemplateRef<{}>;\n\n  modalRef: SsModalRef | null = null;\n\n  get afterOpenObservable(): Observable<void> {\n    return this.afterOpen.asObservable();\n  }\n\n  get afterCloseObservable(): Observable<R> {\n    return this.afterClose.asObservable();\n  }\n  // set modalFooter(value: NzModalFooterDirective) {\n  //   if (value && value.templateRef) {\n  //     this.setFooterWithTemplate(value.templateRef);\n  //   }\n  // }\n  constructor(\n    private modalService: ModalManagerService,\n    private viewContainerRef: ViewContainerRef,\n    @Optional() public _render: Renderer2\n    , @Optional() public cdr: ChangeDetectorRef) {\n    super(_render, cdr)\n  }\n  ngOnInit() {\n\n  }\n\n\n  onCloseClick(): void {\n  }\n\n  onOkClick(): void {\n  }\n  private getConfig(): SsModalOptions {\n    const componentConfig = getConfigFromComponent(this);\n    componentConfig.viewContainerRef = this.viewContainerRef;\n    if (!this.content) {\n      componentConfig.content = this.contentTemplateRef;\n    }\n    return componentConfig;\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    const { Visible, ...otherChanges } = changes;\n\n    if (Object.keys(otherChanges).length && this.modalRef) {\n      this.modalRef.updateConfig(getConfigFromComponent(this));\n    }\n\n    if (Visible) {\n      if (this.visible) {\n        this.open();\n      } else {\n        this.close();\n      }\n    }\n  }\n\n\n  open(): void {\n    if (!this.visible) {\n      this.visible = true;\n      this.visibleChange.emit(true);\n    }\n\n    if (!this.modalRef) {\n      const config = this.getConfig();\n      this.modalRef = this.modalService.create(config);\n    }\n  }\n  close(result?: R): void {\n    if (this.visible) {\n      this.visible = false;\n      this.visibleChange.emit(false);\n    }\n\n    if (this.modalRef) {\n      this.modalRef.close(result);\n      this.modalRef = null;\n    }\n  }\n  destroy(result?: R): void {\n    this.close(result);\n  }\n  triggerOk(): void {\n    this.modalRef != null ? this.modalRef.triggerOk() : null;\n  }\n  triggerCancel(): void {\n    this.modalRef != null ? this.modalRef.triggerCancel() : null;\n  }\n  getContentComponent(): void | T {\n    return this.modalRef != null ? this.modalRef.getContentComponent() : null;\n  }\n  getElement(): void | HTMLElement {\n    return this.modalRef != null ? this.modalRef.getElement() : null;\n  }\n\n  getModalRef(): SsModalRef | null {\n    return this.modalRef;\n  }\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnDestroy, Output } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { SsModalRef, isPromise } from './modal-ref';\nimport { SsModalButtonOptions, SsModalOptions } from './modal-types';\n\n@Component({\n  selector: 'div[ss-modal-footer]',\n  template: `\n    <ng-container *ngIf=\"config.footer; else defaultFooterButtons\">\n      <ng-container>\n        <div *ngIf=\"!buttonsFooter\" [innerHTML]=\"config.title\"></div>\n        <ng-container *ngIf=\"buttonsFooter\">\n          <button\n            *ngFor=\"let button of buttons\"\n            nz-button\n            (click)=\"onButtonClick(button)\"\n            [hidden]=\"!getButtonCallableProp(button, 'show')\"\n            [class]=\"getButtonClass(button)\"\n          >\n            {{ button.label }}\n          </button>\n        </ng-container>\n      </ng-container>\n    </ng-container>\n    <ng-template #defaultFooterButtons>\n      <button\n        *ngIf=\"config.cancelText !== null\"\n        [attr.cdkFocusInitial]=\"config.autofocus === 'cancel'\"\n        nz-button\n        (click)=\"onCancel()\"\n        [disabled]=\"config.cancelDisabled\"\n        class=\"ss-btn ss-btn-default\"\n      >\n        {{ config.cancelText || locale.cancelText }}\n      </button>\n      <button\n        *ngIf=\"config.okText !== null\"\n        [attr.cdkFocusInitial]=\"config.autofocus === 'ok'\"\n        nz-button\n        class=\"ss-btn ss-btn-primary \"\n        (click)=\"onOk()\"\n        [disabled]=\"config.okDisabled\"\n      >\n        {{ config.okText || locale.okText }}\n      </button>\n    </ng-template>\n  `,\n  host: {\n    class: ''\n  },\n  changeDetection: ChangeDetectionStrategy.Default\n})\nexport class SsModalFooterComponent implements OnDestroy {\n  buttonsFooter = false;\n  buttons: SsModalButtonOptions[] = [];\n  locale: { okText?: string; cancelText?: string } = { okText: \"确定\", cancelText: \"取消\" };\n  @Output() readonly cancelTriggered = new EventEmitter<void>();\n  @Output() readonly okTriggered = new EventEmitter<void>();\n  @Input() modalRef!: SsModalRef;\n  private destroy$ = new Subject<void>();\n\n  constructor(public config: SsModalOptions) {\n    if (Array.isArray(config.footer)) {\n      this.buttonsFooter = true;\n      this.buttons = (config.footer as SsModalButtonOptions[]).map(mergeDefaultOption);\n    }\n  }\n  getButtonClass(button: SsModalButtonOptions) {\n    switch (button.type) {\n      case \"primary\":\n        return \"ss-btn ss-btn-primary\";\n      case \"dashed\":\n        return \"ss-btn ss-btn-dashed\";\n      case \"danger\":\n        return \"ss-btn ss-btn-danger\";\n      case \"link\":\n        return \"ss-btn ss-btn-link\";\n    }\n    return \"ss-btn ss-btn-default\";\n  }\n\n  onCancel(): void {\n    this.cancelTriggered.emit();\n  }\n\n  onOk(): void {\n    this.okTriggered.emit();\n  }\n\n  getButtonCallableProp(options: SsModalButtonOptions, prop: keyof SsModalButtonOptions): boolean {\n    const value = options[prop];\n    if (this.modalRef) {\n      const componentInstance = this.modalRef.getContentComponent();\n      return typeof value === 'function' ? value.apply(options, componentInstance && [componentInstance]) : value;\n    }\n    return false;\n  }\n\n\n  onButtonClick(options: SsModalButtonOptions): void {\n    const loading = this.getButtonCallableProp(options, 'loading');\n    if (!loading) {\n      const result = this.getButtonCallableProp(options, 'onClick');\n      if (options.autoLoading && isPromise(result)) {\n        options.loading = true;\n        result.then(() => (options.loading = false)).catch(() => (options.loading = false));\n      }\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n\nfunction mergeDefaultOption(options: SsModalButtonOptions): SsModalButtonOptions {\n  return {\n    type: null,\n    size: 'default',\n    autoLoading: true,\n    show: true,\n    loading: false,\n    disabled: false,\n    ...options\n  };\n}\n","import { OnInit, ViewContainerRef, ViewChild, ChangeDetectorRef, Directive } from '@angular/core';\nimport { BaseWidgetComponent } from '../base-widget/base-widget.component';\nimport { ComponentLoaderService } from '../../services/component-loader.service';\nimport { ComponentContainerDirective } from '../../directives/component-container.directive';\nimport { WidgetState } from '../../models/base-widget';\n/**\n * \n */\n@Directive()\nexport class BaseMapComponent extends BaseWidgetComponent implements OnInit {\n  @ViewChild(ComponentContainerDirective, { read: ViewContainerRef, static: true }) container: ViewContainerRef;\n  //@ViewChild('mapinnercontainer', { read: ViewContainerRef, static: true }) container: ViewContainerRef;\n  private _is3d: boolean = false;\n  /**\n   * 是否3D\n   */\n  get is3D() {\n    return this._is3d;\n  }\n  /**\n   * \n   */\n  set is3D(val: boolean) {\n    this._is3d = val;\n    this.globalParams.mapConfig.is3D = val;//设置全局 用于其他地方取值\n  }\n\n  constructor(\n    public componentLoader: ComponentLoaderService\n  ) {\n    super();\n  }\n  ngOnInit() {\n    this.componentLoader.setViewContainerInMap(this.container);\n    super.ngOnInit();\n  }\n  /**\n   * \n   * @param options \n   */\n  setProps(options: { appConfig: any, config: any, manifest: any }) {\n    this.appConfig = options.appConfig;\n    //默认读取总的config.json的map.jsApi\n    if (!this.appConfig.map.jsApi) {\n      //如果没有，则读取当前组件的配置mapJsApi\n      if(this.globalParams.mapConfig.jsApi){\n        this.appConfig.map.jsApi = this.globalParams.mapConfig.jsApi;\n      }else{\n        this.appConfig.map.jsApi = this.config.mapJsApi;\n      }\n    }\n    this.widgetConfig = this.appConfig.map;\n    this.config = options.config;\n    this.widgetConfig.manifest = options.manifest;\n    this.started=true;\n    this.state=WidgetState.opened;\n    this.name=options.manifest?.name;\n    this.inPanel=options.manifest?.properties?.inPanel;\n    this.label=\"地图\";\n    this.uri=this.getCompInfo().uri;\n    this.folderUrl=this.globalParams.widgetRootPath+\"/\"+this.getCompInfo().path+\"/\";\n    this.widgetConfig.folderUrl=this.folderUrl;\n    super.setPosition(this.appConfig.map.position);\n  }\n  /**\n   * 初始化地图\n   */\n  async initMap(): Promise<any> {\n    return Promise.resolve(null);\n  }\n}\n","\nimport { Directive, Optional, TemplateRef } from '@angular/core';\nimport { SsModalRef } from './modal-ref';\n\n@Directive({\n  selector: '[SsModalFooter]',\n  exportAs: 'SsModalFooter'\n})\nexport class SsModalFooterDirective {\n  constructor(@Optional() private ssModalRef: SsModalRef, public templateRef: TemplateRef<{}>) {\n    if (this.ssModalRef) {\n      this.ssModalRef.updateConfig({\n        footer: this.templateRef\n      });\n    }\n  }\n}\n","\nimport { Observable } from 'rxjs';\n\nexport abstract class SSModalAPI<T, R> {\n  abstract afterOpen: Observable<void>;\n  abstract afterClose: Observable<R>;\n\n  abstract open(): void;\n  abstract close(result?: R): void;\n  abstract destroy(result?: R): void;\n\n  /**\n   * 手动触发nzOnOk / nzOnCancel\n   */\n  abstract triggerOk(): void;\n  abstract triggerCancel(): void;\n  /**\n   * 当指定nzContent作为组件时，返回nzContent的组件实例\n   */\n  abstract getContentComponent(): T | void;\n\n  /**\n   * 获取此Modal的dom元素\n   */\n  abstract getElement(): HTMLElement | void;\n}\n","<div class=\"pdfViewerContainer\" #pdfViewerContainer>\n\t<iframe *ngIf=\"pdfUrl\" [src]=\"pdfUrl\" frameborder=\"0\" [style.height]=\"pdfViewHeight\"></iframe>\n</div>\n","import {Component, OnInit, Input, Output, EventEmitter, ViewChild, AfterViewInit} from '@angular/core';\nimport {DomSanitizer, SafeResourceUrl} from \"@angular/platform-browser\";\nimport { ComponentRegister } from '../../../../decorator/component-register.decorator';\n@ComponentRegister({\n  uri: \"pdf-viewer\",\n  path: \"components/shared/ngxviewer/pdf-viewer\"\n})\n@Component({\n  selector: \"pdf-viewer\",\n  templateUrl: \"./pdf-viewer.component.html\",\n  styleUrls: [\"./pdf-viewer.component.scss\"],\n})\nexport class PDFViewerComponent implements OnInit, AfterViewInit {\n  @ViewChild(\"pdfViewerContainer\") pdfViewerContainer: any;\n\n  @Input() width: number = 0;\n  @Input() height: number = 0;\n  @Input() viewerUrl: string;\n  @Input() source: string;\n  @Output() ready: EventEmitter<any> = new EventEmitter<any>(false);\n\n  pdfUrl: SafeResourceUrl;\n  pdfViewHeight: string = \"600px\";\n\n  constructor(public domSanitizer: DomSanitizer) {}\n\n  ngAfterViewInit(): void {\n    setTimeout(() => {\n      this.resetViewHeight();\n    }, 1000);\n  }\n\n  ngOnInit() {\n    this.pdfUrl = this.domSanitizer.bypassSecurityTrustResourceUrl(\n      this.viewerUrl + \"?file=\" + this.source\n    );\n    this.ready.emit(\"pdf viewer initialize!\");\n  }\n\n  resetViewHeight() {\n    let height = this.getMainWindowHeight();\n    if (height > 0) {\n      this.pdfViewHeight = height - 5 + \"px\";\n    } else {\n      this.pdfViewHeight = \"600px\";\n    }\n  }\n\n  /**窗体高度 */\n  getMainWindowHeight(): number {\n    let parentNode = this.pdfViewerContainer.nativeElement.parentNode;\n    while (parentNode) {\n      if (parentNode.className &&\n        (parentNode.className === \"ssmodal_content\" ||\n          parentNode.className === \"sspanel_content\")\n      ) {\n        break;\n      }\n      parentNode = parentNode.parentNode;\n    }\n    if (parentNode) {\n      return parentNode.clientHeight - 30;\n    } else {\n      parentNode = this.pdfViewerContainer.nativeElement.parentNode;\n      let contentNode = null;\n      while (parentNode) {\n        if (parentNode.childNodes && parentNode.childNodes.length > 0) {\n          for (const child of parentNode.childNodes) {\n            if (child.nodeName.toLocaleUpperCase() === \"NZ-CONTENT\") {\n              contentNode = child;\n              break;\n            }\n          }\n        }\n        if (contentNode) {\n          break;\n        }\n        parentNode = parentNode.parentNode;\n      }\n      if (contentNode) {\n        return contentNode.clientHeight;\n      }\n    }\n    return this.height;\n  }\n}\n","<div class=\"imageViewerContainer\" #imageViewerContainer>\n\t<div class=\"imageViewer\"\n\t\t (dragstart)=\"cancleCurrentImageDrag($event)\"\n\t\t (mousedown)=\"currentImageDragStart($event)\"\n\t\t (mousemove)=\"currentImageDrag($event)\"\n\t\t (mouseup)=\"currentImageDragEnd($event)\"\n\t\t [style.width]=\"imageViewerContainer.style.width\"\n\t\t [style.height]=\"imageViewHeight\" #imageViewer>\n\n\t\t<img [src]=\"currentImageUrl\"\n\t\t\t (load)=\"currentImageLoaded(showImg, imageViewer)\" #showImg>\n\n\t\t<div class=\"previousImg\" (click)=\"preOrNextImg('pre')\">\n\t\t\t<span class=\"fa fa-chevron-circle-left\" aria-hidden=\"true\" title=\"上一张\">\n\t\t\t\t<svg t=\"1588945968636\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"18261\" width=\"60\" height=\"60\"><path d=\"M564.3264 737.0752l41.5744-41.5744-184.4224-184.1152 184.4224-184.1152-41.5744-41.5744L338.944 511.3856z\" p-id=\"18262\"></path><path d=\"M511.7952 101.5808c-226.304 0-409.8048 183.5008-409.8048 409.8048s183.5008 409.8048 409.8048 409.8048S921.6 737.792 921.6 511.3856 738.0992 101.5808 511.7952 101.5808z m0 58.5728c194.048 0 351.3344 157.2864 351.3344 351.3344s-157.3888 351.232-351.3344 351.232c-194.048 0-351.3344-157.2864-351.3344-351.3344 0-93.184 36.9664-182.4768 102.912-248.4224s155.2384-102.8096 248.4224-102.8096z\" p-id=\"18263\"></path></svg>\n\t\t\t</span>\n\t\t</div>\n\t\t<div class=\"nextImg\" (click)=\"preOrNextImg('next')\">\n\t\t\t<span class=\"fa fa-chevron-circle-right\" aria-hidden=\"true\" title=\"下一张\">\n\t\t\t\t<svg t=\"1588946002551\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"18478\" width=\"60\" height=\"60\"><path d=\"M459.3664 737.0752L417.792 695.5008l184.4224-184.1152L417.792 327.2704l41.5744-41.5744 225.3824 225.6896z\" p-id=\"18479\"></path><path d=\"M511.7952 101.5808c-226.304 0-409.8048 183.5008-409.8048 409.8048s183.5008 409.8048 409.8048 409.8048S921.6 737.792 921.6 511.3856 738.0992 101.5808 511.7952 101.5808z m0 58.5728c194.048 0 351.3344 157.2864 351.3344 351.3344s-157.3888 351.232-351.3344 351.232c-194.048 0-351.3344-157.2864-351.3344-351.3344 0-93.184 36.9664-182.4768 102.912-248.4224s155.2384-102.8096 248.4224-102.8096z\" p-id=\"18480\"></path></svg>\n\t\t\t</span>\n\t\t</div>\n\t</div>\n\t<div *ngIf=\"imageSources.length>1;\" class=\"smallImageViewer\">\n\t\t<div class=\"toImg previousImgs\" title=\"向左查看\" (click)=\"previousImg(moreImg, imageViewer)\">\n\t\t\t<svg t=\"1588946161601\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"4499\" width=\"16\" height=\"16\"><path d=\"M854.656 182.656a32 32 0 1 0-45.312-45.312l-352 352a32 32 0 0 0 0 45.312l352 352a32 32 0 0 0 45.312-45.312L525.248 512l329.408-329.344z m-320 0a32 32 0 1 0-45.312-45.312l-352 352a32 32 0 0 0 0 45.312l352 352a32 32 0 0 0 45.312-45.312L205.248 512l329.408-329.344z\" fill=\"#ffffff\" p-id=\"4500\"></path></svg>\t</div>\n\t\t<div class=\"toImg nextImgs\" title=\"向右查看\" (click)=\"nextImg(moreImg, imageViewer)\">\n\t\t\t<svg t=\"1588946137834\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"4373\" width=\"16\" height=\"16\"><path d=\"M556.8 535.893L170.667 149.76c-13.227-13.227-13.227-34.987 0-48.213 13.226-13.227 34.986-13.227 48.213 0L605.013 487.68c13.227 13.227 13.227 34.987 0 48.213-13.226 13.227-34.986 13.227-48.213 0z\" fill=\"#ffffff\" p-id=\"4374\"></path><path d=\"M170.667 873.813L556.8 487.68c13.227-13.227 34.987-13.227 48.213 0 13.227 13.227 13.227 34.987 0 48.213L218.88 922.027c-13.227 13.226-34.987 13.226-48.213 0a33.493 33.493 0 0 1 0-48.214zM825.173 536.32L439.04 150.187c-13.227-13.227-13.227-34.987 0-48.214 13.227-13.226 34.987-13.226 48.213 0l386.134 386.134c13.226 13.226 13.226 34.986 0 48.213a33.493 33.493 0 0 1-48.214 0z\" fill=\"#ffffff\" p-id=\"4375\"></path><path d=\"M439.04 874.24l386.133-386.133c13.227-13.227 34.987-13.227 48.214 0 13.226 13.226 13.226 34.986 0 48.213L487.253 922.453c-13.226 13.227-34.986 13.227-48.213 0-13.227-13.226-13.227-34.56 0-48.213z\" fill=\"#ffffff\" p-id=\"4376\"></path></svg>\t</div>\n\t\t<div class=\"moreImg\" #moreImg [style.left]=\"moreImgInitLeft + 'px'\">\n\t\t\t<img *ngFor=\"let imgUrl of imageSources; let i = index;\" [src]=\"imgUrl\" (click)=\"changeCurrentImageUrl(imgUrl,i)\">\n\t\t</div>\n\t</div>\n\t<div class=\"imageTools\">\n\t\t<button class=\"toolsBtn imageZoomin\" title=\"放大\" (click)=\"imageZoomin()\">\n\t\t\t<svg t=\"1588941022678\" class=\"icon\" viewBox=\"0 0 1027 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"8990\" width=\"20\" height=\"20\"><path d=\"M722.489 642.844c45.511-62.577 73.955-136.533 73.955-216.177 0-204.8-164.977-369.778-369.777-369.778S56.889 221.867 56.889 426.667s164.978 369.777 369.778 369.777c79.644 0 153.6-28.444 216.177-68.266l221.867 221.866c22.756 22.756 56.889 22.756 79.645 0 22.755-22.755 22.755-56.888 0-79.644L722.489 642.844z m-295.822 96.712c-170.667 0-312.89-142.223-312.89-312.89S256 113.779 426.668 113.779 739.556 256 739.556 426.667s-142.223 312.889-312.89 312.889\" p-id=\"8991\"></path><path d=\"M227.556 398.222h398.222v56.89H227.556z\" p-id=\"8992\"></path><path d=\"M398.222 227.556h56.89v398.222h-56.89z\" p-id=\"8993\"></path></svg>\t\t\n\t\t</button>\n\t\t<button class=\"toolsBtn imageZoomout\" title=\"缩小\" (click)=\"imageZoomout()\">\n\t\t\t<svg t=\"1588941306698\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"9115\" width=\"20\" height=\"20\"><path d=\"M446.258717 823.960011c-51.124378 0-100.745519-10.005888-147.456377-29.814026-45.097104-19.050891-85.673242-46.388517-120.438023-81.153298-34.762735-34.764781-62.102407-75.340919-81.153298-120.438023-19.803022-46.709835-29.814026-96.324836-29.814026-147.449213s10.011005-100.745519 29.814026-147.456377c19.050891-45.097104 46.38954-85.673242 81.153298-120.438023 34.764781-34.762735 75.340919-62.102407 120.438023-81.153298 46.709835-19.803022 96.331999-29.814026 147.456377-29.814026 51.124378 0 100.739379 10.011005 147.449213 29.814026 45.097104 19.050891 85.673242 46.38954 120.438023 81.153298 34.764781 34.764781 62.102407 75.340919 81.153298 120.438023 19.808138 46.709835 29.813003 96.331999 29.813003 147.456377s-10.005888 100.739379-29.813003 147.449213c-19.050891 45.097104-46.388517 85.673242-81.153298 120.438023-34.764781 34.764781-75.340919 62.102407-120.438023 81.153298-46.604434 19.808138-96.220459 29.814026-147.449213 29.814026z m0-688.833451c-170.920788 0-309.97889 139.058103-309.978891 309.978891 0 170.915671 139.058103 309.971727 309.978891 309.971727 170.915671 0 309.971727-139.057079 309.971727-309.971727 0-170.920788-138.951679-309.97889-309.971727-309.978891z m0 0\" p-id=\"9116\"></path><path d=\"M924.025031 957.314205c-8.823969 0-17.646915-3.337002-24.321942-10.115382L680.137395 727.635175c-13.453407-13.453407-13.453407-35.307134 0-48.76054 13.453407-13.453407 35.300994-13.453407 48.755424 0l219.563648 219.565694c13.453407 13.453407 13.453407 35.305087 0 48.759518-6.779404 6.77838-15.603373 10.114358-24.431436 10.114358z m0 0\" p-id=\"9117\"></path><path d=\"M602.106204 488.047472H290.730501c-16.679891 0-30.133298-13.453407-30.133298-30.135344 0-16.685008 13.453407-30.139437 30.133298-30.139438h311.265186c16.687054 0 30.140461 13.453407 30.140461 30.139438 0 16.681938-13.45443 30.135344-30.029944 30.135344z m0 0\" p-id=\"9118\"></path></svg>\n\t\t</button>\n\t\t<button class=\"toolsBtn rotateLeft\" title=\"向左旋转\" (click)=\"rotateLeft()\">\n\t\t\t<svg t=\"1588941359139\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"9333\" width=\"20\" height=\"20\"><path d=\"M296.78775165 822.42764344a29.24918237 29.24918237 0 0 0 11.88822868 9.74972721 366.76451243 366.76451243 0 0 0 423.03239697-29.18019793c162.18119742-127.48228586 196.37422746-360.55595902 75.100495-518.98903088S456.301571 100.94781045 292.07385008 230.29266234a90.07000608 90.07000608 0 0 0-13.17592873 10.96844358c-12.57806845-15.8433068-23.52351697-30.99677536-33.82511584-43.8047899-12.8769982-16.97004443-22.07485451-30.2149576-25.70800781-33.96308395a18.16576575 18.16576575 0 0 0-14.57860182-10.00266835 19.33849276 19.33849276 0 0 0-21.70694032 16.39517847l0.3679142 1.14973193-1.33368944 20.67218142-19.49945517 135.66837756-3.1502653 18.78662109-2.71336744 16.09624873a19.82137999 19.82137999 0 0 0 3.05828656 14.14170319 16.09624795 16.09624795 0 0 0 12.44010034 7.08234912l15.86630188 2.02352844 18.62565868 2.32245896 134.08174776 13.79678406 19.75239556 1.9085554 1.14973193-0.3679142a21.08608498 21.08608498 0 0 0 21.3850155-17.63688915 18.39571183 18.39571183 0 0 0-6.43849871-16.71710329c-2.52941073-4.1620299-12.83100961-16.97004443-25.68501352-33.94008965-8.82994211-12.09518046-19.49945518-26.00693834-30.19196253-39.96468481 3.90908875-3.90908875 9.26683997-6.99037039 13.19892302-10.92245345 132.33415478-104.39566674 320.33833383-85.49407262 418.52544794 43.22992316a306.51855469 306.51855469 0 0 1-61.25772156 422.98640759 298.07952184 298.07952184 0 0 1-349.05863961 20.94811763 33.94008889 33.94008889 0 0 0-38.49302728 3.35721709 33.71014281 33.71014281 0 0 0-6.94438178 47.92083044z\" fill=\"#333333\" p-id=\"9334\"></path></svg>\n\t\t</button>\n\t\t<button class=\"toolsBtn rotateRight\" title=\"向右旋转\" (click)=\"rotateRight()\">\n\t\t\t<svg t=\"1588941386678\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"9485\" width=\"20\" height=\"20\"><path d=\"M727.29746405 822.42764344a29.24918237 29.24918237 0 0 1-11.91122374 9.74972721 366.76451243 366.76451243 0 0 1-422.98640759-29.20319301C130.2416296 675.49189255 96.00261019 442.44121292 217.27634341 284.03113615s350.57628573-183.12931506 514.84999526-53.80745826a90.07000608 90.07000608 0 0 1 13.15293443 10.96844359c12.57806845-15.8203125 23.52351697-30.97378029 33.84811014-43.78179482 12.83100961-16.97004443 22.02886514-30.2149576 25.70800782-33.96308396a18.16576575 18.16576575 0 0 1 14.55560752-10.04865772 19.33849276 19.33849276 0 0 1 21.70694031 16.39517846l-0.34491988 1.14973194 1.33368941 20.69517649 19.36148706 135.76035631 3.17326038 18.7866211 2.71336744 16.09624793a19.82137999 19.82137999 0 0 1-3.05828733 14.14170397 16.09624795 16.09624795 0 0 1-12.44010035 7.05935405l-15.88929616 2.0465235-18.57966932 2.29946389-134.10474207 13.79678407-19.75239632 1.9315497-1.14973194-0.3909085a21.08608498 21.08608498 0 0 1-21.38501549-17.61389485 18.39571183 18.39571183 0 0 1 6.43849949-16.7171033c2.50641566-4.1850242 12.83100961-16.97004443 25.68501351-33.94008887 8.82994211-12.11817552 19.49945518-26.02993264 30.19196255-39.96468481-3.90908875-3.90908875-9.26683997-7.01336545-13.19892381-10.94544852-132.33415478-104.39566674-320.33833383-85.49407262-418.52544717 43.22992316A306.51855469 306.51855469 0 0 0 332.87039983 750.45441943a298.07952184 298.07952184 0 0 0 348.98965516 20.74116586 33.94008889 33.94008889 0 0 1 38.51602234 3.38021216 33.71014281 33.71014281 0 0 1 6.9443818 47.92082966z\" fill=\"#333333\" p-id=\"9486\"></path></svg>\n\t\t</button>\n\t\t<button class=\"toolsBtn flipVertical\" title=\"垂直翻转\" (click)=\"flipVertical()\">\n\t\t\t<svg t=\"1588941411559\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"9669\" width=\"20\" height=\"20\"><path d=\"M494.03 74.72l-109.59 144.09c-12.48 16.41-5.82 29.97 14.79000001 30.09L482 249.47 482 774.53l-82.77 0.54c-20.64 0.15-27.27 13.68-14.79 30.09l109.59 144.09c12.48 16.41 32.43 16.05 44.31000001-0.81l101.81999999-144.51c11.88-16.86 4.74-30.54-15.9-30.39L542.00000001 774.14l-1e-8-524.25 82.23 0.54c20.64 0.15 27.78-13.53 15.9-30.39l-101.82-144.51c-11.88-16.86-31.8-17.25-44.28-0.81z\" p-id=\"9670\"></path></svg>\n\t\t</button>\n\t\t<button class=\"toolsBtn flipHorizontal\" title=\"水平翻转\" (click)=\"flipHorizontal()\">\n\t\t\t<svg t=\"1588941431636\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"9885\" width=\"20\" height=\"20\"><path d=\"M978.432 492.832l-153.696-116.896c-17.504-13.312-31.968-6.208-32.096 15.776L792.032 480H231.968l-0.608-88.288c-0.16-22.016-14.592-29.088-32.096-15.776l-153.696 116.896c-17.504 13.312-17.12 34.592 0.864 47.264l154.144 108.608c17.984 12.672 32.576 5.056 32.416-16.96L232.384 544h559.2l-0.576 87.712c-0.16 22.016 14.432 29.632 32.416 16.96l154.144-108.608c17.984-12.672 18.4-33.92 0.864-47.232z\" p-id=\"9886\"></path></svg>\n\t\t</button>\n\t\t<button class=\"toolsBtn imageReset\" title=\"重置\" (click)=\"currentImgReset()\">\n\t\t\t<svg t=\"1588941445066\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"10072\" width=\"20\" height=\"20\"><path d=\"M666.1 731.4c-48.6 35-105.6 52.5-163.8 51.8-7.7-0.1-15.3-0.7-22.9-1.3-3.1-0.3-6.1-0.8-9.2-1.3-6-0.8-11.9-1.5-17.7-2.8-3.6-0.6-7.2-1.7-10.6-2.5-5.7-1.3-11.4-2.6-16.9-4.3-2.6-1-5.1-1.9-7.8-3-6.5-2.1-12.9-4.4-19-7-1.4-0.6-2.8-1.2-4.1-1.7-7.2-3.4-14.4-6.9-21.3-10.6-0.3-0.2-0.6-0.3-0.9-0.5-23.5-13.3-44.9-29.6-63.7-49-0.3-0.3-0.6-0.7-0.9-1-5.8-6-11.4-12.2-16.7-18.9-1.1-1.4-2.1-2.7-3.3-4.3-38.2-49.1-61.2-111.3-61.2-178.8h73.6L182 314.7 64.2 496.1h73.5c0 79.4 24.2 153.1 65.2 214.2 0.5 0.9 0.8 1.9 1.4 2.6 4.2 6.3 9 12 13.5 17.8 1.8 2.1 3.3 4.3 5.1 6.7 6.6 8.2 13.9 16.1 21.1 23.8 0.8 0.8 1.4 1.4 2 2.1 24.7 25.4 52.4 46.6 82.7 63.8 0.8 0.5 1.5 0.8 2.4 1.4 8.7 4.8 17.7 9.3 26.7 13.3 2.3 1 4.5 2.1 6.7 3 7.8 3.4 15.8 6.2 23.8 9.1 3.8 1.4 7.5 2.6 11.4 3.9 7 2.1 14.2 3.9 21.5 5.6 4.8 1.2 9.5 2.4 14.4 3.4 2 0.5 3.9 1.2 5.9 1.4 6.9 1.3 13.7 1.9 20.5 2.8 2.5 0.5 5 0.9 7.4 1.2 12.3 1.2 24.5 2 36.8 2 74.7 0 147.7-23.5 210.3-68.5 19.9-14.4 24.8-42.7 10.9-63.1-13.9-20.8-41.3-25.7-61.3-11.2z m219.5-206.6c0-79.3-23.9-152.9-64.7-213.6-0.6-1-1-2.1-1.5-3-5.3-7.5-10.7-14.4-16.2-21.5-0.6-0.8-1.3-1.7-1.8-2.6-37.5-46.4-84.4-82.4-137.4-106-1.6-0.6-2.9-1.4-4.5-2-8.5-3.6-17.2-6.7-26-9.8-3-1-6.2-2.2-9.3-3.2-7.7-2.4-15.3-4.3-23.1-6.2-4.3-1-8.7-2.1-13-3-2.1-0.4-4.1-1-6.3-1.5-5.8-1-11.5-1.5-17.4-2.3-4.1-0.5-8-1.1-12-1.5-9.8-1-19.5-1.4-29.2-1.5-1.8 0-3.5-0.3-5.3-0.3-0.3 0-0.6 0.1-0.9 0.1-74.6 0.1-147.5 23.2-210 68.3-19.9 14.3-24.8 42.6-10.8 63.2 13.9 20.4 41.5 25.5 61.5 11 48.2-34.7 104.6-52.3 162.3-51.8 8.3 0.1 16.6 0.5 24.6 1.3 2.5 0.2 4.9 0.6 7.4 1 6.6 0.8 13.2 1.7 19.8 3.2 2.8 0.5 5.7 1.3 8.4 1.9 6.5 1.5 12.7 3 18.9 5 2.1 0.6 4 1.3 5.8 2.1 7.2 2.4 14.2 4.9 21 7.9 0.8 0.2 1.4 0.8 2.1 1 41.2 18.2 77.3 46.1 105.5 81.2 0.1 0.1 0.2 0.4 0.4 0.6 39.6 49.6 63.5 113 63.5 182h-73.7l117.9 181.5 117.6-181.5h-73.6z\" p-id=\"10073\"></path></svg>\n\t\t</button>\n\t</div>\n</div>\n","import { Component, OnInit, Input, Output, EventEmitter, ViewChild } from '@angular/core';\nimport { DomSanitizer, SafeResourceUrl } from \"@angular/platform-browser\";\nimport { EventEmitterService } from '../../../../services/event-emitter.service';\n\nimport { ComponentRegister } from '../../../../decorator/component-register.decorator';\n@ComponentRegister({\n  uri: \"image-viewer\",\n  path: \"components/shared/ngxviewer/image-viewer\"\n})\n@Component({\n  selector: \"image-viewer\",\n  templateUrl: \"./image-viewer.component.html\",\n  styleUrls: [\"./image-viewer.component.scss\"],\n})\nexport class ImageViewerComponent implements OnInit {\n  @ViewChild(\"imageViewerContainer\")\n  imageViewerContainer: any;\n  @ViewChild(\"showImg\") showImg: any;\n\n  @Input() width: number = 0;\n  @Input() height: number = 0;\n  @Input() source: string[];\n  @Input() first: number = 0;\n  @Output() ready: EventEmitter<any> = new EventEmitter<any>(false);\n\n  private currentImage: HTMLImageElement;\n  imageSources: SafeResourceUrl[] = [];\n  currentImageUrl: SafeResourceUrl; // 当前主图路径\n  private radian: number = 0; // 旋转变换参数\n  private x: number = 1; // 水平变换参数\n  private y: number = 1; // 垂直变换参数\n  private zoom: number = 0.1; // 缩放比率\n  private initTop: number; // 图片初始css的top值\n  private initLeft: number; // 图片初始css的left值\n  moreImgInitLeft: number = 0; // 图片列表容器初始css的left值\n  private currentImageTempTop: number = 0;\n  private currentImageTempLeft: number = 0;\n  private dragStartClientX: number = 0;\n  private dragStartClientY: number = 0;\n  private isStartMove: boolean = false;\n  imageViewHeight: string = \"400px\";\n  mainWindowHeight: number = 0;\n\n  constructor(\n    public domSanitizer: DomSanitizer,\n    private eventService: EventEmitterService\n  ) {}\n\n  ngOnInit() {\n    this.convertUrl(this.source);\n  }\n  private convertUrl(sources: string[]) {\n    this.imageSources.splice(0);\n    if (sources && sources.length > 0) {\n      sources.forEach((imgUrl: string) => {\n        this.imageSources.push(\n          this.domSanitizer.bypassSecurityTrustResourceUrl(imgUrl)\n        );\n      });\n      if (this.first == null) {\n        this.currentImageUrl = this.imageSources[0];\n      } else {\n        this.currentImageUrl = this.imageSources[this.first];\n      }\n      this.ready.emit(\"image viewer initialize!\");\n    } else {\n      throw \"没有图片源，请传入！\";\n    }\n  }\n  /**\n   *\n   * @param sources\n   */\n  changeImageSources(sources: string[]) {\n    this.source = sources;\n    this.convertUrl(this.source);\n  }\n  /**\n   * 主图加载完成\n   * @param img\n   * @param viewer\n   */\n  currentImageLoaded(img: HTMLImageElement, viewer: HTMLDivElement) {\n    this.currentImage = img;\n    this.initTop = (viewer.clientHeight - img.offsetHeight) / 2;\n    this.initLeft = (viewer.clientWidth - img.offsetWidth) / 2;\n    if (this.currentImage) {\n      this.currentImage.style.top = this.initTop + \"px\";\n      this.currentImage.style.left = this.initLeft + \"px\";\n    }\n    this.mainWindowHeight = this.getMainWindowHeight();\n    if (this.imageSources.length > 1) {\n      this.imageViewHeight = this.mainWindowHeight - 96 + \"px\";\n    } else {\n      this.imageViewHeight = this.mainWindowHeight - 46 + \"px\";\n    }\n    // viewer注册滚轮事件, 火狐浏览器滚轮事件为DOMMouseScroll，其它浏览器为mousewheel\n    if (this.checkBrowser().firefox) {\n      viewer.addEventListener(\"DOMMouseScroll\", (e: any) => {\n        this.currentImageZoomByWheel(e);\n      });\n    } else {\n      viewer.addEventListener(\"mousewheel\", (e: any) => {\n        this.currentImageZoomByWheel(e);\n      });\n    }\n  }\n\n  preOrNextImg(type: string) {\n    let index: number = this.imageSources.indexOf(this.currentImageUrl);\n    if (type == \"pre\") {\n      if (index != 0) {\n        index--;\n        this.currentImageUrl = this.imageSources[index];\n        this.eventService.rss.emit(this.eventService._imageViewerIndexChanged, {\n          index: index,\n        });\n      }\n    } else if (type == \"next\") {\n      if (index != this.imageSources.length - 1) {\n        index++;\n        this.currentImageUrl = this.imageSources[index];\n        this.eventService.rss.emit(this.eventService._imageViewerIndexChanged, {\n          index: index,\n        });\n      }\n    }\n    this.currentImgReset();\n  }\n\n  /**\n   * 根据变换参数改变主图\n   */\n  changeCurrentImg() {\n    let matrix: any = this.getMatrix(this.radian, this.x, this.y);\n    if (this.currentImage) {\n      this.currentImage.style.transform =\n        \"matrix(\" +\n        matrix.M11.toFixed(16) +\n        \",\" +\n        matrix.M21.toFixed(16) +\n        \",\" +\n        matrix.M12.toFixed(16) +\n        \",\" +\n        matrix.M22.toFixed(16) +\n        \", 0, 0)\";\n    }\n  }\n\n  /**\n   * 获取变换参数函数\n   *  radian\n   *  x\n   *  y\n   *  {{M11: number, M12: number, M21: number, M22: number}}\n   */\n  getMatrix(radian: number, x: number, y: number): any {\n    let Cos = Math.cos(radian),\n      Sin = Math.sin(radian);\n    return {\n      M11: Cos * x,\n      M12: -Sin * y,\n      M21: Sin * x,\n      M22: Cos * y,\n    };\n  }\n\n  /**\n   * 设置垂直翻转有关变量\n   */\n  vertical() {\n    this.radian = Math.PI - this.radian;\n    this.y *= -1;\n  }\n\n  /**\n   * 设置水平翻转有关变量\n   */\n  horizontal() {\n    this.radian = Math.PI - this.radian;\n    this.x *= -1;\n  }\n\n  /**\n   * 设置旋转的弧度\n   * @param radian\n   */\n  rotate(radian: number) {\n    this.radian = radian;\n  }\n\n  /**\n   * 设置弧度为向左转90度\n   */\n  rotateLeftBy90() {\n    this.radian -= Math.PI / 2;\n  }\n\n  /**\n   * 设置弧度为向左转90度\n   */\n  rotateRightBy90() {\n    this.radian += Math.PI / 2;\n  }\n\n  /**\n   * 根据角度设置旋转的弧度\n   *  degress\n   */\n  rotateByDegress(degress: number) {\n    this.radian = (degress * Math.PI) / 180;\n  }\n\n  /**\n   * 判断是否可以放大/缩小\n   *  scale\n   *  zoom\n   *  {number}\n   */\n  getZoom(scale: number, zoom: number): number {\n    return scale > 0 && scale > -zoom\n      ? zoom\n      : scale < 0 && scale < zoom\n      ? -zoom\n      : 0;\n  }\n\n  /**\n   * 设置缩放的有关变量\n   * @param zoom\n   */\n  scale(zoom: number) {\n    if (zoom) {\n      let hZoom: number = this.getZoom(this.x, zoom),\n        vZoom: number = this.getZoom(this.y, zoom);\n      if (hZoom && vZoom) {\n        this.x += hZoom;\n        this.y += vZoom;\n      }\n    }\n  }\n\n  /**\n   * 设置放大的有关变量\n   */\n  zoomin() {\n    this.scale(Math.abs(this.zoom));\n  }\n\n  /**\n   * 设置缩小的有关变量\n   */\n  zoomout() {\n    this.scale(-Math.abs(this.zoom));\n  }\n\n  /**\n   * 重置参数\n   */\n  reset() {\n    this.radian = 0;\n    this.x = 1;\n    this.y = 1;\n    this.zoom = 0.1;\n    if (this.currentImage) {\n      this.currentImage.style.top = this.initTop + \"px\";\n      this.currentImage.style.left = this.initLeft + \"px\";\n    }\n  }\n\n  // 以下为工具栏的按钮点击事件\n\n  /**\n   * 放大按钮事件\n   */\n  imageZoomin() {\n    this.zoomin();\n    this.changeCurrentImg();\n  }\n\n  /**\n   * 缩小按钮事件\n   */\n  imageZoomout() {\n    this.zoomout();\n    this.changeCurrentImg();\n  }\n\n  /**\n   * 向左旋转按钮事件\n   */\n  rotateLeft() {\n    this.rotateLeftBy90();\n    this.changeCurrentImg();\n  }\n\n  /**\n   * 向右旋转按钮事件\n   */\n  rotateRight() {\n    this.rotateRightBy90();\n    this.changeCurrentImg();\n  }\n\n  /**\n   * 垂直翻转按钮事件\n   */\n  flipVertical() {\n    this.horizontal();\n    this.changeCurrentImg();\n  }\n\n  /**\n   * 水平翻转按钮事件\n   */\n  flipHorizontal() {\n    this.vertical();\n    this.changeCurrentImg();\n  }\n\n  /**\n   * 主图恢复初始状态\n   */\n  currentImgReset() {\n    this.reset();\n    this.changeCurrentImg();\n  }\n\n  /**\n   * 下一页图片\n   * @param moreImg\n   * @param viewer\n   */\n  previousImg(moreImg: HTMLDivElement, viewer: HTMLDivElement) {\n    let moveVal: number =\n      Number(moreImg.style.left.split(\"px\")[0]) + viewer.clientWidth;\n    this.moreImgInitLeft = moveVal < 0 ? moveVal : 0;\n    if (this.moreImgInitLeft <= 0) {\n      this.moreImgInitLeft = 30;\n    }\n  }\n\n  /**\n   * 下一页图片\n   * @param moreImg\n   * @param viewer\n   */\n  nextImg(moreImg: HTMLDivElement, viewer: HTMLDivElement) {\n    let moveVal: number =\n      Number(moreImg.style.left.split(\"px\")[0]) - viewer.clientWidth;\n    this.moreImgInitLeft =\n      -moreImg.clientWidth < moveVal ? moveVal : this.moreImgInitLeft;\n    if (this.moreImgInitLeft <= 0) {\n      this.moreImgInitLeft = 30;\n    }\n  }\n\n  /**\n   * 点击小图加载主图事件\n   * @param imgUrl\n   */\n  changeCurrentImageUrl(imgUrl: string, index: number) {\n    this.currentImageUrl = imgUrl;\n    this.currentImgReset();\n    this.eventService.rss.emit(this.eventService._imageViewerIndexChanged, {\n      index: index,\n    });\n  }\n  /**\n   * 根据索引切换图片\n   */\n  changeCurrentIndex(index: number) {\n    if (index >= 0 && index < this.imageSources.length) {\n      this.currentImageUrl = this.imageSources[index];\n      this.currentImgReset();\n    }\n  }\n  /**\n   * 滚轮缩放\n   * @param e\n   */\n  currentImageZoomByWheel(e: any) {\n    e.preventDefault(); // 禁用滚轮事件的默认操作\n    let scale: number =\n      (e.wheelDelta ? e.wheelDelta / -180 : (e.detail || 0) / 3) *\n      Math.abs(this.zoom);\n    this.scale(scale);\n    if (this.x >= 0.1 && this.y >= 0.1) {\n      // 修复chrome下图片缩小到一定程度会突然变大的bug\n      this.changeCurrentImg();\n    }\n  }\n\n  /**\n   * 主图拖动开始事件\n   * @param e\n   */\n  currentImageDragStart(e: MouseEvent) {\n    if (this.currentImage) {\n      this.currentImageTempTop = parseInt(this.currentImage.style.top);\n      this.currentImageTempLeft = parseInt(this.currentImage.style.left);\n    }\n    this.dragStartClientX = e.clientX;\n    this.dragStartClientY = e.clientY;\n    if (this.currentImage) {\n      this.currentImage.style.transition = \"all 0s ease-out\";\n    }\n    this.isStartMove = true;\n  }\n\n  /**\n   * 设置照片高度\n   */\n  setImageHeight() {\n    const height = this.getMainWindowHeight();\n    if (height !== this.mainWindowHeight) {\n      this.mainWindowHeight = height;\n      if (this.imageSources.length > 1) {\n        this.imageViewHeight = height - 96 + \"px\";\n      } else {\n        this.imageViewHeight = height - 46 + \"px\";\n      }\n    }\n  }\n\n  /**\n   * 主图拖动中事件\n   * @param e\n   */\n  currentImageDrag(e: MouseEvent) {\n    this.setImageHeight();\n    if (this.isStartMove) {\n      let offsetX: number = e.clientX - this.dragStartClientX;\n      let offsetY: number = e.clientY - this.dragStartClientY;\n      if (this.currentImage) {\n        this.currentImage.style.top = this.currentImageTempTop + offsetY + \"px\";\n        this.currentImage.style.left =\n          this.currentImageTempLeft + offsetX + \"px\";\n      }\n    }\n  }\n\n  /**\n   * 主图拖动结束事件\n   * @param e\n   */\n  currentImageDragEnd(e: MouseEvent) {\n    if (this.currentImage) {\n      this.currentImage.style.transition = \"all 0.5s ease-out\";\n    }\n    this.isStartMove = false;\n  }\n\n  /**\n   * 取消默认的拖拽事件\n   *  e\n   */\n  cancleCurrentImageDrag(e: DragEvent) {\n    e.preventDefault();\n  }\n\n  /**\n   * 计算窗体高度，\n   * ssmodal_content 为模态对话框；\n   * sspanel_content 为map中的panel。\n   */\n  getMainWindowHeight(): number {\n    let parentNode = this.imageViewerContainer.nativeElement.parentNode;\n    while (parentNode) {\n      if (parentNode.className &&\n        (parentNode.className === \"ssmodal_content\" ||\n          parentNode.className === \"sspanel_content\")\n      ) {\n        break;\n      }\n      parentNode = parentNode.parentNode;\n    }\n    if (parentNode) {\n      return parentNode.clientHeight - 30;\n    } else {\n      parentNode = this.imageViewerContainer.nativeElement.parentNode;\n      let contentNode = null;\n      while (parentNode) {\n        if (parentNode.childNodes && parentNode.childNodes.length > 0) {\n          for (const child of parentNode.childNodes) {\n            if (child.nodeName.toLocaleUpperCase() === \"NZ-CONTENT\") {\n              contentNode = child;\n              break;\n            }\n          }\n        }\n        if (contentNode) {\n          break;\n        }\n        parentNode = parentNode.parentNode;\n      }\n      if (contentNode) {\n        return contentNode.clientHeight;\n      }\n    }\n    return this.height;\n  }\n\n  /**\n   * 检测浏览器\n   *  {any}\n   */\n  checkBrowser(): any {\n    let browser: any = {},\n      ua: string = navigator.userAgent;\n\n    // 检测Presto内核的Opera浏览器\n    if (window[\"opera\"]) {\n      browser.ver = window[\"opera\"].version();\n      browser.opera = parseFloat(browser.ver);\n    } else {\n      //确定 Microsoft Edge\n      if (/Edge\\/(\\S+)/.test(ua)) {\n        browser.ver = RegExp[\"$1\"];\n        browser.misEdge = parseFloat(browser.ver);\n      }\n\n      // 确定 WebKit内核Opera\n      else if (/OPR\\/(\\S+)/.test(ua)) {\n        browser.ver = RegExp[\"$1\"];\n        browser.opera = parseFloat(browser.ver);\n      }\n\n      // 确定 Chrome\n      else if (/Chrome\\/(\\S+)/.test(ua)) {\n        browser.ver = RegExp[\"$1\"];\n        browser.chrome = parseFloat(browser.ver);\n      }\n\n      // 确定 Safari\n      else if (/Version\\/(\\S+)/.test(ua)) {\n        browser.ver = RegExp[\"$1\"];\n        browser.safari = parseFloat(browser.ver);\n      }\n\n      // 确定 Firefox\n      else if (/Firefox\\/(\\S+)/.test(ua)) {\n        browser.ver = RegExp[\"$1\"];\n        browser.firefox = parseFloat(browser.ver);\n      }\n\n      // 检测 IE\n      else if (/MSIE ([^;]+)/.test(ua) || /rv:([^\\)]+)\\) like Gecko/.test(ua)) {\n        browser.ver = RegExp[\"$1\"];\n        browser.ie = parseFloat(browser.ver);\n      }\n\n      // 检测 KHTML 用于Konqueror3.1及更早版本中不包含KHTML的版本，故而就要使用Konqueror的版本来代替\n      else if (/KHTML\\/(\\S+)/.test(ua) || /Konqueror\\/(\\S+)/.test(ua)) {\n        browser.ver = RegExp[\"$1\"];\n        browser.konq = parseFloat(browser.ver);\n      }\n    }\n    return browser;\n  }\n}\n","<p class=\"video-list\">\n\t<span *ngFor=\"let video of source;let i=index\" class='label'\n\t\t[ngClass]=\"{'label-default': i != sub,'label-primary': i == sub}\"\n\t\t  (click)=\"selectVideo(video,i)\">视频{{i+1}}\n\t</span>\n</p>\n<div class=\"videoViewerContainer\"\n\t (mouseover)=\"videoMouseover($event)\"\n\t (mouseout)=\"videoMouseout($event)\"\n\t [style.width]=\"width + 'px'\" #videoViewerContainer>\n\t<div class=\"videoViewer\">\n\t\t<video (click)=\"playOrPause()\"\n\t\t\t   [width]=\"videoWidth\"\n\t\t\t   [poster]=\"poster\"\n\t\t\t   (loadedmetadata)=\"onLoadedmetadata($event)\"\n\t\t\t   (ended)=\"OnPlayEnded($event)\"\n\t\t\t   (timeupdate)=\"onTimeupdate($event)\"\n\t\t\t   (progress)=\"onProgress($event)\"\n\t\t\t   (canplaythrough)=\"onCanplaythrough($event)\"\n\t\t\t   (play)=\"onPlay($event)\">\n\t\t\t<source [src]=\"videoUrl\" type=\"video/mp4\"/>\n\t\t</video>\n\t\t<div *ngIf=\"videoElem && videoElem.paused\">\n\t\t\t<span class=\"fa\"\n\t\t\t\t  (click)=\"playOrPause()\"\n\t\t\t\t  [ngClass]=\"{'fa-repeat': videoElem.ended, 'fa-play-circle-o': !videoElem.ended}\"\n\t\t\t\t  [title]=\"videoElem.ended ? '重播' : '播放'\">\n\t\t\t</span>\n\t\t</div>\n\t</div>\n\t<div class=\"videoToolbar\" *ngIf=\"videoElem\" #videoToolbar>\n\t\t<div class=\"videoToolbar_progress\"\n\t\t\t [style.height]=\"videoToolbarProgressHeight + 'px'\">\n\t\t\t<span\n\t\t\t\t(mousedown)=\"progressBallDragStart($event)\"\n\t\t\t\t(mousemove)=\"progressBallDrag($event)\"\n\t\t\t\t(mouseup)=\"progressBallDragEnd($event)\"\n\t\t\t\t(mouseleave)=\"progressBallDragEnd($event)\"\n\t\t\t\t[style.left]=\"play_progress + 'px'\"\n\t\t\t\t[style.margin-left]=\"play_progress > 16 ? '-16px' : '0'\"\n\t\t\t\t[style.opacity]=\"showProgressBall ? 1 : 0\"\n\t\t\t\tclass=\"progress_val_ball\">\n\n\t\t\t\t<span>\n\t\t\t\t\t{{getFormatTime(play_progress / videoToolbar.clientWidth * videoElem.duration)}}\n\t\t\t\t</span>\n\n\t\t\t</span>\n\t\t\t<div (mousemove)=\"videoToolbarProgressMove($event)\" (click)=\"videoToolbarProgressClick($event)\"\n\t\t\t\t class=\"videoToolbar_play_progress\" [style.width]=\"play_progress + 'px'\">\n\t\t\t</div>\n\t\t\t<div (mousemove)=\"videoToolbarProgressMove($event)\" (click)=\"videoToolbarProgressClick($event)\"\n\t\t\t\t class=\"videoToolbar_buffer_progress\">\n\t\t\t</div>\n\t\t\t<span class=\"timeTip\" [style.left]=\"(timeTipOffsetX -16) + 'px'\">\n\t\t\t\t{{timeTip}}\n\t\t\t</span>\n\t\t</div>\n\t\t<div class=\"videoToolbar_play_btn\">\n\t\t\t<span (click)=\"playOrPause()\" *ngIf=\"videoElem.paused\" class=\"playBtn fa fa-play-circle-o\"\n\t\t\t\t  aria-hidden=\"true\" [title]=\"videoElem.ended ? '重播' : '播放'\"></span>\n\t\t\t<span (click)=\"playOrPause()\" *ngIf=\"!videoElem.paused\" class=\"playBtn fa fa-pause-circle-o\"\n\t\t\t\t  aria-hidden=\"true\" title=\"暂停\"></span>\n\t\t\t<span class=\"playTime\">\n\t\t\t\t<span>{{currentTime}}</span>&nbsp;/&nbsp;{{totalTime}}\n\t\t\t</span>\n\t\t</div>\n\t\t<div class=\"videoToolbar_volume_btn\">\n\t\t\t<span (click)=\"isMuted()\" class=\"mutedBtn fa\"\n\t\t\t\t  [ngClass]=\"{'fa-volume-down': videoElem.volume > 0 && videoElem.volume < 0.5, 'fa-volume-up': videoElem.volume >= 0.5, 'fa-volume-off': videoElem.volume == 0}\"\n\t\t\t\t  aria-hidden=\"true\" title=\"静音设置\"></span>\n\t\t\t<span class=\"volume_val\"\n\t\t\t\t  #volume_val>\n\t\t\t\t<span class=\"volume_val_ball\"\n\t\t\t\t\t  (mousedown)=\"volumeBallDragStart($event)\"\n\t\t\t\t\t  (mousemove)=\"volumeBallDrag($event, volume_val.clientWidth)\"\n\t\t\t\t\t  (mouseup)=\"volumeBallDragEnd($event)\"\n\t\t\t\t\t  (mouseleave)=\"volumeBallDragEnd($event)\"\n\t\t\t\t\t  [style.left]=\"(videoElem.volume * 100 - 8) + 'px'\">\n\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{{(videoElem.volume * 100).toFixed(0) + '%'}}\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<span (click)=\"volumeValClick($event, volume_val.clientWidth)\" class=\"volume_val_active\"\n\t\t\t\t\t  [style.width]=\"(videoElem.volume * 100) + 'px'\"></span>\n\t\t\t\t<span (click)=\"volumeValClick($event, volume_val.clientWidth)\" class=\"volume_val_notActive\"></span>\n\t\t\t</span>\n\t\t</div>\n\t</div>\n</div>\n","import {Component, OnInit, ViewChild, ElementRef} from '@angular/core';\nimport {Input, Output, EventEmitter} from \"@angular/core\";\nimport {DomSanitizer, SafeResourceUrl} from \"@angular/platform-browser\";\nimport { ComponentRegister } from '../../../../decorator/component-register.decorator';\n@ComponentRegister({\n\turi: 'video-viewer',\n  path: \"components/shared/ngxviewer/video-viewer\"\n})\n@Component({\n\tselector: 'video-viewer',\n\ttemplateUrl: './video-viewer.component.html',\n\tstyleUrls: ['./video-viewer.component.scss']\n})\nexport class VideoViewerComponent implements OnInit {\n\n\t@ViewChild('videoToolbar',{static:true}) videoToolbar: ElementRef;\n\t@Input() width: number = 0;\n\t@Input() videoWidth: number = 0;\n\t@Input() height: number = 0;\n\t@Input() source: string[] = [];\n\t@Input() poster: string;\n\t@Output() ready: EventEmitter<any> = new EventEmitter<any>(false);\n\n\tvideoElem: HTMLVideoElement; // video dom对象\n\tsub: number = 0;\n\tvideoUrl: SafeResourceUrl; // 视频路径\n\tcurrentTime: string; // 视频播放的当前时间\n\ttotalTime: string; // 视频总时间\n\tplay_progress: number = 0; // 播放的进度条长度值\n\tvideoToolbarProgressHeight: number = 3; // 进度条高度\n\tpreVolume: number = 1; // 静音设置前的音量值\n\tshowProgressBall: boolean = false; // 是否显示进度条上滑动的球\n\tprogressBallDragStartClientX: number = 0; // 进度条上滑动的球初始x位置\n\tisProgressBallStartMove = false; // 进度条上的球是否开始滑动\n\tvolumeBallDragStartClientX: number = 0; // 音量条上滑动的球初始x位置\n\tisVolumeBallStartMove = false; // 音量条上的球是否开始滑动\n\ttimeTip: string; // 时间提示\n\ttimeTipOffsetX: number = 0;\n\n\tconstructor(public domSanitizer: DomSanitizer) {\n\t}\n\n\tngOnInit() {\n\t\tthis.videoUrl = this.source[0];\n\t\tthis.ready.emit('video viewer initialize!');\n\t}\n\n\t/**\n\t * 视频的元数据已加载事件\n\t * @param e\n\t */\n\tonLoadedmetadata(e: any) {\n\t\tthis.videoElem = e.target as HTMLVideoElement;\n\t\tthis.totalTime = this.getFormatTime(this.videoElem.duration);\n\t\tthis.currentTime = this.getFormatTime(this.videoElem.currentTime);\n\t}\n\n\t/**\n\t * 播放结束事件\n\t * @param e\n\t */\n\tOnPlayEnded(e: any) {\n\t\tconsole.log(`播放结束：${this.videoElem.ended}`);\n\t}\n\n\t/**\n\t * 开始播放事件\n\t * @param e\n\t */\n\tonPlay(e: any) {\n\t\tconsole.log('play');\n\t}\n\n\t/**\n\t * 播放时间改变事件\n\t * @param e\n\t */\n\tonTimeupdate(e: any) {\n\t\tthis.currentTime = this.getFormatTime(this.videoElem.currentTime);\n\t\tthis.play_progress = this.videoElem.currentTime / this.videoElem.duration * this.videoToolbar.nativeElement.clientWidth;\n\t}\n\n\tonProgress(e: any) {\n\t\tconsole.log('progress');\n\t}\n\n\tonCanplaythrough(e: any) {\n\t\tconsole.log('canplaythrough');\n\t}\n\n\tvideoToolbarProgressClick(e: MouseEvent) {\n\t\tthis.play_progress = e.offsetX;\n\t\tlet tempCurrentTime: number = this.play_progress / this.videoToolbar.nativeElement.clientWidth * this.videoElem.duration;\n\t\tthis.videoElem.currentTime = tempCurrentTime;\n\t\tthis.currentTime = this.getFormatTime(tempCurrentTime);\n\t}\n\n\tvideoToolbarProgressMove(e: MouseEvent) {\n\t\tlet tempCurrentTime: number = e.offsetX / this.videoToolbar.nativeElement.clientWidth * this.videoElem.duration;\n\t\tthis.timeTipOffsetX = e.offsetX;\n\t\tthis.timeTip = this.getFormatTime(tempCurrentTime);\n\t}\n\n\tprogressBallDragStart(e: MouseEvent) {\n\t\te.stopPropagation();\n\t\tthis.progressBallDragStartClientX = e.clientX;\n\t\tthis.isProgressBallStartMove = true;\n\t}\n\n\tprogressBallDrag(e: MouseEvent) {\n\t\te.stopPropagation();\n\t\tif (this.isProgressBallStartMove) {\n\t\t\tlet offsetX: number = e.clientX - this.progressBallDragStartClientX;\n\t\t\tthis.progressBallDragStartClientX = e.clientX;\n\t\t\tthis.play_progress = (this.play_progress + offsetX);\n\t\t\tif (this.play_progress >= this.videoToolbar.nativeElement.clientWidth) {\n\t\t\t\tthis.play_progress = this.videoToolbar.nativeElement.clientWidth;\n\t\t\t} else if (this.play_progress <= 0) {\n\t\t\t\tthis.play_progress = 0;\n\t\t\t}\n\t\t\tlet tempCurrentTime: number = this.play_progress / this.videoToolbar.nativeElement.clientWidth * this.videoElem.duration;\n\t\t\tthis.videoElem.currentTime = tempCurrentTime;\n\t\t\tthis.currentTime = this.getFormatTime(tempCurrentTime);\n\t\t}\n\t}\n\n\tprogressBallDragEnd(e: MouseEvent) {\n\t\te.stopPropagation();\n\t\tthis.isProgressBallStartMove = false;\n\t}\n\n\tvolumeValClick(e: MouseEvent, width: number) {\n\t\tconsole.log(e.offsetX);\n\t\tthis.videoElem.volume = e.offsetX / width;\n\t}\n\n\tvolumeBallDragStart(e: MouseEvent) {\n\t\te.stopPropagation();\n\t\tthis.volumeBallDragStartClientX = e.clientX;\n\t\tthis.isVolumeBallStartMove = true;\n\t}\n\n\tvolumeBallDrag(e: MouseEvent, width: number) {\n\t\te.stopPropagation();\n\t\tif (this.isVolumeBallStartMove) {\n\t\t\tlet offsetX: number = e.clientX - this.volumeBallDragStartClientX;\n\t\t\tthis.volumeBallDragStartClientX = e.clientX;\n\t\t\tlet volume: number = this.videoElem.volume + offsetX / width;\n\t\t\tif (volume <= 0) {\n\t\t\t\tthis.videoElem.volume = 0;\n\t\t\t} else if (volume >= 1) {\n\t\t\t\tthis.videoElem.volume = 1;\n\t\t\t} else {\n\t\t\t\tthis.videoElem.volume = volume;\n\t\t\t}\n\t\t}\n\t}\n\n\tvolumeBallDragEnd(e: MouseEvent) {\n\t\te.stopPropagation();\n\t\tthis.isVolumeBallStartMove = false;\n\t}\n\n\tvideoMouseover(e: any) {\n\t\tthis.videoToolbarProgressHeight = 16;\n\t\tthis.showProgressBall = true;\n\t}\n\n\tvideoMouseout(e: any) {\n\t\tthis.videoToolbarProgressHeight = 3;\n\t\tthis.showProgressBall = false;\n\t}\n\n\t/**\n\t * 播放视频\n\t */\n\tplay() {\n\t\tthis.videoElem.ended && (this.videoElem.currentTime = 0);\n\t\tthis.videoElem.play();\n\t}\n\n\t/**\n\t * 暂停视频\n\t */\n\tpause() {\n\t\tthis.videoElem.pause();\n\t}\n\n\t/**\n\t * 播放/暂停\n\t */\n\tplayOrPause() {\n\t\tthis.videoElem.paused ? this.play() : this.pause();\n\t}\n\t/**\n\t * 选中视频\n\t * */\n\tselectVideo(path, i) {\n\t\tthis.sub = JSON.parse(JSON.stringify(i));\n\t\tthis.videoUrl = path;\n\t\tthis.videoElem.load();\n\t}\n\n\tisMuted() {\n\t\tif (this.videoElem.muted) {\n\t\t\tthis.videoElem.muted = false;\n\t\t\tthis.videoElem.volume = this.preVolume;\n\t\t} else {\n\t\t\tthis.videoElem.muted = true;\n\t\t\tthis.preVolume = this.videoElem.volume;\n\t\t\tthis.videoElem.volume = 0;\n\t\t}\n\t}\n\n\tgetFormatTime(value: number): string {\n\t\tlet h: string = parseInt(value / 3600 + '') < 10 ? '0' + parseInt(value / 3600 + '') : '' + parseInt(value / 3600 + ''),\n\t\t\tm: string = parseInt(value % 3600 / 60 + '') < 10 ? '0' + parseInt(value % 3600 / 60 + '') : '' + parseInt(value % 3600 / 60 + ''),\n\t\t\ts: string;\n\t\tif (value >= 60) {\n\t\t\ts = value % 3600 % 60 < 10 ? '0' + parseInt(value % 3600 % 60 + '') : '' + parseInt(value % 3600 % 60 + '');\n\t\t} else if (value < 60 && value >= 10) {\n\t\t\ts = '' + parseInt(value + '');\n\t\t} else if (value < 10) {\n\t\t\ts = '0' + parseInt(value + '');\n\t\t}\n\t\treturn `${h}:${m}:${s}`;\n\t}\n}\n","<div class=\"epsgis-ngx-viewer\">\n\t<pdf-viewer *ngIf=\"model == 'pdf'\" [width]=\"width\" [height]=\"height\" [source]=\"source\" [viewerUrl]=\"viewerUrl\" (ready)=\"viewerReady($event)\"></pdf-viewer>\n\t<image-viewer *ngIf=\"model == 'image'\" [source]=\"source\" [width]=\"width\" [height]=\"height\" [first]=\"first\" (ready)=\"viewerReady($event)\"></image-viewer>\n\t<video-viewer *ngIf=\"model == 'video'\" [poster]=\"poster\" [source]=\"source\" [width]=\"width\" [videoWidth]='videoWidth' [height]=\"height\" (ready)=\"viewerReady($event)\"></video-viewer>\n</div>\n","import { Component, OnInit, Input, Output, EventEmitter, Injector } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ComponentRegister } from '../../../decorator/component-register.decorator';\n@ComponentRegister({\n  uri: 'epsgis-ngx-viewer',\n  path: \"components/shared/ngxviewer\"\n})\n@Component({\n    selector: 'epsgis-ngx-viewer',\n    templateUrl: './e-ngx-viewer.component.html',\n    styleUrls: ['./e-ngx-viewer.component.scss']\n})\nexport class EpsGISNgxViewerComponent implements OnInit {\n\n    @Input() model: string = 'pdf'; // 视图模式，默认pdf。将实现image与video模式\n    @Input() width: number = 600; // 查看器宽度\n    @Input() videoWidth: number = 400; //视频播放器宽度\n    @Input() height: number = 800; // 查看器高度\n    @Input() source: string | string[]; // pdf路径、图片文件路径数组及视频路径\n    @Input() poster: string = ''; // 视频预览图（海报图片）路径\n    @Input() viewerUrl: string = ''; // pdf查看器路径(pdfjs/web/viewer.html)\n    @Input() first: number = 0; //照片预览首张下标\n    @Output() ready: EventEmitter<any> = new EventEmitter<any>(false); // 查看器初始完成事件\n\n    constructor(private activatedRoute: ActivatedRoute,\n        private injector:Injector) {}\n\n    ngOnInit() {\n        //路由参数\n        this.activatedRoute.params.subscribe((param: any) => {\n          if (param['model']) {\n            this.model = param['model'];\n          }\n          if (param['source']) {\n            this.source = param['source'];\n          }\n          if (param['width']) {\n            this.width = param['width'];\n          }\n          if (param['width']) {\n            this.width = param['width'];\n          }\n          if (param['videoWidth']) {\n            this.videoWidth = param['videoWidth'];\n          }\n          if (param['height']) {\n            this.height = param['height'];\n          }\n          if (param['poster']) {\n            this.poster = param['poster'];\n          }\n          if (param['viewerUrl']) {\n            this.viewerUrl = param['viewerUrl'];\n          }\n          if (param['first']) {\n            this.first = param['first'];\n          }\n        });\n    \n         //获取动态组件参数\n         this.model = this.injector.get(\"model\",this.model);\n         this.source = this.injector.get(\"source\",this.source);\n         this.width = this.injector.get(\"width\",this.width);\n         this.videoWidth = this.injector.get(\"videoWidth\",this.videoWidth);\n         this.height = this.injector.get(\"height\",this.height);\n         this.poster = this.injector.get(\"poster\",this.poster);\n         this.viewerUrl = this.injector.get(\"viewerUrl\",this.viewerUrl);\n         this.first = this.injector.get(\"first\",this.first);\n    }\n\n    viewerReady($event: any) {\n        this.ready.emit($event);\n    }\n}\n","<section class=\"json-viewer\">\n  <section *ngFor=\"let segment of segments\" [ngClass]=\"['segment', 'segment-type-' + segment.type]\">\n    <section (click)=\"toggle(segment)\" [ngClass]=\"{\n        'segment-main': true,\n        'expandable': isExpandable(segment),\n        'expanded': segment.expanded\n      }\">\n      <div *ngIf=\"isExpandable(segment)\" class=\"toggler\"\n        [ngClass]=\"{'collapse': segment.expanded, 'expand': !segment.expanded}\"></div>\n      <span class=\"segment-key\">{{ segment.key }}</span>\n      <span class=\"segment-separator\">: </span>\n      <span *ngIf=\"!segment.expanded || !isExpandable(segment)\" class=\"segment-value\">{{ segment.description }}</span>\n    </section>\n    <section *ngIf=\"segment.expanded && isExpandable(segment)\" class=\"children\">\n      <epsgis-json-viewer [json]=\"segment.value\" [expanded]=\"expanded\"></epsgis-json-viewer>\n    </section>\n  </section>\n</section>","import { Component, OnChanges, Input, OnInit } from '@angular/core';\n\nexport interface Segment {\n  key: string;\n  value: any;\n  type: undefined | string;\n  description: string;\n  expanded: boolean;\n}\nimport { ComponentRegister } from '../../../decorator/component-register.decorator';\n@ComponentRegister({\n  uri: 'epsgis-json-viewer',\n  path: \"components/shared/jsonviewer\"\n})\n@Component({\n  selector: 'epsgis-json-viewer',\n  templateUrl: './json-viewer.component.html',\n  styleUrls: ['./json-viewer.component.scss']\n})\nexport class EpsGISJsonViewerComponent implements OnInit, OnChanges {\n  @Input() json: any;\n  @Input() expanded = true;\n  /**\n   * @deprecated It will be always true and deleted in version 3.0.0\n   */\n  @Input() cleanOnChange = true;\n\n  segments: Segment[] = [];\n\n  ngOnInit(): void {\n    this.initJson();\n  }\n\n  initJson(): void {\n    if(typeof this.json === 'string') {\n      this.json = JSON.parse(this.json);\n    }\n    this.ngOnChanges();\n  }\n\n  ngOnChanges() {\n    if (this.cleanOnChange) {\n      this.segments = [];\n    }\n\n    if (typeof this.json === 'object') {\n      Object.keys(this.json).forEach( key => {\n        this.segments.push(this.parseKeyValue(key, this.json[key]));\n      });\n    } else {\n      this.segments.push(this.parseKeyValue(`(${typeof this.json})`, this.json));\n    }\n  }\n\n  isExpandable(segment: Segment) {\n    return segment.type === 'object' || segment.type === 'array';\n  }\n\n  toggle(segment: Segment) {\n    if (this.isExpandable(segment)) {\n      segment.expanded = !segment.expanded;\n    }\n  }\n\n  private parseKeyValue(key: any, value: any): Segment {\n    const segment: Segment = {\n      key: key,\n      value: value,\n      type: undefined,\n      description: '' + value,\n      expanded: this.expanded\n    };\n\n    switch (typeof segment.value) {\n      case 'number': {\n        segment.type = 'number';\n        break;\n      }\n      case 'boolean': {\n        segment.type = 'boolean';\n        break;\n      }\n      case 'function': {\n        segment.type = 'function';\n        break;\n      }\n      case 'string': {\n        segment.type = 'string';\n        segment.description = '\"' + segment.value + '\"';\n        break;\n      }\n      case 'undefined': {\n        segment.type = 'undefined';\n        segment.description = 'undefined';\n        break;\n      }\n      case 'object': {\n        // yea, null is object\n        if (segment.value === null) {\n          segment.type = 'null';\n          segment.description = 'null';\n        } else if (Array.isArray(segment.value)) {\n          segment.type = 'array';\n          segment.description = 'Array[' + segment.value.length + '] ' + JSON.stringify(segment.value);\n        } else if (segment.value instanceof Date) {\n          segment.type = 'date';\n        } else {\n          segment.type = 'object';\n          segment.description = 'Object ' + JSON.stringify(segment.value);\n        }\n        break;\n      }\n    }\n\n    return segment;\n  }\n}\n","import { ComponentRef, Injector } from '@angular/core';\nimport { ActivatedRoute, ActivatedRouteSnapshot, DetachedRouteHandle, RouteReuseStrategy } from '@angular/router';\nimport { AppGlobalConfig } from '../models/app-config';\n// export const NotReuseRoutesConfigToken = new InjectionToken<Array<string>>('not_reuse_routes_config');\n// @dynamic\n/**\n * 路由复用策略\n */\nexport class SimpleReuseStrategy implements RouteReuseStrategy/*IonicRouteStrategy */ {\n\n  public static snapshots: { [key: string]: DetachedRouteHandle } = {};\n  // public static snapshots: Map<string, DetachedRouteHandle> = new Map();\n  private static waitDelete: string;\n  private appGlobal: AppGlobalConfig;\n  constructor(private injector: Injector) {\n\n  }\n  // constructor(@Inject(NotReuseRoutesConfigToken) private notReuseRoutes: Array<string>) {\n\n  // }\n  /**\n   * 表示对所有路由允许复用， 如果有路由不想复用可以在这加一些业务逻辑判断\n   * @param route \n   */\n  public shouldDetach(route: ActivatedRouteSnapshot): boolean {\n    //Error: Cannot reattach ActivatedRouteSnapshot created from a different route\n    if (!route.routeConfig || route.routeConfig.loadChildren) {\n      return false;\n    }\n    if (route.data.reuse === false) {\n      return false;\n    }\n    const url: string = route['_routerState'].url;\n    if (!this.appGlobal) {\n      this.appGlobal = this.injector.get(AppGlobalConfig);\n    }\n    if (this.appGlobal.menuConfig\n      && this.appGlobal.menuConfig.notReuseRoutes\n      && this.appGlobal.menuConfig.notReuseRoutes.length >= 1\n    ) {\n      return !this.appGlobal.menuConfig.notReuseRoutes.some(n => url.toLocaleLowerCase().indexOf(n.toLocaleLowerCase()) >= 0);\n    }\n\n    // if (this.notReuseRoutes && this.notReuseRoutes.length >= 1) {\n    //   return !this.notReuseRoutes.some(n => n.toLocaleLowerCase() == url.toLocaleLowerCase());\n    // }\n    return true;\n  }\n\n  /**\n   * 当路由离开时会触发，按path作为key存储路由快照&组件当前实例对象\n   * @param route \n   * @param handle \n   */\n  public store(route: ActivatedRouteSnapshot, handle: DetachedRouteHandle): void {\n    if (!route.routeConfig || route.routeConfig.loadChildren) return;\n    const key = SimpleReuseStrategy.getRouteUrl(route);\n    if (SimpleReuseStrategy.waitDelete && SimpleReuseStrategy.waitDelete === key) {\n      // 如果待删除是当前路由则不存储快照\n      SimpleReuseStrategy.waitDelete = null;\n      return;\n    }\n    SimpleReuseStrategy.snapshots[key] = handle;\n  }\n\n  /**\n   * 如果 path 在缓存中有的都认为允许还原路由\n   * @param route \n   */\n  public shouldAttach(route: ActivatedRouteSnapshot): boolean {\n    if (!route.routeConfig || route.routeConfig.loadChildren) return false;\n    return !!SimpleReuseStrategy.snapshots[SimpleReuseStrategy.getRouteUrl(route)];\n  }\n\n  /**\n   * 从缓存中获取快照，若无则返回nul\n   * @param route \n   */\n  public retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle {\n    if (!route.routeConfig) {\n      return null;\n    }\n    // if (!route.routeConfig || route.routeConfig.loadChildren) {\n    //   return null\n    // }\n    // SimpleReuseStrategy.waitDelete = SimpleReuseStrategy.getRouteUrl(route);\n\n    if (route.routeConfig.loadChildren) {\n      Object.keys(SimpleReuseStrategy.snapshots).forEach(key => delete SimpleReuseStrategy.snapshots[key]);\n      return null as any;\n    }\n    return SimpleReuseStrategy.snapshots[SimpleReuseStrategy.getRouteUrl(route)];\n  }\n\n  /**\n   * 进入路由触发，判断是否同一路由\n   * @param future \n   * @param curr \n   */\n  public shouldReuseRoute(future: ActivatedRouteSnapshot, curr: ActivatedRouteSnapshot): boolean {\n    return future.routeConfig === curr.routeConfig && JSON.stringify(future.params) === JSON.stringify(curr.params);\n  }\n  /**\n   * 获取url\n   * @param route \n   */\n  public static getRouteUrl(route: ActivatedRouteSnapshot) {\n    // return route['_routerState'].url.replace(/\\//g, '_');\n    const key = route['_routerState'].url.replace(/\\//g, '_') + '_' + (route.routeConfig.loadChildren || route.routeConfig.component.toString().split('(')[0].split(' ')[1]);\n    return key;\n  }\n  /**\n   * 如果有路由缓存，则删除\n   * @param url \n   */\n  public static deleteRouteSnapshot(key: string): void {\n    if (SimpleReuseStrategy.snapshots[key]) {\n      this.deactivateOutlet(this.snapshots[key])\n      delete SimpleReuseStrategy.snapshots[key];\n    } else {\n      SimpleReuseStrategy.waitDelete = key;\n    }\n  }\n  private static deactivateOutlet(handle: DetachedRouteHandle): void {\n    const componentRef: ComponentRef<any> = handle ? handle['componentRef'] : null;\n    if (componentRef) {\n      componentRef.destroy()\n    }\n  }\n  public static clearRouteSnapshot() {\n    for (const key in this.snapshots) {\n      if (this.snapshots[key]) {\n        this.deactivateOutlet(this.snapshots[key]);\n        // delete this.snapshots[key];\n      }\n    }\n    this.snapshots = {};\n    SimpleReuseStrategy.waitDelete = \"\";\n  }\n}","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class MenuTabService {\n    constructor() {\n\n    }\n\n    index: number=0;\n    name: string=\"\";\n    add() {\n        this.index++;\n    }\n\n    getIndex() {\n        return this.index;\n    }\n    setName(n: string) {\n        this.name = n;\n\n    }\n    getName() {\n        return this.name;\n    }\n}","<nz-tabset [class.hide]=\"!showTab\" style=\"margin-left: -1px;\" [nzAnimated]=\"true\" [nzSelectedIndex]=\"currentIndex\" nzShowPagination=\"true\"\n  (nzSelectChange)=\"nzSelectChange($event)\" [nzType]=\"'line'\">\n  <nz-tab *ngFor=\"let menu of menuList\" [nzTitle]=\"nzTabHeading\">\n    <ng-template #nzTabHeading>\n      <div (contextmenu)=\"contextMenu($event,menu,menuComp)\">\n        {{menu.title}}\n        <!-- <i *ngIf=\"menu.isRemove\" (click)=\"closeUrl(menu.url)\" class=\"anticon anticon-cross close-red\" ></i> -->\n        <i nz-icon [nzType]=\"'close'\" [nzTheme]=\"'outline'\" *ngIf=\"menu.canClose\" (click)=\"closeTab($event,menu)\"></i>\n      </div>\n    </ng-template>\n    <!-- <ng-template #contextTemplate> -->\n      <nz-dropdown-menu #menuComp=\"nzDropdownMenu\">\n      <ul nz-menu nzInDropDown class=\"dropdown-menu\">\n        <li nz-menu-item (click)=\"selectDropdown($event,menu,'closeTab')\" *ngIf=\"menu.canClose\">\n          <i nz-icon [nzType]=\"'close'\" [nzTheme]=\"'outline'\"></i>\n          <span class=\"danger\">关闭</span>\n        </li>\n        <li nz-menu-divider *ngIf=\"menu.canSelect\"><li>\n        <li nz-menu-item (click)=\"selectDropdown($event,menu,'selectTab')\" *ngIf=\"menu.canSelect\">\n          <i nz-icon [nzType]=\"'check'\" [nzTheme]=\"'outline'\"></i>\n          <span class=\"danger\">选中</span>\n        </li>\n        <li nz-menu-divider *ngIf=\"menu.canCloseLeft\"></li>\n        <li nz-menu-item (click)=\"selectDropdown($event,menu,'closeLeftTab');\" *ngIf=\"menu.canCloseLeft\">\n          <i nz-icon [nzType]=\"'close'\" [nzTheme]=\"'outline'\"></i>\n          <span>关闭左侧页面</span>\n        </li>\n        <li nz-menu-divider *ngIf=\"menu.canCloseRight\"></li>\n        <li nz-menu-item (click)=\"selectDropdown($event,menu,'closeRightTab');\" *ngIf=\"menu.canCloseRight\">\n          <i nz-icon [nzType]=\"'close'\" [nzTheme]=\"'outline'\"></i>\n          <span>关闭右侧页面</span>\n        </li>\n        <li nz-menu-divider *ngIf=\"menu.canCloseExceptFirst\"></li>\n        <li nz-menu-item (click)=\"selectDropdown($event,menu,'closeAllTab');\" *ngIf=\"menu.canCloseExceptFirst\">\n          <i nz-icon [nzType]=\"'close'\" [nzTheme]=\"'outline'\"></i>\n          <span>保留第一页</span>\n        </li>\n      </ul>\n    </nz-dropdown-menu>\n    <!-- </ng-template> -->\n  </nz-tab>\n</nz-tabset>\n<div class=\"tab-content\">\n  <!--路由的内容会被显示在这里-->\n  <ng-content></ng-content>\n</div>","import { ChangeDetectorRef, Component, OnDestroy, OnInit, TemplateRef } from '@angular/core';\nimport { ActivatedRoute, Data, NavigationEnd, Router } from '@angular/router';\nimport { UtilsService } from '../../services/utils.service';\n// import { NzDropdownContextComponent, NzDropdownService } from 'ng-zorro-antd';\nimport { NzContextMenuService, NzDropdownMenuComponent } from 'ng-zorro-antd/dropdown';\nimport { filter, map } from 'rxjs/operators';\nimport { SimpleReuseStrategy } from '../../strategy/simple-reuse-strategy';\nimport { AppGlobalConfig } from '../../models/app-config';\nimport { MenuTabService } from './menu-tab.service';\n@Component({\n  selector: 'epsgis-menu-tab',\n  templateUrl: './menu-tab.component.html',\n  styleUrls: ['./menu-tab.component.scss']\n  // providers: [MenuTabService]\n})\nexport class MenuTabComponent implements OnInit, OnDestroy {\n\n  /**\n   * 打开的路由列表\n   */\n  menuList: Array<ITabMenuItem> = [];\n  /**\n   * 当前选中tab索引\n   */\n  currentIndex = -1;\n  urlMapTitle = new Map();\n  dropdown: NzDropdownMenuComponent;\n  showTab: boolean = true;\n  constructor(private router: Router,\n    private activatedRoute: ActivatedRoute,\n    // private titleService: Title,\n    private nzDropdownService: NzContextMenuService,\n    private cdr: ChangeDetectorRef,\n    private appGlobal: AppGlobalConfig,\n    private menuTabService: MenuTabService\n  ) {\n    // 路由事件\n    this.router.events.pipe(filter(event => event instanceof NavigationEnd))\n      .pipe(map(() => this.activatedRoute))\n      .pipe(map(route => {\n        while (route.firstChild) { route = route.firstChild; }\n        return route;\n      }))\n      .pipe(filter(route => route.outlet === 'primary'))\n      //.pipe(mergeMap((route)=>route.data))\n      // .subscribe((data) => this.addToTab(data))\n      .subscribe(route => {\n        this.addToTab(route);\n      });\n  }\n  ngOnInit() {\n\n  }\n  ngOnDestroy() {\n    //服用里调用了destory，这里再调用就会造成递归调用\n    // this.clear();\n  }\n  /**\n   * \n   * @param activatedRoute \n   */\n  private addToTab(activatedRoute: ActivatedRoute) {\n    //activatedRoute[\"_routerState\"].snapshot.url;\n    // this.menuTabService.add();\n    // console.log(\"index:s%,naem:s%\", this.menuTabService.getIndex(), this.menuTabService.getName());\n    if (this.router.url.indexOf(\"/login\") >= 0) {\n      this.clear();\n      return;\n    }\n    const routeData = activatedRoute.data[\"value\"];\n    if (routeData.showInTab === false) {\n      this.showTab = false;\n      return;\n    }\n    if (this.appGlobal.menuConfig\n      && this.appGlobal.menuConfig.notShowInTabRoutes\n      && this.appGlobal.menuConfig.notShowInTabRoutes.length >= 1\n    ) {\n      const exists = this.appGlobal.menuConfig.notShowInTabRoutes.some(n => this.router.url.toLocaleLowerCase().indexOf(n.toLocaleLowerCase()) >= 0);\n      if (exists) {\n        this.showTab = false;\n        return;\n      }\n    }\n    this.showTab = true;\n    //先取配置的标题，没有再从菜单里查找\n    let title = routeData.title;\n    if (!title) {\n      //查找菜单\n      const m = this.findMenu(this.router.url);\n      title = m ? m.name : this.router.url;\n    }\n    this.router\n    let menu: ITabMenuItem = {\n      title: title,\n      url: this.router.url,\n      key: SimpleReuseStrategy.getRouteUrl(activatedRoute.snapshot)\n    };\n\n    // this.titleService.setTitle(menu.title); // 设置网页标题\n    const exitMenu = this.menuList.find(info => info.url === menu.url);\n    if (!exitMenu) {// 如果不存在那么不添加，\n      this.menuList.push(menu);\n    }\n    this.currentIndex = this.menuList.findIndex(p => p.url === menu.url);\n    this.refreshMenuList();\n  }\n\n  /**刷新菜单项 */\n  private refreshMenuList() {\n    if(!this.menuList || this.menuList.length < 1) {\n      return;\n    }\n    if(this.menuList.length === 1) {\n      this.menuList[0].canClose = false;\n      this.menuList[0].canSelect = false;\n      this.menuList[0].canCloseLeft = false;\n      this.menuList[0].canCloseRight = false;\n      this.menuList[0].canCloseExceptFirst = false;\n    } else {\n      let index: number = 0;\n      this.menuList.forEach(item => {\n        item.canClose = true;\n        item.canCloseExceptFirst = true;\n        item.canSelect = false;\n        if(index !== this.currentIndex) {\n          item.canSelect = true;\n        }\n        item.canCloseLeft = true;\n        item.canCloseRight = true;\n        if(index === 0) {\n          item.canCloseLeft = false;\n        } else if(index === (this.menuList.length -1)) {\n          item.canCloseRight = false;\n        }\n        index++;\n      });\n    }\n  }\n\n  private clear() {\n    this.urlMapTitle.clear();\n    this.menuList.splice(0);\n    SimpleReuseStrategy.clearRouteSnapshot();\n  }\n  private recurseFindMenu = (url: string, arr: Array<any>) => {\n    let menu = null;\n    if (arr && arr.length >= 1) {\n      for (let index = 0; index < arr.length; index++) {\n        const m = arr[index];\n        if (m.path == url) {\n          menu = m;\n        } else {\n          menu = this.recurseFindMenu(url, m.children);\n        }\n        if (menu) {\n          break;\n        }\n      }\n    }\n    return menu;\n  };\n  private findMenu(url: string) {\n    if (this.urlMapTitle.has(url)) {\n      return this.urlMapTitle.get(url);\n    }\n    if (!this.appGlobal || !this.appGlobal.menuConfig.menuData) {\n      return null;\n    }\n    const m = this.recurseFindMenu(url, this.appGlobal.menuConfig.menuData);\n    if (m) {\n      this.urlMapTitle.set(url, m);\n    }\n    return m;\n  }\n\n  private getIndex(menu: ITabMenuItem) {\n    return this.menuList.findIndex(p => p.url === menu.url);\n  }\n  /**\n   * 关闭选项标签\n   * @param key \n   */\n  private closeByUrl(key: string) {\n    // 如果只有一个不可以关闭\n    if (this.menuList.length === 1) {\n      return;\n    }\n    // 通过url查找tab索引\n    const index = this.menuList.findIndex(p => p.key === key);\n    if (index <= -1) {\n      console.log(\"没有找到tab，无法关闭,key:\" + key);\n      return;\n    }\n    this.menuList.splice(index, 1);\n    // 删除复用\n    SimpleReuseStrategy.deleteRouteSnapshot(key);\n    // 如果当前删除的对象是当前选中的，那么需要跳转\n    if (this.currentIndex === index) {\n      // 显示上一个选中\n      let menu = this.menuList[index - 1];\n      if (!menu) {// 如果上一个没有下一个选中\n        menu = this.menuList[index];\n      }\n      // 跳转路由\n      this.router.navigate([menu.url]);\n    }\n  }\n  /**\n   * tab发生改变\n   */\n  nzSelectChange($event) {\n    this.currentIndex = $event.index;\n    const menu = this.menuList[this.currentIndex];\n    this.router.navigate([menu.url]);\n  }\n\n  private navigateToUrl(index: number) {\n    if (this.menuList.length == 0) {\n      return;\n    }\n    if (index <= -1) {\n      index = 0;\n    }\n    if (index >= this.menuList.length) {\n      index = this.menuList.length - 1;\n    }\n    // const menu = this.menuList[index];\n    // 跳转路由\n    // this.router.navigate([menu.url]);\n    this.currentIndex = index;\n  }\n\n  /**\n   * \n   * @param $event \n   * @param template  template: TemplateRef<void>,\n   * @param menu \n   */\n  contextMenu($event: MouseEvent, menu: ITabMenuItem,menuComp:NzDropdownMenuComponent): void {\n    // this.dropdown = this.nzDropdownService.create($event, template);\n    this.nzDropdownService.create($event, menuComp);\n  }\n  /**\n   * \n   * @param evt \n   * @param node \n   * @param menu \n   */\n  selectDropdown(evt: MouseEvent, menu: ITabMenuItem, func: string): void {\n    //this.dropdown.close();\n    this.nzDropdownService.close();\n    this[func](evt, menu);\n    //通过x关闭的可以自动刷新，右键菜单关闭的不行。。。。艹，哪里问题？？？\n    UtilsService.detectChanges(this.cdr);\n  }\n  /**\n   * \n   * @param predicate \n   * @param thisArg \n   */\n  private removeRoute(predicate: (value: ITabMenuItem, index: number, array: ITabMenuItem[]) => ITabMenuItem, thisArg?: any) {\n    const arr = this.menuList.filter(predicate);\n    if (arr && arr.length >= 1) {\n      arr.forEach(m => {\n        SimpleReuseStrategy.deleteRouteSnapshot(m.key);\n      });\n    }\n  }\n  /**\n   * \n   * @param key \n   */\n  closeTabByRoute(activatedRoute: ActivatedRoute) {\n    const key = SimpleReuseStrategy.getRouteUrl(activatedRoute.snapshot)\n    this.closeTabByKey(key);\n  }\n  /**\n   * \n   * @param key \n   */\n  closeTabByKey(key: string) {\n    this.closeByUrl(key);\n  }\n  /**\n   * 关闭tab\n   * @param menu \n   */\n  closeTab(evt: MouseEvent, menu: ITabMenuItem) {\n    this.closeByUrl(menu.key);\n    this.refreshMenuList();\n  }\n  /**\n   * 选中tab\n   * @param menu \n   */\n  selectTab(evt: MouseEvent, menu: ITabMenuItem) {\n    this.navigateToUrl(this.getIndex(menu));\n    this.refreshMenuList();\n  }\n  /**\n   * 关闭左侧tab\n   * @param menu \n   */\n  closeLeftTab(evt: MouseEvent, menu: ITabMenuItem) {\n    const index = this.getIndex(menu);\n    if (index >= 1) {\n      this.removeRoute((v: ITabMenuItem, i: number, a: Array<ITabMenuItem>) => {\n        if (i < index) {\n          return v;\n        }\n      });\n      this.menuList.splice(0, index);\n      this.navigateToUrl(0);\n    }\n    this.refreshMenuList();\n  }\n  /**\n   * 关闭右侧tab\n   * @param menu \n   */\n  closeRightTab(evt: MouseEvent, menu: ITabMenuItem) {\n    const index = this.getIndex(menu);\n    if (index >= 0) {\n      this.removeRoute((v: ITabMenuItem, i: number, a: Array<ITabMenuItem>) => {\n        if (i > index) {\n          return v;\n        }\n      });\n      this.menuList.splice(index + 1);\n      this.navigateToUrl(index);\n    }\n    this.refreshMenuList();\n  }\n  /**\n   * 关闭所有（改为了保留第一页）\n   * @param menu \n   */\n  closeAllTab(evt: MouseEvent, menu: ITabMenuItem) {\n    this.removeRoute((v: ITabMenuItem, i: number, a: Array<ITabMenuItem>) => { if (i >= 1) { return v; } });\n    //删除所有的话，tab是全部关闭了，但是页面没有关闭完\n    // this.menuList.splice(0);\n    // this.currentIndex = -1;\n    this.menuList.splice(1);\n    this.navigateToUrl(0);\n    this.refreshMenuList();\n  }\n}\n/**菜单项 */\nexport interface ITabMenuItem {\n  title: string;\n  url: string;\n  canClose?: boolean;\n  canSelect?: boolean;\n  canCloseLeft?: boolean;\n  canCloseRight?: boolean;\n  canCloseExceptFirst?: boolean;\n  key: string;\n}","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnDestroy, Output } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { SsModalRef } from './modal-ref';\nimport { SsModalOptions, SsModalTitleBarButtonOptions } from './modal-types';\n\n@Component({\n    selector: 'div[ss-modal-titlebar-button]',\n    template: `\n    <ng-container *ngIf=\"buttons && buttons.length>=1;\">\n          <div class=\"ssmodal_titlebar_button\" *ngFor=\"let button of buttons\"  (click)=\"onButtonClick(button)\">\n            <i\n            nz-icon\n            *ngIf=\"button.isIconfont;else ngzorro\"\n            [nzIconfont]=\"button.icon\"\n            \n            [style]=\"button.style\"\n            >\n            </i>\n\n          <ng-template #ngzorro>\n                <i nz-icon \n                [nzType]=\"button.icon\" \n                [nzTheme]=\"button.theme\"\n                [nzSpin]=\"button.spin\"\n                [nzTwotoneColor]=\"button.twotoneColor\"\n                [nzRotate]=\"button.rotate\"\n                [style]=\"button.style\"\n                ></i>\n          </ng-template>\n          </div>\n      </ng-container>\n      \n  `,\n    host: {\n        class: ''\n    },\n    changeDetection: ChangeDetectionStrategy.Default\n})\nexport class SsModalTitleBarButtonComponent implements OnDestroy {\n    buttons: SsModalTitleBarButtonOptions[] = [];\n    @Input() modalRef!: SsModalRef;\n    private destroy$ = new Subject<void>();\n\n    constructor(public config: SsModalOptions) {\n        if (Array.isArray(config.titleBarButtons)) {\n            this.buttons = (config.titleBarButtons as SsModalTitleBarButtonOptions[]).map(mergeDefaultOption);\n        }\n    }\n    /**\n     * \n     * @param options \n     * @param prop \n     * @returns \n     */\n    getButtonCallableProp(options: SsModalTitleBarButtonOptions, prop: keyof SsModalTitleBarButtonOptions): boolean {\n        const value = options[prop];\n        if (this.modalRef) {\n            const componentInstance = this.modalRef.getContentComponent();\n            return typeof value === 'function' ? value.apply(options, componentInstance && [componentInstance]) : value;\n        }\n        return false;\n    }\n    /**\n     * \n     * @param options \n     */\n    onButtonClick(options: SsModalTitleBarButtonOptions): void {\n        this.getButtonCallableProp(options, 'onClick');\n    }\n\n    ngOnDestroy(): void {\n        this.destroy$.next();\n        this.destroy$.complete();\n    }\n}\n\nfunction mergeDefaultOption(options: SsModalTitleBarButtonOptions): SsModalTitleBarButtonOptions {\n    return {\n        icon: null,\n        theme: 'outline',\n        spin: false,\n        twotoneColor: null,\n        isIconfont: false,\n        rotate: null,\n        title: \"\",\n        style: \"\",\n        ...options\n    };\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SSModalComponent } from './modal.component';\nimport { SsModalFooterComponent } from './modal-footer.component';\nimport { ModalContainerComponent } from './modal-container/modal-container.component';\nimport { SsModalFooterDirective } from '../components';\nimport { SsModalTitleBarButtonComponent } from './modal-titlebar-button.component';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\n\n\n\n@NgModule({\n  declarations: [ModalContainerComponent, SSModalComponent, SsModalFooterComponent,SsModalFooterDirective,SsModalTitleBarButtonComponent],\n  exports: [SSModalComponent, SsModalFooterComponent,SsModalTitleBarButtonComponent],\n  entryComponents: [ModalContainerComponent, SSModalComponent],\n  imports: [\n    CommonModule,\n    NzIconModule\n  ]\n})   \nexport class EpsGisModalModule { }\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule, Optional, SkipSelf, ModuleWithProviders, APP_INITIALIZER } from '@angular/core';\r\nimport { AppGlobalConfig, AppGlobalConfigToken, AppInitService } from './models/app-config';\r\nimport { EpsGisWidgetBaseModule } from './components/widget-base.module';\r\nimport { EpsGisDirectivesModule } from './directives/directives.module';\r\nimport { EpsGisCompContainerModule } from './components/comp-container/comp-container.module';\r\nimport { EpsGisModalModule } from './components/modal/modal.module';\r\nimport { HttpClient } from '@angular/common/http';\r\n/**\r\n * epsgis入口\r\n */\r\n//@dynamic\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        // HttpClientModule,\r\n        EpsGisWidgetBaseModule,\r\n        EpsGisDirectivesModule,\r\n        EpsGisCompContainerModule,\r\n        EpsGisModalModule\r\n    ],\r\n    declarations: [],\r\n    exports: []\r\n})\r\nexport class EpsGisModule {\r\n    constructor(@Optional() @SkipSelf() parentModule: EpsGisModule) {\r\n        if (parentModule) {\r\n            throw new Error(\r\n                'EpsGisModule is already loaded. Import it in the AppModule only');\r\n        }\r\n    }\r\n    /**\r\n     Error during template compile of 'SSGisModule'\r\n  Function calls are not supported in decorators but 'createGlobalConfig' was called\r\n     */\r\n    /**\r\n     * \r\n     * @param config  \r\n     */\r\n    static forRoot(config?: AppGlobalConfig): ModuleWithProviders<EpsGisModule> {\r\n        return {\r\n            ngModule: EpsGisModule,\r\n            providers: [\r\n                {\r\n                    provide: AppGlobalConfigToken,\r\n                    useValue: config\r\n                },\r\n                {\r\n                    provide: AppGlobalConfig,\r\n                    useFactory: setGlobalConfig,\r\n                    deps: [AppInitService]\r\n                },\r\n                { provide: APP_INITIALIZER, useFactory: loadGlobalConfig, deps: [AppGlobalConfigToken, AppInitService, HttpClient], multi: true }\r\n\r\n            ]\r\n        };\r\n    }\r\n\r\n}\r\n\r\nexport const loadGlobalConfig = (config: AppGlobalConfig, service: AppInitService) => {\r\n    return () => service.init(config).loadGlobalConfig();\r\n};\r\nexport const setGlobalConfig = (service: AppInitService) => {\r\n    return service.getConfig();\r\n};","/**\n * Created by laixiangran on 2016/11/29.\n * homepage：http://www.laixiangran.cn.\n */\n\nimport { CommonModule } from \"@angular/common\";\nimport { NgModule } from '@angular/core';\nimport { EpsGISNgxViewerComponent } from \"./e-ngx-viewer.component\";\nimport { PDFViewerComponent } from \"./pdf-viewer/pdf-viewer.component\";\nimport { ImageViewerComponent } from \"./image-viewer/image-viewer.component\";\nimport { VideoViewerComponent } from './video-viewer/video-viewer.component';\nimport { EpsGISJsonViewerComponent } from '../jsonviewer/json-viewer.component';\n\n@NgModule({\n    imports: [\n        CommonModule\n    ],\n    entryComponents:[\n        EpsGISNgxViewerComponent,\n        PDFViewerComponent,\n        ImageViewerComponent,\n        VideoViewerComponent,\n        EpsGISJsonViewerComponent\n    ],\n    declarations: [\n        EpsGISNgxViewerComponent,\n        PDFViewerComponent,\n        ImageViewerComponent,\n        VideoViewerComponent,\n        EpsGISJsonViewerComponent\n    ],\n    exports: [\n        EpsGISNgxViewerComponent,\n        PDFViewerComponent,\n        ImageViewerComponent,\n        VideoViewerComponent,\n        EpsGISJsonViewerComponent\n    ]\n})\nexport class EpsGISNgxViewerModule {\n}","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { NzDropDownModule } from 'ng-zorro-antd/dropdown';\nimport { NzTabsModule } from 'ng-zorro-antd/tabs';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { MenuTabComponent } from './menu-tab.component';\nimport { MenuTabService } from './menu-tab.service';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        NzTabsModule,\n        NzIconModule,\n        NzDropDownModule\n    ],\n    declarations: [\n        MenuTabComponent\n    ],\n    entryComponents: [\n        MenuTabComponent\n    ],\n    exports: [\n        MenuTabComponent\n    ],\n    providers: [\n        MenuTabService\n    ]\n})\nexport class EpsGisMenuTabModule { }","/**\n * id 生成器 create by ruir\n */\nexport class IdGenerater {\n    /**\n     * \n     */\n    static newGuid(format: string = \"N\") {\n        let d = new Date().getTime();\n        let uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n\n            let\n                r = (d + Math.random() * 16) % 16 | 0;\n\n            d = Math.floor(d / 16);\n\n            return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n\n        });\n        if (format === \"N\" || format === \"n\") {\n            uuid = uuid.replace(/-/g, \"\");\n        }\n        if (format === \"B\" || format === \"b\") {\n            uuid = `{${uuid}}`;\n        }\n        if (format === \"P\" || format === \"p\") {\n            uuid = `(${uuid})`;\n        }\n        if (format === \"X\" || format === \"x\") {\n            //\n        }\n        return uuid;\n    };\n}\n","/**\n * LocalStorageHelper\n */\nexport class LocalStorageHelper {\n    /**\n     * \n     * @param key \n     * @param data \n     */\n    static setItem(key: string, data: any) {\n        if (window.localStorage) {\n            if (typeof data === \"object\") {\n                localStorage.setItem(key, JSON.stringify(data));\n            } else {\n                localStorage.setItem(key, data);\n            }\n        } else {\n            console.log(\"浏览器不支持localStorage\");\n        }\n    }\n    /**\n     * \n     * @param key \n     */\n    static getItem(key: string): any {\n        if (window.localStorage) {\n            return localStorage.getItem(key);\n        } else {\n            console.log(\"浏览器不支持localStorage\");\n        }\n    }\n}","export class Md5 {\n\n    // One time hashing functions\n    public static hashStr(str: string, raw: boolean = false) {\n        return Md5.onePassHasher\n            .start()\n            .appendStr(str)\n            .end(raw);\n    }\n\n    public static hashAsciiStr(str: string, raw: boolean = false) {\n        return Md5.onePassHasher\n            .start()\n            .appendAsciiStr(str)\n            .end(raw);\n    }\n    // Private Static Variables\n    private static stateIdentity = new Int32Array([1732584193, -271733879, -1732584194, 271733878]);\n    private static buffer32Identity = new Int32Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n    private static hexChars = '0123456789abcdef';\n    private static hexOut: string[] = [];\n\n    // Permanent instance is to use for one-call hashing\n    private static onePassHasher = new Md5();\n\n    private static _hex(x: any): string {\n        const hc = Md5.hexChars;\n        const ho = Md5.hexOut;\n        let n;\n        let offset;\n        let j;\n        let i;\n\n        for (i = 0; i < 4; i += 1) {\n            offset = i * 8;\n            n = x[i];\n            for (j = 0; j < 8; j += 2) {\n                ho[offset + 1 + j] = hc.charAt(n & 0x0F);\n                n >>>= 4;\n                ho[offset + 0 + j] = hc.charAt(n & 0x0F);\n                n >>>= 4;\n            }\n        }\n        return ho.join('');\n    }\n\n    private static _md5cycle(x: Int32Array | Uint32Array, k: Int32Array | Uint32Array) {\n        let a = x[0];\n        let b = x[1];\n        let c = x[2];\n        let d = x[3];\n        // ff()\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        // gg()\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        // hh()\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        // ii()\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    private _dataLength: number;\n    private _bufferLength: number;\n\n    private _state: Int32Array = new Int32Array(4);\n    private _buffer: ArrayBuffer = new ArrayBuffer(68);\n    private _buffer8: Uint8Array;\n    private _buffer32: Uint32Array;\n\n    constructor() {\n        this._buffer8 = new Uint8Array(this._buffer, 0, 68);\n        this._buffer32 = new Uint32Array(this._buffer, 0, 17);\n        this.start();\n    }\n\n    public start() {\n        this._dataLength = 0;\n        this._bufferLength = 0;\n        this._state.set(Md5.stateIdentity);\n        return this;\n    }\n\n    // Char to code point to to array conversion:\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/charCodeAt\n    // #Example.3A_Fixing_charCodeAt_to_handle_non-Basic-Multilingual-Plane_characters_if_their_presence_earlier_in_the_string_is_unknown\n    public appendStr(str: string) {\n        const buf8 = this._buffer8;\n        const buf32 = this._buffer32;\n        let bufLen = this._bufferLength;\n        let code;\n        let i;\n\n        for (i = 0; i < str.length; i += 1) {\n            code = str.charCodeAt(i);\n            if (code < 128) {\n                buf8[bufLen++] = code;\n            } else if (code < 0x800) {\n                buf8[bufLen++] = (code >>> 6) + 0xC0;\n                buf8[bufLen++] = code & 0x3F | 0x80;\n            } else if (code < 0xD800 || code > 0xDBFF) {\n                buf8[bufLen++] = (code >>> 12) + 0xE0;\n                buf8[bufLen++] = (code >>> 6 & 0x3F) | 0x80;\n                buf8[bufLen++] = (code & 0x3F) | 0x80;\n            } else {\n                code = ((code - 0xD800) * 0x400) + (str.charCodeAt(++i) - 0xDC00) + 0x10000;\n                if (code > 0x10FFFF) {\n                    throw new Error('Unicode standard supports code points up to U+10FFFF');\n                }\n                buf8[bufLen++] = (code >>> 18) + 0xF0;\n                buf8[bufLen++] = (code >>> 12 & 0x3F) | 0x80;\n                buf8[bufLen++] = (code >>> 6 & 0x3F) | 0x80;\n                buf8[bufLen++] = (code & 0x3F) | 0x80;\n            }\n            if (bufLen >= 64) {\n                this._dataLength += 64;\n                Md5._md5cycle(this._state, buf32);\n                bufLen -= 64;\n                buf32[0] = buf32[16];\n            }\n        }\n        this._bufferLength = bufLen;\n        return this;\n    }\n\n    public appendAsciiStr(str: string) {\n        const buf8 = this._buffer8;\n        const buf32 = this._buffer32;\n        let bufLen = this._bufferLength;\n        let i;\n        let j = 0;\n\n        for (; ;) {\n            i = Math.min(str.length - j, 64 - bufLen);\n            while (i--) {\n                buf8[bufLen++] = str.charCodeAt(j++);\n            }\n            if (bufLen < 64) {\n                break;\n            }\n            this._dataLength += 64;\n            Md5._md5cycle(this._state, buf32);\n            bufLen = 0;\n        }\n        this._bufferLength = bufLen;\n        return this;\n    }\n\n    public appendByteArray(input: Uint8Array) {\n        const buf8 = this._buffer8;\n        const buf32 = this._buffer32;\n        let bufLen = this._bufferLength;\n        let i;\n        let j = 0;\n\n        for (; ;) {\n            i = Math.min(input.length - j, 64 - bufLen);\n            while (i--) {\n                buf8[bufLen++] = input[j++];\n            }\n            if (bufLen < 64) {\n                break;\n            }\n            this._dataLength += 64;\n            Md5._md5cycle(this._state, buf32);\n            bufLen = 0;\n        }\n        this._bufferLength = bufLen;\n        return this;\n    }\n\n    public getState() {\n        const self = this;\n        const s = self._state;\n\n        return {\n            buffer: String.fromCharCode.apply(null, self._buffer8),\n            buflen: self._bufferLength,\n            length: self._dataLength,\n            state: [s[0], s[1], s[2], s[3]]\n        };\n    }\n\n    public setState(state: any) {\n        const buf = state.buffer;\n        const x = state.state;\n        const s = this._state;\n        let i;\n\n        this._dataLength = state.length;\n        this._bufferLength = state.buflen;\n        s[0] = x[0];\n        s[1] = x[1];\n        s[2] = x[2];\n        s[3] = x[3];\n\n        for (i = 0; i < buf.length; i += 1) {\n            this._buffer8[i] = buf.charCodeAt(i);\n        }\n    }\n\n    public end(raw: boolean = false) {\n        const bufLen = this._bufferLength;\n        const buf8 = this._buffer8;\n        const buf32 = this._buffer32;\n        const i = (bufLen >> 2) + 1;\n        let dataBitsLen;\n\n        this._dataLength += bufLen;\n\n        buf8[bufLen] = 0x80;\n        buf8[bufLen + 1] = buf8[bufLen + 2] = buf8[bufLen + 3] = 0;\n        buf32.set(Md5.buffer32Identity.subarray(i), i);\n\n        if (bufLen > 55) {\n            Md5._md5cycle(this._state, buf32);\n            buf32.set(Md5.buffer32Identity);\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        dataBitsLen = this._dataLength * 8;\n        if (dataBitsLen <= 0xFFFFFFFF) {\n            buf32[14] = dataBitsLen;\n        } else {\n            const matches = dataBitsLen.toString(16).match(/(.*?)(.{0,8})$/);\n            if (matches === null) {\n                return;\n            }\n\n            const lo = parseInt(matches[2], 16);\n            const hi = parseInt(matches[1], 16) || 0;\n\n            buf32[14] = lo;\n            buf32[15] = hi;\n        }\n\n        Md5._md5cycle(this._state, buf32);\n\n        return raw ? this._state : Md5._hex(this._state);\n    }\n}\n\nif (Md5.hashStr('hello') !== '5d41402abc4b2a76b9719d911017c592') {\n    console.error('Md5 self test failed.');\n}","/**\n * 对象属性监控 by ruir\n */\nexport class PropWatcher {\n    /**\n     * \n     * @param obj 对象\n     * @param prop 属性\n     * @param after 赋值后处理函数\n     * @param before 赋值前处理函数\n     */\n    static watch(obj, prop, after: ((prop, oldval, newval) => void), before?: ((prop, oldval, newval) => any)) {\n        let oldval = obj[prop], newval = oldval,\n            getter = () => {\n                return newval;\n            },\n            setter = (val) => {\n                oldval = newval;\n                if (before && typeof before === \"function\") {\n                    newval = before.call(obj, prop, oldval, val);\n                } else {\n                    newval = val;\n                }\n                if (oldval != newval) {\n                    Promise.resolve().then(() => { after.call(obj, prop, oldval, newval); });\n                }\n                return newval;\n            };\n        if (delete obj[prop]) { // 不能监控常量\n            if (Object.defineProperty) {// ECMAScript 5\n                Object.defineProperty(obj, prop, {\n                    configurable: true,\n                    get: getter,\n                    set: setter\n                });\n            }\n            else if (Object.prototype[\"__defineGetter__\"] && Object.prototype[\"__defineGetter__\"]) {\n                Object.prototype[\"__defineGetter__\"].call(obj, prop, getter);\n                Object.prototype[\"__defineGetter__\"].call(obj, prop, setter);\n            }\n        }\n        return () => { PropWatcher.unwatch(obj, prop); };\n    }\n    /**\n     * \n     * @param obj 对象\n     * @param prop 属性\n     */\n    static unwatch(obj, prop) {\n        let val = obj[prop];\n        // const xobj = Object.getOwnPropertyDescriptor(obj, prop);\n        // if (xobj && xobj.set) {\n        //     xobj.set = undefined;\n        // }\n        delete obj[prop];\n        obj[prop] = val;\n    }\n}\n"],"names":["InjectionToken","_.cloneDeep","_.merge","Injectable","Directive","CommonModule","NgModule","WidgetType","WidgetState","WidgetWindowState","OrderByType","EventEmitter","NG_VALUE_ACCESSOR","forwardRef","i0.ɵɵelement","Component","ViewChild","Input","Output","i0.ɵɵelementStart","i0.ɵɵlistener","i0.ɵɵelementEnd","i0.ɵɵtext","i0.ɵɵadvance","i0.ɵɵproperty","ViewContainerRef","i0.ɵɵtemplate","i0.ɵɵelementContainer","i0.ɵɵclassProp","i0.ɵɵnamespaceSVG","loadModules","HostListener","OnScreenWidgetIconComponent","Optional","HostBinding","PanelInMobileShowMode","PanelDockMode","_.forEach","i0.ɵɵelementContainerStart","i0.ɵɵelementContainerEnd","i0.ɵɵpropertyInterpolate","i0.ɵɵtextInterpolate","OnScreenWidgetPanelComponent","DockablePanelAtBottomComponent","DockablePanelAtRightComponent","DockablePanelAtLeftComponent","i0.ɵɵtextInterpolate1","MobileActionPanelComponent","MobileDrawerPanelComponent","MobileModalPanelComponent","MobilePopupPanelComponent","Pipe","IframePanelComponent","FormsModule","NzIconModule","NzResultModule","_.extend","_.clone","Subject","DOCUMENT","Inject","Injector","HttpHeaders","HttpParams","_.some","_.find","_.filter","ReflectiveInjector","_.map","_.each","ModalContainerComponent","defer","startWith","PortalInjector","OverlayRef","ComponentPortal","TemplateRef","SkipSelf","i0.ɵɵprojection","SSModalComponent","ChangeDetectionStrategy","i0.ɵɵclassMap","i0.ɵɵattribute","i0.ɵɵstyleProp","PDFViewerComponent","i0.ɵɵnamespaceHTML","ImageViewerComponent","VideoViewerComponent","EpsGISNgxViewerComponent","EpsGISJsonViewerComponent","filter","NavigationEnd","map","i0.ɵɵstyleMap","mergeDefaultOption","APP_INITIALIZER","HttpClient","NzTabsModule","NzDropDownModule"],"mappings":"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"}