import { __decorate } from "tslib";
import { Component, Optional } from '@angular/core';
import { BaseMobilePanelComponent } from '../base-mobile-panel';
import { WidgetPosition } from "../../../models/base-widget";
import { PanelInMobileShowMode } from '../../../models/base-panel';
import { ComponentRegister } from '../../../decorator/component-register.decorator';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
function MobileDrawerPanelComponent_div_4_ng_container_4_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    const _r13 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵelementStart(1, "div", 13);
    i0.ɵɵlistener("click", function MobileDrawerPanelComponent_div_4_ng_container_4_ng_container_1_Template_div_click_1_listener($event) { i0.ɵɵrestoreView(_r13); const ctx_r12 = i0.ɵɵnextContext(3); return ctx_r12._buttonCollapse_Click($event); });
    i0.ɵɵnamespaceSVG();
    i0.ɵɵelementStart(2, "svg", 14);
    i0.ɵɵelementStart(3, "g", 15);
    i0.ɵɵelement(4, "polyline", 16);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r9 = i0.ɵɵnextContext(3);
    i0.ɵɵadvance(1);
    i0.ɵɵpropertyInterpolate("title", ctx_r9.options.buttonUnCollapseText);
} }
function MobileDrawerPanelComponent_div_4_ng_container_4_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    const _r15 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 13);
    i0.ɵɵlistener("click", function MobileDrawerPanelComponent_div_4_ng_container_4_ng_template_2_Template_div_click_0_listener($event) { i0.ɵɵrestoreView(_r15); const ctx_r14 = i0.ɵɵnextContext(3); return ctx_r14._buttonCollapse_Click($event); });
    i0.ɵɵnamespaceSVG();
    i0.ɵɵelementStart(1, "svg", 14);
    i0.ɵɵelementStart(2, "g", 15);
    i0.ɵɵelement(3, "polyline", 17);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r11 = i0.ɵɵnextContext(3);
    i0.ɵɵpropertyInterpolate("title", ctx_r11.options.buttonCollapseText);
} }
function MobileDrawerPanelComponent_div_4_ng_container_4_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtemplate(1, MobileDrawerPanelComponent_div_4_ng_container_4_ng_container_1_Template, 5, 1, "ng-container", 11);
    i0.ɵɵtemplate(2, MobileDrawerPanelComponent_div_4_ng_container_4_ng_template_2_Template, 4, 1, "ng-template", null, 12, i0.ɵɵtemplateRefExtractor);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const _r10 = i0.ɵɵreference(3);
    const ctx_r6 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r6.windowState == "collapsed")("ngIfElse", _r10);
} }
function MobileDrawerPanelComponent_div_4_ng_container_5_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    const _r20 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵelementStart(1, "div", 19);
    i0.ɵɵlistener("click", function MobileDrawerPanelComponent_div_4_ng_container_5_ng_container_1_Template_div_click_1_listener($event) { i0.ɵɵrestoreView(_r20); const ctx_r19 = i0.ɵɵnextContext(3); return ctx_r19._buttonMax_Click($event); });
    i0.ɵɵnamespaceSVG();
    i0.ɵɵelementStart(2, "svg", 14);
    i0.ɵɵelementStart(3, "g", 15);
    i0.ɵɵelement(4, "rect", 20);
    i0.ɵɵelement(5, "line", 21);
    i0.ɵɵelement(6, "line", 22);
    i0.ɵɵelement(7, "line", 23);
    i0.ɵɵelement(8, "line", 24);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r16 = i0.ɵɵnextContext(3);
    i0.ɵɵadvance(1);
    i0.ɵɵpropertyInterpolate("title", ctx_r16.options.buttonUnmaximizeText);
} }
function MobileDrawerPanelComponent_div_4_ng_container_5_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    const _r22 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 19);
    i0.ɵɵlistener("click", function MobileDrawerPanelComponent_div_4_ng_container_5_ng_template_2_Template_div_click_0_listener($event) { i0.ɵɵrestoreView(_r22); const ctx_r21 = i0.ɵɵnextContext(3); return ctx_r21._buttonMax_Click($event); });
    i0.ɵɵnamespaceSVG();
    i0.ɵɵelementStart(1, "svg", 14);
    i0.ɵɵelementStart(2, "g", 15);
    i0.ɵɵelement(3, "rect", 25);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r18 = i0.ɵɵnextContext(3);
    i0.ɵɵpropertyInterpolate("title", ctx_r18.options.buttonMaximizeText);
} }
function MobileDrawerPanelComponent_div_4_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtemplate(1, MobileDrawerPanelComponent_div_4_ng_container_5_ng_container_1_Template, 9, 1, "ng-container", 11);
    i0.ɵɵtemplate(2, MobileDrawerPanelComponent_div_4_ng_container_5_ng_template_2_Template, 4, 1, "ng-template", null, 18, i0.ɵɵtemplateRefExtractor);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const _r17 = i0.ɵɵreference(3);
    const ctx_r7 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r7.windowState == "maximized")("ngIfElse", _r17);
} }
function MobileDrawerPanelComponent_div_4_ng_container_6_Template(rf, ctx) { if (rf & 1) {
    const _r24 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵelementStart(1, "div", 26);
    i0.ɵɵlistener("click", function MobileDrawerPanelComponent_div_4_ng_container_6_Template_div_click_1_listener($event) { i0.ɵɵrestoreView(_r24); const ctx_r23 = i0.ɵɵnextContext(2); return ctx_r23.closePanel($event); });
    i0.ɵɵnamespaceSVG();
    i0.ɵɵelementStart(2, "svg", 14);
    i0.ɵɵelementStart(3, "g");
    i0.ɵɵelement(4, "line", 27);
    i0.ɵɵelement(5, "line", 28);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r8 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵpropertyInterpolate("title", ctx_r8.options.buttonCloseText);
} }
function MobileDrawerPanelComponent_div_4_Template(rf, ctx) { if (rf & 1) {
    const _r26 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 7, 8);
    i0.ɵɵlistener("mousedown", function MobileDrawerPanelComponent_div_4_Template_div_mousedown_0_listener($event) { i0.ɵɵrestoreView(_r26); const ctx_r25 = i0.ɵɵnextContext(); return ctx_r25._titlebar_MouseDown($event); });
    i0.ɵɵelementStart(2, "div", 9);
    i0.ɵɵtext(3);
    i0.ɵɵelementEnd();
    i0.ɵɵtemplate(4, MobileDrawerPanelComponent_div_4_ng_container_4_Template, 4, 2, "ng-container", 10);
    i0.ɵɵtemplate(5, MobileDrawerPanelComponent_div_4_ng_container_5_Template, 4, 2, "ng-container", 10);
    i0.ɵɵtemplate(6, MobileDrawerPanelComponent_div_4_ng_container_6_Template, 6, 1, "ng-container", 10);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r2 = i0.ɵɵnextContext();
    i0.ɵɵadvance(3);
    i0.ɵɵtextInterpolate1(" ", ctx_r2.options.title, "");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r2.options.buttonCollapse);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r2.options.buttonMaximize);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r2.options.buttonClose);
} }
function MobileDrawerPanelComponent_ng_template_6_Template(rf, ctx) { }
let MobileDrawerPanelComponent = class MobileDrawerPanelComponent extends BaseMobilePanelComponent {
    constructor(_render, cdr) {
        super(_render, cdr);
        this._render = _render;
        this.cdr = cdr;
        this._mobileShowMode = PanelInMobileShowMode.drawer;
    }
    ngOnDestroy() {
        this._sspanelOverlayClickHandler();
        super.ngOnDestroy();
    }
    setOptions(options) {
        options.buttonCollapse = false;
        options.buttonMaximize = false;
        super.setOptions(options);
    }
    _setMobilePosition() {
        let _width = "80%";
        if (this.widgetConfig.mobile && this.widgetConfig.mobile.position) {
            const obj = this.getWidthHeight();
            if (obj.width) {
                _width = obj.width;
            }
        }
        let _pos = new WidgetPosition(0, 0, 0, 20, "100%", _width);
        this.widgetConfig.position = _pos;
        this._sspanelOverlayClickHandler = this.jsEventManager.addEventListener(this.sspanelOverlay.nativeElement, "click", (evt) => {
            if (evt.target === this.sspanelOverlay.nativeElement) {
                this.closePanel(evt);
            }
        });
    }
};
MobileDrawerPanelComponent.ɵfac = function MobileDrawerPanelComponent_Factory(t) { return new (t || MobileDrawerPanelComponent)(i0.ɵɵdirectiveInject(i0.Renderer2, 8), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef, 8)); };
MobileDrawerPanelComponent.ɵcmp = i0.ɵɵdefineComponent({ type: MobileDrawerPanelComponent, selectors: [["epsgis-mobile-drawer-panel"]], features: [i0.ɵɵInheritDefinitionFeature], decls: 8, vars: 3, consts: [[1, "sspanel_overlay"], ["sspanel_overlay", ""], [1, "sspanel", 3, "id", "ngStyle"], ["sspanel", ""], ["class", "sspanel_titlebar sspanel_titlebar_draggable", 3, "mousedown", 4, "ngIf"], [1, "sspanel_content", 3, "click"], ["widget_content", ""], [1, "sspanel_titlebar", "sspanel_titlebar_draggable", 3, "mousedown"], ["sspanel_titlebar", ""], [1, "sspanel_titlebar_text"], [4, "ngIf"], [4, "ngIf", "ngIfElse"], ["showCollapsedButton", ""], [1, "sspanel_titlebar_button", "sspanel_titlebar_button_collapse", 3, "title", "click"], ["version", "1.1", "xmlns", "http://www.w3.org/2000/svg", 0, "xmlns", "xlink", "http://www.w3.org/1999/xlink", "viewBox", "0 0 10 10", "height", "100%", "width", "100%"], ["fill", "none"], ["points", "1,3 9,3 5,8 1,3 9,3"], ["points", "1,7 9,7 5,2 1,7 9,7"], ["showMaximizeButton", ""], [1, "sspanel_titlebar_button", "sspanel_titlebar_button_maximize", 3, "title", "click"], ["x", "1", "y", "3", "height", "6", "width", "6"], ["y1", "3", "x1", "3", "y2", "1", "x2", "3"], ["y1", "1", "x1", "2.5", "y2", "1", "x2", "9.5"], ["y1", "1", "x1", "9", "y2", "7", "x2", "9"], ["y1", "7", "x1", "9.5", "y2", "7", "x2", "7"], ["x", "1", "y", "1", "height", "8", "width", "8"], [1, "sspanel_titlebar_button", "sspanel_titlebar_button_close", 3, "title", "click"], ["y2", "0", "x2", "10", "y1", "10", "x1", "0"], ["y2", "10", "x2", "10", "y1", "0", "x1", "0"]], template: function MobileDrawerPanelComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵelementStart(0, "div", 0, 1);
        i0.ɵɵelementStart(2, "div", 2, 3);
        i0.ɵɵtemplate(4, MobileDrawerPanelComponent_div_4_Template, 7, 4, "div", 4);
        i0.ɵɵelementStart(5, "div", 5);
        i0.ɵɵlistener("click", function MobileDrawerPanelComponent_Template_div_click_5_listener($event) { return ctx._contentClick($event); });
        i0.ɵɵtemplate(6, MobileDrawerPanelComponent_ng_template_6_Template, 0, 0, "ng-template", null, 6, i0.ɵɵtemplateRefExtractor);
        i0.ɵɵelementEnd();
        i0.ɵɵelementEnd();
        i0.ɵɵelementEnd();
    } if (rf & 2) {
        i0.ɵɵadvance(2);
        i0.ɵɵpropertyInterpolate("id", ctx.options.id);
        i0.ɵɵproperty("ngStyle", ctx.position);
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("ngIf", ctx.options.showTitle);
    } }, directives: [i1.NgStyle, i1.NgIf], styles: [".sspanel[_ngcontent-%COMP%]{border:none}.sspanel_titlebar[_ngcontent-%COMP%]{background:#3880ff;height:44px}.sspanel_titlebar_text[_ngcontent-%COMP%]{text-align:center}.sspanel_titlebar_button[_ngcontent-%COMP%]{display:none}"] });
MobileDrawerPanelComponent = __decorate([
    ComponentRegister({
        uri: "epsgis-mobile-drawer-panel",
        path: "components/mobile/drawer-panel"
    })
], MobileDrawerPanelComponent);
export { MobileDrawerPanelComponent };
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(MobileDrawerPanelComponent, [{
        type: Component,
        args: [{
                selector: 'epsgis-mobile-drawer-panel',
                templateUrl: './drawer-panel.component.html',
                styleUrls: ['./drawer-panel.component.scss']
            }]
    }], function () { return [{ type: i0.Renderer2, decorators: [{
                type: Optional
            }] }, { type: i0.ChangeDetectorRef, decorators: [{
                type: Optional
            }] }]; }, null); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHJhd2VyLXBhbmVsLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2Vwc2dpcy9jb21wb25lbnRzL21vYmlsZS9kcmF3ZXItcGFuZWwvZHJhd2VyLXBhbmVsLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2Vwc2dpcy9jb21wb25lbnRzL21vYmlsZS9kcmF3ZXItcGFuZWwvZHJhd2VyLXBhbmVsLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBZ0MsTUFBTSxlQUFlLENBQUM7QUFDbEYsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDaEUsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBRTdELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQ25FLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGlEQUFpRCxDQUFDOzs7OztJQ0U1RSw2QkFBeUU7SUFDdkUsK0JBQzJDO0lBQXpDLG9QQUF3QztJQUN4QyxtQkFDaUQ7SUFEakQsK0JBQ2lEO0lBQy9DLDZCQUFlO0lBQ2IsK0JBQWtEO0lBQ3BELGlCQUFJO0lBQ04saUJBQU07SUFBQSxpQkFBTTtJQUNoQiwwQkFBZTs7O0lBUnlELGVBQXdDO0lBQXhDLHNFQUF3Qzs7OztJQVU5RywrQkFDMkM7SUFBekMsbVBBQXdDO0lBQ3hDLG1CQUNpRDtJQURqRCwrQkFDaUQ7SUFDL0MsNkJBQWU7SUFDYiwrQkFBa0Q7SUFDcEQsaUJBQUk7SUFDTixpQkFBTTtJQUFBLGlCQUFNOzs7SUFQd0QscUVBQXNDOzs7SUFaaEgsNkJBQTZDO0lBQzNDLG1IQVNlO0lBQ2Ysa0pBU2M7SUFHaEIsMEJBQWU7Ozs7SUF0QkUsZUFBZ0M7SUFBaEMsd0RBQWdDLGtCQUFBOzs7O0lB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RyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsY0FBYyxDQUFDLGFBQWEsRUFBRTtnQkFDcEQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUN0QjtRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztDQUVGLENBQUE7b0dBdkNZLDBCQUEwQjsrREFBMUIsMEJBQTBCO1FDZnZDLGlDQUE4QztRQUM1QyxpQ0FBdUU7UUFDckUsMkVBbUVNO1FBQ04sOEJBQThEO1FBQWpDLDBHQUFTLHlCQUFxQixJQUFFO1FBQzNELDRIQUEyQztRQUM3QyxpQkFBTTtRQUNSLGlCQUFNO1FBQ1IsaUJBQU07O1FBekUwQixlQUFtQjtRQUFuQiw4Q0FBbUI7UUFBQyxzQ0FBb0I7UUFDOUQsZUFBdUI7UUFBdkIsNENBQXVCOztBRGFwQiwwQkFBMEI7SUFUdEMsaUJBQWlCLENBQUM7UUFDakIsR0FBRyxFQUFFLDRCQUE0QjtRQUNqQyxJQUFJLEVBQUUsZ0NBQWdDO0tBQ3ZDLENBQUM7R0FNVywwQkFBMEIsQ0F1Q3RDO1NBdkNZLDBCQUEwQjt1RkFBMUIsMEJBQTBCO2NBTHRDLFNBQVM7ZUFBQztnQkFDVCxRQUFRLEVBQUUsNEJBQTRCO2dCQUN0QyxXQUFXLEVBQUUsK0JBQStCO2dCQUM1QyxTQUFTLEVBQUUsQ0FBQywrQkFBK0IsQ0FBQzthQUM3Qzs7c0JBSWMsUUFBUTs7c0JBQStCLFFBQVEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9wdGlvbmFsLCBSZW5kZXJlcjIsIENoYW5nZURldGVjdG9yUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBCYXNlTW9iaWxlUGFuZWxDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlLW1vYmlsZS1wYW5lbCc7XG5pbXBvcnQgeyBXaWRnZXRQb3NpdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9tb2RlbHMvYmFzZS13aWRnZXRcIjtcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IFBhbmVsSW5Nb2JpbGVTaG93TW9kZSB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9iYXNlLXBhbmVsJztcbmltcG9ydCB7IENvbXBvbmVudFJlZ2lzdGVyIH0gZnJvbSAnLi4vLi4vLi4vZGVjb3JhdG9yL2NvbXBvbmVudC1yZWdpc3Rlci5kZWNvcmF0b3InO1xuQENvbXBvbmVudFJlZ2lzdGVyKHtcbiAgdXJpOiBcImVwc2dpcy1tb2JpbGUtZHJhd2VyLXBhbmVsXCIsXG4gIHBhdGg6IFwiY29tcG9uZW50cy9tb2JpbGUvZHJhd2VyLXBhbmVsXCJcbn0pXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdlcHNnaXMtbW9iaWxlLWRyYXdlci1wYW5lbCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9kcmF3ZXItcGFuZWwuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9kcmF3ZXItcGFuZWwuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBNb2JpbGVEcmF3ZXJQYW5lbENvbXBvbmVudCBleHRlbmRzIEJhc2VNb2JpbGVQYW5lbENvbXBvbmVudCB7XG5cbiAgX3NzcGFuZWxPdmVybGF5Q2xpY2tIYW5kbGVyOiBGdW5jdGlvbjtcbiAgY29uc3RydWN0b3IoQE9wdGlvbmFsKCkgcHVibGljIF9yZW5kZXI6IFJlbmRlcmVyMiwgQE9wdGlvbmFsKCkgcHVibGljIGNkcjogQ2hhbmdlRGV0ZWN0b3JSZWYpIHtcbiAgICBzdXBlcihfcmVuZGVyLCBjZHIpO1xuICAgIHRoaXMuX21vYmlsZVNob3dNb2RlID0gUGFuZWxJbk1vYmlsZVNob3dNb2RlLmRyYXdlcjtcbiAgfVxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLl9zc3BhbmVsT3ZlcmxheUNsaWNrSGFuZGxlcigpO1xuICAgIHN1cGVyLm5nT25EZXN0cm95KCk7XG4gIH1cbiAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgLy/ljrvmjonmlLbnvKnmjInpkq5cbiAgICBvcHRpb25zLmJ1dHRvbkNvbGxhcHNlID0gZmFsc2U7XG4gICAgLy/ljrvmjonmnIDlpKfljJbmjInpkq5cbiAgICBvcHRpb25zLmJ1dHRvbk1heGltaXplID0gZmFsc2U7XG4gICAgc3VwZXIuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgfVxuICBfc2V0TW9iaWxlUG9zaXRpb24oKSB7XG4gICAgbGV0IF93aWR0aDogYW55ID0gXCI4MCVcIjtcbiAgICAvL+ayoeaciW1vYmlsZeiKgueCue+8jOaIluiAhW1vYmlsZeiKgueCueS4i+ayoeaciXBvc2l0aW9u5pe277yM6K6+572u5Li6ODAlXG4gICAgaWYgKHRoaXMud2lkZ2V0Q29uZmlnLm1vYmlsZSAmJiB0aGlzLndpZGdldENvbmZpZy5tb2JpbGUucG9zaXRpb24pIHtcbiAgICAgIGNvbnN0IG9iaiA9IHRoaXMuZ2V0V2lkdGhIZWlnaHQoKTtcbiAgICAgIGlmIChvYmoud2lkdGgpIHtcbiAgICAgICAgX3dpZHRoID0gb2JqLndpZHRoO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgX3BvcyA9IG5ldyBXaWRnZXRQb3NpdGlvbigwLCAwLCAwLCAyMCwgXCIxMDAlXCIsIF93aWR0aCk7XG4gICAgdGhpcy53aWRnZXRDb25maWcucG9zaXRpb24gPSBfcG9zO1xuICAgIC8v5Y675o6J6L655qGGXG4gICAgLy/ngrnlh7vpmLTlvbHml7Yg5YWz6ZetcGFuZWxcbiAgICB0aGlzLl9zc3BhbmVsT3ZlcmxheUNsaWNrSGFuZGxlciA9IHRoaXMuanNFdmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIHRoaXMuc3NwYW5lbE92ZXJsYXkubmF0aXZlRWxlbWVudCwgXCJjbGlja1wiLCAoZXZ0OiBhbnkpID0+IHtcbiAgICAgICAgaWYgKGV2dC50YXJnZXQgPT09IHRoaXMuc3NwYW5lbE92ZXJsYXkubmF0aXZlRWxlbWVudCkge1xuICAgICAgICAgIHRoaXMuY2xvc2VQYW5lbChldnQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG59XG4iLCI8ZGl2IGNsYXNzPVwic3NwYW5lbF9vdmVybGF5XCIgI3NzcGFuZWxfb3ZlcmxheT5cbiAgPGRpdiBjbGFzcz1cInNzcGFuZWxcIiAjc3NwYW5lbCBpZD1cInt7b3B0aW9ucy5pZH19XCIgW25nU3R5bGVdPVwicG9zaXRpb25cIj5cbiAgICA8ZGl2ICpuZ0lmPVwib3B0aW9ucy5zaG93VGl0bGVcIiBjbGFzcz1cInNzcGFuZWxfdGl0bGViYXIgc3NwYW5lbF90aXRsZWJhcl9kcmFnZ2FibGVcIiAjc3NwYW5lbF90aXRsZWJhclxuICAgICAgKG1vdXNlZG93bik9XCJfdGl0bGViYXJfTW91c2VEb3duKCRldmVudCk7XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwic3NwYW5lbF90aXRsZWJhcl90ZXh0XCI+XG4gICAgICAgIHt7b3B0aW9ucy50aXRsZX19PC9kaXY+XG4gICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwib3B0aW9ucy5idXR0b25Db2xsYXBzZVwiPlxuICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwid2luZG93U3RhdGU9PSdjb2xsYXBzZWQnOyBlbHNlIHNob3dDb2xsYXBzZWRCdXR0b25cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic3NwYW5lbF90aXRsZWJhcl9idXR0b24gc3NwYW5lbF90aXRsZWJhcl9idXR0b25fY29sbGFwc2VcIiB0aXRsZT1cInt7b3B0aW9ucy5idXR0b25VbkNvbGxhcHNlVGV4dH19XCJcbiAgICAgICAgICAgIChjbGljayk9XCJfYnV0dG9uQ29sbGFwc2VfQ2xpY2soJGV2ZW50KTtcIj5cbiAgICAgICAgICAgIDxzdmcgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDEwIDEwXCIgaGVpZ2h0PVwiMTAwJVwiIHdpZHRoPVwiMTAwJVwiPlxuICAgICAgICAgICAgICA8ZyBmaWxsPVwibm9uZVwiPlxuICAgICAgICAgICAgICAgIDxwb2x5bGluZSBwb2ludHM9XCIxLDMgOSwzIDUsOCAxLDMgOSwzXCI+PC9wb2x5bGluZT5cbiAgICAgICAgICAgICAgPC9nPlxuICAgICAgICAgICAgPC9zdmc+PC9kaXY+XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICA8bmctdGVtcGxhdGUgI3Nob3dDb2xsYXBzZWRCdXR0b24+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNzcGFuZWxfdGl0bGViYXJfYnV0dG9uIHNzcGFuZWxfdGl0bGViYXJfYnV0dG9uX2NvbGxhcHNlXCIgdGl0bGU9XCJ7e29wdGlvbnMuYnV0dG9uQ29sbGFwc2VUZXh0fX1cIlxuICAgICAgICAgICAgKGNsaWNrKT1cIl9idXR0b25Db2xsYXBzZV9DbGljaygkZXZlbnQpO1wiPlxuICAgICAgICAgICAgPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXG4gICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMTAgMTBcIiBoZWlnaHQ9XCIxMDAlXCIgd2lkdGg9XCIxMDAlXCI+XG4gICAgICAgICAgICAgIDxnIGZpbGw9XCJub25lXCI+XG4gICAgICAgICAgICAgICAgPHBvbHlsaW5lIHBvaW50cz1cIjEsNyA5LDcgNSwyIDEsNyA5LDdcIj48L3BvbHlsaW5lPlxuICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICA8L3N2Zz48L2Rpdj5cbiAgICAgICAgPC9uZy10ZW1wbGF0ZT5cblxuXG4gICAgICA8L25nLWNvbnRhaW5lcj5cblxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIm9wdGlvbnMuYnV0dG9uTWF4aW1pemVcIj5cbiAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIndpbmRvd1N0YXRlID09ICdtYXhpbWl6ZWQnOyBlbHNlIHNob3dNYXhpbWl6ZUJ1dHRvblwiPlxuXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNzcGFuZWxfdGl0bGViYXJfYnV0dG9uIHNzcGFuZWxfdGl0bGViYXJfYnV0dG9uX21heGltaXplXCIgdGl0bGU9XCJ7e29wdGlvbnMuYnV0dG9uVW5tYXhpbWl6ZVRleHR9fVwiXG4gICAgICAgICAgICAoY2xpY2spPVwiX2J1dHRvbk1heF9DbGljaygkZXZlbnQpO1wiPjxzdmcgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgICB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB2aWV3Qm94PVwiMCAwIDEwIDEwXCIgaGVpZ2h0PVwiMTAwJVwiIHdpZHRoPVwiMTAwJVwiPlxuICAgICAgICAgICAgICA8ZyBmaWxsPVwibm9uZVwiPlxuICAgICAgICAgICAgICAgIDxyZWN0IHg9XCIxXCIgeT1cIjNcIiBoZWlnaHQ9XCI2XCIgd2lkdGg9XCI2XCI+PC9yZWN0PlxuICAgICAgICAgICAgICAgIDxsaW5lIHkxPVwiM1wiIHgxPVwiM1wiIHkyPVwiMVwiIHgyPVwiM1wiPjwvbGluZT5cbiAgICAgICAgICAgICAgICA8bGluZSB5MT1cIjFcIiB4MT1cIjIuNVwiIHkyPVwiMVwiIHgyPVwiOS41XCI+PC9saW5lPlxuICAgICAgICAgICAgICAgIDxsaW5lIHkxPVwiMVwiIHgxPVwiOVwiIHkyPVwiN1wiIHgyPVwiOVwiPjwvbGluZT5cbiAgICAgICAgICAgICAgICA8bGluZSB5MT1cIjdcIiB4MT1cIjkuNVwiIHkyPVwiN1wiIHgyPVwiN1wiPjwvbGluZT5cbiAgICAgICAgICAgICAgPC9nPlxuICAgICAgICAgICAgPC9zdmc+PC9kaXY+XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICA8bmctdGVtcGxhdGUgI3Nob3dNYXhpbWl6ZUJ1dHRvbj5cblxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzc3BhbmVsX3RpdGxlYmFyX2J1dHRvbiBzc3BhbmVsX3RpdGxlYmFyX2J1dHRvbl9tYXhpbWl6ZVwiIHRpdGxlPVwie3tvcHRpb25zLmJ1dHRvbk1heGltaXplVGV4dH19XCJcbiAgICAgICAgICAgIChjbGljayk9XCJfYnV0dG9uTWF4X0NsaWNrKCRldmVudCk7XCI+PHN2ZyB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgICAgIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHZpZXdCb3g9XCIwIDAgMTAgMTBcIiBoZWlnaHQ9XCIxMDAlXCIgd2lkdGg9XCIxMDAlXCI+XG4gICAgICAgICAgICAgIDxnIGZpbGw9XCJub25lXCI+XG4gICAgICAgICAgICAgICAgPHJlY3QgeD1cIjFcIiB5PVwiMVwiIGhlaWdodD1cIjhcIiB3aWR0aD1cIjhcIj48L3JlY3Q+XG4gICAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICAgIDwvc3ZnPjwvZGl2PlxuICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgPC9uZy1jb250YWluZXI+XG5cbiAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJvcHRpb25zLmJ1dHRvbkNsb3NlXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzc3BhbmVsX3RpdGxlYmFyX2J1dHRvbiBzc3BhbmVsX3RpdGxlYmFyX2J1dHRvbl9jbG9zZVwiIHRpdGxlPVwie3tvcHRpb25zLmJ1dHRvbkNsb3NlVGV4dH19XCJcbiAgICAgICAgICAoY2xpY2spPVwiY2xvc2VQYW5lbCgkZXZlbnQpO1wiPlxuICAgICAgICAgIDxzdmcgdmVyc2lvbj1cIjEuMVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxuICAgICAgICAgICAgdmlld0JveD1cIjAgMCAxMCAxMFwiIGhlaWdodD1cIjEwMCVcIiB3aWR0aD1cIjEwMCVcIj5cbiAgICAgICAgICAgIDxnPlxuICAgICAgICAgICAgICA8bGluZSB5Mj1cIjBcIiB4Mj1cIjEwXCIgeTE9XCIxMFwiIHgxPVwiMFwiPjwvbGluZT5cbiAgICAgICAgICAgICAgPGxpbmUgeTI9XCIxMFwiIHgyPVwiMTBcIiB5MT1cIjBcIiB4MT1cIjBcIj48L2xpbmU+XG4gICAgICAgICAgICA8L2c+XG4gICAgICAgICAgPC9zdmc+PC9kaXY+XG4gICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwic3NwYW5lbF9jb250ZW50XCIgKGNsaWNrKT1cIl9jb250ZW50Q2xpY2soJGV2ZW50KTtcIj5cbiAgICAgIDxuZy10ZW1wbGF0ZSAjd2lkZ2V0X2NvbnRlbnQ+PC9uZy10ZW1wbGF0ZT5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj4iXX0=