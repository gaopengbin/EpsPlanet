import { __decorate } from "tslib";
import { Component, Optional } from '@angular/core';
import { BaseMobilePanelComponent } from '../base-mobile-panel';
import { WidgetPosition } from "../../../models/base-widget";
import { PanelInMobileShowMode } from '../../../models/base-panel';
import { ComponentRegister } from '../../../decorator/component-register.decorator';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
function MobileDrawerRightPanelComponent_div_4_ng_container_4_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    const _r13 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵelementStart(1, "div", 13);
    i0.ɵɵlistener("click", function MobileDrawerRightPanelComponent_div_4_ng_container_4_ng_container_1_Template_div_click_1_listener($event) { i0.ɵɵrestoreView(_r13); const ctx_r12 = i0.ɵɵnextContext(3); return ctx_r12._buttonCollapse_Click($event); });
    i0.ɵɵnamespaceSVG();
    i0.ɵɵelementStart(2, "svg", 14);
    i0.ɵɵelementStart(3, "g", 15);
    i0.ɵɵelement(4, "polyline", 16);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r9 = i0.ɵɵnextContext(3);
    i0.ɵɵadvance(1);
    i0.ɵɵpropertyInterpolate("title", ctx_r9.options.buttonUnCollapseText);
} }
function MobileDrawerRightPanelComponent_div_4_ng_container_4_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    const _r15 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 13);
    i0.ɵɵlistener("click", function MobileDrawerRightPanelComponent_div_4_ng_container_4_ng_template_2_Template_div_click_0_listener($event) { i0.ɵɵrestoreView(_r15); const ctx_r14 = i0.ɵɵnextContext(3); return ctx_r14._buttonCollapse_Click($event); });
    i0.ɵɵnamespaceSVG();
    i0.ɵɵelementStart(1, "svg", 14);
    i0.ɵɵelementStart(2, "g", 15);
    i0.ɵɵelement(3, "polyline", 17);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r11 = i0.ɵɵnextContext(3);
    i0.ɵɵpropertyInterpolate("title", ctx_r11.options.buttonCollapseText);
} }
function MobileDrawerRightPanelComponent_div_4_ng_container_4_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtemplate(1, MobileDrawerRightPanelComponent_div_4_ng_container_4_ng_container_1_Template, 5, 1, "ng-container", 11);
    i0.ɵɵtemplate(2, MobileDrawerRightPanelComponent_div_4_ng_container_4_ng_template_2_Template, 4, 1, "ng-template", null, 12, i0.ɵɵtemplateRefExtractor);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const _r10 = i0.ɵɵreference(3);
    const ctx_r6 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r6.windowState == "collapsed")("ngIfElse", _r10);
} }
function MobileDrawerRightPanelComponent_div_4_ng_container_5_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    const _r20 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵelementStart(1, "div", 19);
    i0.ɵɵlistener("click", function MobileDrawerRightPanelComponent_div_4_ng_container_5_ng_container_1_Template_div_click_1_listener($event) { i0.ɵɵrestoreView(_r20); const ctx_r19 = i0.ɵɵnextContext(3); return ctx_r19._buttonMax_Click($event); });
    i0.ɵɵnamespaceSVG();
    i0.ɵɵelementStart(2, "svg", 14);
    i0.ɵɵelementStart(3, "g", 15);
    i0.ɵɵelement(4, "rect", 20);
    i0.ɵɵelement(5, "line", 21);
    i0.ɵɵelement(6, "line", 22);
    i0.ɵɵelement(7, "line", 23);
    i0.ɵɵelement(8, "line", 24);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r16 = i0.ɵɵnextContext(3);
    i0.ɵɵadvance(1);
    i0.ɵɵpropertyInterpolate("title", ctx_r16.options.buttonUnmaximizeText);
} }
function MobileDrawerRightPanelComponent_div_4_ng_container_5_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    const _r22 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 19);
    i0.ɵɵlistener("click", function MobileDrawerRightPanelComponent_div_4_ng_container_5_ng_template_2_Template_div_click_0_listener($event) { i0.ɵɵrestoreView(_r22); const ctx_r21 = i0.ɵɵnextContext(3); return ctx_r21._buttonMax_Click($event); });
    i0.ɵɵnamespaceSVG();
    i0.ɵɵelementStart(1, "svg", 14);
    i0.ɵɵelementStart(2, "g", 15);
    i0.ɵɵelement(3, "rect", 25);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r18 = i0.ɵɵnextContext(3);
    i0.ɵɵpropertyInterpolate("title", ctx_r18.options.buttonMaximizeText);
} }
function MobileDrawerRightPanelComponent_div_4_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵtemplate(1, MobileDrawerRightPanelComponent_div_4_ng_container_5_ng_container_1_Template, 9, 1, "ng-container", 11);
    i0.ɵɵtemplate(2, MobileDrawerRightPanelComponent_div_4_ng_container_5_ng_template_2_Template, 4, 1, "ng-template", null, 18, i0.ɵɵtemplateRefExtractor);
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const _r17 = i0.ɵɵreference(3);
    const ctx_r7 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r7.windowState == "maximized")("ngIfElse", _r17);
} }
function MobileDrawerRightPanelComponent_div_4_ng_container_6_Template(rf, ctx) { if (rf & 1) {
    const _r24 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementContainerStart(0);
    i0.ɵɵelementStart(1, "div", 26);
    i0.ɵɵlistener("click", function MobileDrawerRightPanelComponent_div_4_ng_container_6_Template_div_click_1_listener($event) { i0.ɵɵrestoreView(_r24); const ctx_r23 = i0.ɵɵnextContext(2); return ctx_r23.closePanel($event); });
    i0.ɵɵnamespaceSVG();
    i0.ɵɵelementStart(2, "svg", 14);
    i0.ɵɵelementStart(3, "g");
    i0.ɵɵelement(4, "line", 27);
    i0.ɵɵelement(5, "line", 28);
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
    i0.ɵɵelementEnd();
    i0.ɵɵelementContainerEnd();
} if (rf & 2) {
    const ctx_r8 = i0.ɵɵnextContext(2);
    i0.ɵɵadvance(1);
    i0.ɵɵpropertyInterpolate("title", ctx_r8.options.buttonCloseText);
} }
function MobileDrawerRightPanelComponent_div_4_Template(rf, ctx) { if (rf & 1) {
    const _r26 = i0.ɵɵgetCurrentView();
    i0.ɵɵelementStart(0, "div", 7, 8);
    i0.ɵɵlistener("mousedown", function MobileDrawerRightPanelComponent_div_4_Template_div_mousedown_0_listener($event) { i0.ɵɵrestoreView(_r26); const ctx_r25 = i0.ɵɵnextContext(); return ctx_r25._titlebar_MouseDown($event); });
    i0.ɵɵelementStart(2, "div", 9);
    i0.ɵɵtext(3);
    i0.ɵɵelementEnd();
    i0.ɵɵtemplate(4, MobileDrawerRightPanelComponent_div_4_ng_container_4_Template, 4, 2, "ng-container", 10);
    i0.ɵɵtemplate(5, MobileDrawerRightPanelComponent_div_4_ng_container_5_Template, 4, 2, "ng-container", 10);
    i0.ɵɵtemplate(6, MobileDrawerRightPanelComponent_div_4_ng_container_6_Template, 6, 1, "ng-container", 10);
    i0.ɵɵelementEnd();
} if (rf & 2) {
    const ctx_r2 = i0.ɵɵnextContext();
    i0.ɵɵadvance(3);
    i0.ɵɵtextInterpolate1(" ", ctx_r2.options.title, "");
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r2.options.buttonCollapse);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r2.options.buttonMaximize);
    i0.ɵɵadvance(1);
    i0.ɵɵproperty("ngIf", ctx_r2.options.buttonClose);
} }
function MobileDrawerRightPanelComponent_ng_template_6_Template(rf, ctx) { }
let MobileDrawerRightPanelComponent = class MobileDrawerRightPanelComponent extends BaseMobilePanelComponent {
    constructor(_render, cdr) {
        super(_render, cdr);
        this._render = _render;
        this.cdr = cdr;
        this._mobileShowMode = PanelInMobileShowMode.drawerRight;
    }
    ngOnDestroy() {
        this._sspanelOverlayClickHandler();
        super.ngOnDestroy();
    }
    setOptions(options) {
        options.buttonCollapse = false;
        options.buttonMaximize = false;
        super.setOptions(options);
    }
    _setMobilePosition() {
        let _width = "80%";
        if (this.widgetConfig.mobile && this.widgetConfig.mobile.position) {
            const obj = this.getWidthHeight();
            if (obj.width) {
                _width = obj.width;
            }
        }
        let _pos = new WidgetPosition(0, "auto", 0, 0, "100%", _width);
        this.widgetConfig.position = _pos;
        this._sspanelOverlayClickHandler = this.jsEventManager.addEventListener(this.sspanelOverlay.nativeElement, "click", (evt) => {
            if (evt.target === this.sspanelOverlay.nativeElement) {
                this.closePanel(evt);
            }
        });
    }
};
MobileDrawerRightPanelComponent.ɵfac = function MobileDrawerRightPanelComponent_Factory(t) { return new (t || MobileDrawerRightPanelComponent)(i0.ɵɵdirectiveInject(i0.Renderer2, 8), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef, 8)); };
MobileDrawerRightPanelComponent.ɵcmp = i0.ɵɵdefineComponent({ type: MobileDrawerRightPanelComponent, selectors: [["epsgis-mobile-drawer-right-panel"]], features: [i0.ɵɵInheritDefinitionFeature], decls: 8, vars: 3, consts: [[1, "sspanel_overlay"], ["sspanel_overlay", ""], [1, "sspanel", 3, "id", "ngStyle"], ["sspanel", ""], ["class", "sspanel_titlebar sspanel_titlebar_draggable", 3, "mousedown", 4, "ngIf"], [1, "sspanel_content", 3, "click"], ["widget_content", ""], [1, "sspanel_titlebar", "sspanel_titlebar_draggable", 3, "mousedown"], ["sspanel_titlebar", ""], [1, "sspanel_titlebar_text"], [4, "ngIf"], [4, "ngIf", "ngIfElse"], ["showCollapsedButton", ""], [1, "sspanel_titlebar_button", "sspanel_titlebar_button_collapse", 3, "title", "click"], ["version", "1.1", "xmlns", "http://www.w3.org/2000/svg", 0, "xmlns", "xlink", "http://www.w3.org/1999/xlink", "viewBox", "0 0 10 10", "height", "100%", "width", "100%"], ["fill", "none"], ["points", "1,3 9,3 5,8 1,3 9,3"], ["points", "1,7 9,7 5,2 1,7 9,7"], ["showMaximizeButton", ""], [1, "sspanel_titlebar_button", "sspanel_titlebar_button_maximize", 3, "title", "click"], ["x", "1", "y", "3", "height", "6", "width", "6"], ["y1", "3", "x1", "3", "y2", "1", "x2", "3"], ["y1", "1", "x1", "2.5", "y2", "1", "x2", "9.5"], ["y1", "1", "x1", "9", "y2", "7", "x2", "9"], ["y1", "7", "x1", "9.5", "y2", "7", "x2", "7"], ["x", "1", "y", "1", "height", "8", "width", "8"], [1, "sspanel_titlebar_button", "sspanel_titlebar_button_close", 3, "title", "click"], ["y2", "0", "x2", "10", "y1", "10", "x1", "0"], ["y2", "10", "x2", "10", "y1", "0", "x1", "0"]], template: function MobileDrawerRightPanelComponent_Template(rf, ctx) { if (rf & 1) {
        i0.ɵɵelementStart(0, "div", 0, 1);
        i0.ɵɵelementStart(2, "div", 2, 3);
        i0.ɵɵtemplate(4, MobileDrawerRightPanelComponent_div_4_Template, 7, 4, "div", 4);
        i0.ɵɵelementStart(5, "div", 5);
        i0.ɵɵlistener("click", function MobileDrawerRightPanelComponent_Template_div_click_5_listener($event) { return ctx._contentClick($event); });
        i0.ɵɵtemplate(6, MobileDrawerRightPanelComponent_ng_template_6_Template, 0, 0, "ng-template", null, 6, i0.ɵɵtemplateRefExtractor);
        i0.ɵɵelementEnd();
        i0.ɵɵelementEnd();
        i0.ɵɵelementEnd();
    } if (rf & 2) {
        i0.ɵɵadvance(2);
        i0.ɵɵpropertyInterpolate("id", ctx.options.id);
        i0.ɵɵproperty("ngStyle", ctx.position);
        i0.ɵɵadvance(2);
        i0.ɵɵproperty("ngIf", ctx.options.showTitle);
    } }, directives: [i1.NgStyle, i1.NgIf], styles: [".sspanel[_ngcontent-%COMP%]{border:none}.sspanel_titlebar[_ngcontent-%COMP%]{background:linear-gradient(270deg,#5677fc,#50bfff)}.sspanel_titlebar_text[_ngcontent-%COMP%]{order:5;text-align:right}.sspanel_titlebar_button[_ngcontent-%COMP%]{order:1}.sspanel_titlebar_button_collapse[_ngcontent-%COMP%]{order:3}.sspanel_titlebar_button_maximize[_ngcontent-%COMP%]{order:2}.sspanel_titlebar[_ngcontent-%COMP%]{background:#3880ff;height:44px}.sspanel_titlebar_text[_ngcontent-%COMP%]{text-align:center}.sspanel_titlebar_button[_ngcontent-%COMP%]{display:none}"] });
MobileDrawerRightPanelComponent = __decorate([
    ComponentRegister({
        uri: 'epsgis-mobile-drawer-right-panel',
        path: "components/mobile/drawer-panel-right"
    })
], MobileDrawerRightPanelComponent);
export { MobileDrawerRightPanelComponent };
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(MobileDrawerRightPanelComponent, [{
        type: Component,
        args: [{
                selector: 'epsgis-mobile-drawer-right-panel',
                templateUrl: './drawer-panel-right.component.html',
                styleUrls: ['./drawer-panel-right.component.scss']
            }]
    }], function () { return [{ type: i0.Renderer2, decorators: [{
                type: Optional
            }] }, { type: i0.ChangeDetectorRef, decorators: [{
                type: Optional
            }] }]; }, null); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHJhd2VyLXBhbmVsLXJpZ2h0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2Vwc2dpcy9jb21wb25lbnRzL21vYmlsZS9kcmF3ZXItcGFuZWwtcmlnaHQvZHJhd2VyLXBhbmVsLXJpZ2h0LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2Vwc2dpcy9jb21wb25lbnRzL21vYmlsZS9kcmF3ZXItcGFuZWwtcmlnaHQvZHJhd2VyLXBhbmVsLXJpZ2h0LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBZ0MsTUFBTSxlQUFlLENBQUM7QUFDbEYsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDaEUsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBRTdELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQ25FLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGlEQUFpRCxDQUFDOzs7OztJQ0U1RSw2QkFBeUU7SUFDdkUsK0JBQzJDO0lBQXpDLHlQQUF3QztJQUN4QyxtQkFDaUQ7SUFEakQsK0JBQ2lEO0lBQy9DLDZCQUFlO0lBQ2IsK0JBQWtEO0lBQ3BELGlCQUFJO0lBQ04saUJBQU07SUFBQSxpQkFBTTtJQUNoQiwwQkFBZTs7O0lBUnlELGVBQXdDO0lBQXhDLHNFQUF3Qzs7OztJQVU5RywrQkFDMkM7SUFBekMsd1BBQXdDO0lBQ3hDLG1CQUNpRDtJQURqRCwrQkFDaUQ7SUFDL0MsNkJBQWU7SUFDYiwrQkFBa0Q7SUFDcEQsaUJBQUk7SUFDTixpQkFBTTtJQUFBLGlCQUFNOzs7SUFQd0QscUVBQXNDOzs7SUFaaEgsNkJBQTZDO0lBQzNDLHdIQVNlO0lBQ2YsdUpBU2M7SUFHaEIsMEJBQWU7Ozs7SUF0QkUs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LEdBQVEsRUFBRSxFQUFFO1lBQ3ZELElBQUksR0FBRyxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsY0FBYyxDQUFDLGFBQWEsRUFBRTtnQkFDcEQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUN0QjtRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztDQUVGLENBQUE7OEdBdkNZLCtCQUErQjtvRUFBL0IsK0JBQStCO1FDZjVDLGlDQUE4QztRQUM1QyxpQ0FBdUU7UUFDckUsZ0ZBbUVNO1FBQ04sOEJBQThEO1FBQWpDLCtHQUFTLHlCQUFxQixJQUFFO1FBQzNELGlJQUEyQztRQUM3QyxpQkFBTTtRQUNSLGlCQUFNO1FBQ1IsaUJBQU07O1FBekUwQixlQUFtQjtRQUFuQiw4Q0FBbUI7UUFBQyxzQ0FBb0I7UUFDOUQsZUFBdUI7UUFBdkIsNENBQXVCOztBRGFwQiwrQkFBK0I7SUFUM0MsaUJBQWlCLENBQUM7UUFDakIsR0FBRyxFQUFFLGtDQUFrQztRQUN2QyxJQUFJLEVBQUUsc0NBQXNDO0tBQzdDLENBQUM7R0FNVywrQkFBK0IsQ0F1QzNDO1NBdkNZLCtCQUErQjt1RkFBL0IsK0JBQStCO2NBTDNDLFNBQVM7ZUFBQztnQkFDVCxRQUFRLEVBQUUsa0NBQWtDO2dCQUM1QyxXQUFXLEVBQUUscUNBQXFDO2dCQUNsRCxTQUFTLEVBQUUsQ0FBQyxxQ0FBcUMsQ0FBQzthQUNuRDs7c0JBSWMsUUFBUTs7c0JBQStCLFFBQVEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9wdGlvbmFsLCBSZW5kZXJlcjIsIENoYW5nZURldGVjdG9yUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBCYXNlTW9iaWxlUGFuZWxDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlLW1vYmlsZS1wYW5lbCc7XG5pbXBvcnQgeyBXaWRnZXRQb3NpdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9tb2RlbHMvYmFzZS13aWRnZXRcIjtcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IFBhbmVsSW5Nb2JpbGVTaG93TW9kZSB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9iYXNlLXBhbmVsJztcbmltcG9ydCB7IENvbXBvbmVudFJlZ2lzdGVyIH0gZnJvbSAnLi4vLi4vLi4vZGVjb3JhdG9yL2NvbXBvbmVudC1yZWdpc3Rlci5kZWNvcmF0b3InO1xuQENvbXBvbmVudFJlZ2lzdGVyKHtcbiAgdXJpOiAnZXBzZ2lzLW1vYmlsZS1kcmF3ZXItcmlnaHQtcGFuZWwnLFxuICBwYXRoOiBcImNvbXBvbmVudHMvbW9iaWxlL2RyYXdlci1wYW5lbC1yaWdodFwiXG59KVxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnZXBzZ2lzLW1vYmlsZS1kcmF3ZXItcmlnaHQtcGFuZWwnLFxuICB0ZW1wbGF0ZVVybDogJy4vZHJhd2VyLXBhbmVsLXJpZ2h0LmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vZHJhd2VyLXBhbmVsLXJpZ2h0LmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgTW9iaWxlRHJhd2VyUmlnaHRQYW5lbENvbXBvbmVudCBleHRlbmRzIEJhc2VNb2JpbGVQYW5lbENvbXBvbmVudCB7XG4gIC8vIHVzZUlvbmljQ3NzOmJvb2xlYW49dHJ1ZTtcbiAgX3NzcGFuZWxPdmVybGF5Q2xpY2tIYW5kbGVyOiBGdW5jdGlvbjtcbiAgY29uc3RydWN0b3IoQE9wdGlvbmFsKCkgcHVibGljIF9yZW5kZXI6IFJlbmRlcmVyMiwgQE9wdGlvbmFsKCkgcHVibGljIGNkcjogQ2hhbmdlRGV0ZWN0b3JSZWYpIHtcbiAgICBzdXBlcihfcmVuZGVyLCBjZHIpO1xuICAgIHRoaXMuX21vYmlsZVNob3dNb2RlID0gUGFuZWxJbk1vYmlsZVNob3dNb2RlLmRyYXdlclJpZ2h0O1xuICB9XG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuX3NzcGFuZWxPdmVybGF5Q2xpY2tIYW5kbGVyKCk7XG4gICAgc3VwZXIubmdPbkRlc3Ryb3koKTtcbiAgfVxuICBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAvL+WOu+aOieaUtue8qeaMiemSrlxuICAgIG9wdGlvbnMuYnV0dG9uQ29sbGFwc2UgPSBmYWxzZTtcbiAgICAvL+WOu+aOieacgOWkp+WMluaMiemSrlxuICAgIG9wdGlvbnMuYnV0dG9uTWF4aW1pemUgPSBmYWxzZTtcbiAgICBzdXBlci5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICB9XG4gIF9zZXRNb2JpbGVQb3NpdGlvbigpIHtcbiAgICBsZXQgX3dpZHRoOiBhbnkgPSBcIjgwJVwiO1xuICAgIC8v5rKh5pyJbW9iaWxl6IqC54K577yM5oiW6ICFbW9iaWxl6IqC54K55LiL5rKh5pyJcG9zaXRpb27ml7bvvIzorr7nva7kuLo4MCVcbiAgICBpZiAodGhpcy53aWRnZXRDb25maWcubW9iaWxlICYmIHRoaXMud2lkZ2V0Q29uZmlnLm1vYmlsZS5wb3NpdGlvbikge1xuICAgICAgY29uc3Qgb2JqID0gdGhpcy5nZXRXaWR0aEhlaWdodCgpO1xuICAgICAgaWYgKG9iai53aWR0aCkge1xuICAgICAgICBfd2lkdGggPSBvYmoud2lkdGg7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBfcG9zID0gbmV3IFdpZGdldFBvc2l0aW9uKDAsIFwiYXV0b1wiLCAwLCAwLCBcIjEwMCVcIiwgX3dpZHRoKTtcbiAgICB0aGlzLndpZGdldENvbmZpZy5wb3NpdGlvbiA9IF9wb3M7XG4gICAgLy/ljrvmjonovrnmoYZcbiAgICAvL+eCueWHu+mYtOW9seaXtiDlhbPpl61wYW5lbFxuICAgIHRoaXMuX3NzcGFuZWxPdmVybGF5Q2xpY2tIYW5kbGVyID0gdGhpcy5qc0V2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgdGhpcy5zc3BhbmVsT3ZlcmxheS5uYXRpdmVFbGVtZW50LCBcImNsaWNrXCIsIChldnQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAoZXZ0LnRhcmdldCA9PT0gdGhpcy5zc3BhbmVsT3ZlcmxheS5uYXRpdmVFbGVtZW50KSB7XG4gICAgICAgICAgdGhpcy5jbG9zZVBhbmVsKGV2dCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbn1cbiIsIjxkaXYgY2xhc3M9XCJzc3BhbmVsX292ZXJsYXlcIiAjc3NwYW5lbF9vdmVybGF5PlxuICA8ZGl2IGNsYXNzPVwic3NwYW5lbFwiICNzc3BhbmVsIGlkPVwie3tvcHRpb25zLmlkfX1cIiBbbmdTdHlsZV09XCJwb3NpdGlvblwiPlxuICAgIDxkaXYgKm5nSWY9XCJvcHRpb25zLnNob3dUaXRsZVwiIGNsYXNzPVwic3NwYW5lbF90aXRsZWJhciBzc3BhbmVsX3RpdGxlYmFyX2RyYWdnYWJsZVwiICNzc3BhbmVsX3RpdGxlYmFyXG4gICAgICAobW91c2Vkb3duKT1cIl90aXRsZWJhcl9Nb3VzZURvd24oJGV2ZW50KTtcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJzc3BhbmVsX3RpdGxlYmFyX3RleHRcIj5cbiAgICAgICAge3tvcHRpb25zLnRpdGxlfX08L2Rpdj5cbiAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJvcHRpb25zLmJ1dHRvbkNvbGxhcHNlXCI+XG4gICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJ3aW5kb3dTdGF0ZT09J2NvbGxhcHNlZCc7IGVsc2Ugc2hvd0NvbGxhcHNlZEJ1dHRvblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzc3BhbmVsX3RpdGxlYmFyX2J1dHRvbiBzc3BhbmVsX3RpdGxlYmFyX2J1dHRvbl9jb2xsYXBzZVwiIHRpdGxlPVwie3tvcHRpb25zLmJ1dHRvblVuQ29sbGFwc2VUZXh0fX1cIlxuICAgICAgICAgICAgKGNsaWNrKT1cIl9idXR0b25Db2xsYXBzZV9DbGljaygkZXZlbnQpO1wiPlxuICAgICAgICAgICAgPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXG4gICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMTAgMTBcIiBoZWlnaHQ9XCIxMDAlXCIgd2lkdGg9XCIxMDAlXCI+XG4gICAgICAgICAgICAgIDxnIGZpbGw9XCJub25lXCI+XG4gICAgICAgICAgICAgICAgPHBvbHlsaW5lIHBvaW50cz1cIjEsMyA5LDMgNSw4IDEsMyA5LDNcIj48L3BvbHlsaW5lPlxuICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICA8L3N2Zz48L2Rpdj5cbiAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgIDxuZy10ZW1wbGF0ZSAjc2hvd0NvbGxhcHNlZEJ1dHRvbj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic3NwYW5lbF90aXRsZWJhcl9idXR0b24gc3NwYW5lbF90aXRsZWJhcl9idXR0b25fY29sbGFwc2VcIiB0aXRsZT1cInt7b3B0aW9ucy5idXR0b25Db2xsYXBzZVRleHR9fVwiXG4gICAgICAgICAgICAoY2xpY2spPVwiX2J1dHRvbkNvbGxhcHNlX0NsaWNrKCRldmVudCk7XCI+XG4gICAgICAgICAgICA8c3ZnIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcbiAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAxMCAxMFwiIGhlaWdodD1cIjEwMCVcIiB3aWR0aD1cIjEwMCVcIj5cbiAgICAgICAgICAgICAgPGcgZmlsbD1cIm5vbmVcIj5cbiAgICAgICAgICAgICAgICA8cG9seWxpbmUgcG9pbnRzPVwiMSw3IDksNyA1LDIgMSw3IDksN1wiPjwvcG9seWxpbmU+XG4gICAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICAgIDwvc3ZnPjwvZGl2PlxuICAgICAgICA8L25nLXRlbXBsYXRlPlxuXG5cbiAgICAgIDwvbmctY29udGFpbmVyPlxuXG4gICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwib3B0aW9ucy5idXR0b25NYXhpbWl6ZVwiPlxuICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwid2luZG93U3RhdGUgPT0gJ21heGltaXplZCc7IGVsc2Ugc2hvd01heGltaXplQnV0dG9uXCI+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic3NwYW5lbF90aXRsZWJhcl9idXR0b24gc3NwYW5lbF90aXRsZWJhcl9idXR0b25fbWF4aW1pemVcIiB0aXRsZT1cInt7b3B0aW9ucy5idXR0b25Vbm1heGltaXplVGV4dH19XCJcbiAgICAgICAgICAgIChjbGljayk9XCJfYnV0dG9uTWF4X0NsaWNrKCRldmVudCk7XCI+PHN2ZyB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgICAgIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHZpZXdCb3g9XCIwIDAgMTAgMTBcIiBoZWlnaHQ9XCIxMDAlXCIgd2lkdGg9XCIxMDAlXCI+XG4gICAgICAgICAgICAgIDxnIGZpbGw9XCJub25lXCI+XG4gICAgICAgICAgICAgICAgPHJlY3QgeD1cIjFcIiB5PVwiM1wiIGhlaWdodD1cIjZcIiB3aWR0aD1cIjZcIj48L3JlY3Q+XG4gICAgICAgICAgICAgICAgPGxpbmUgeTE9XCIzXCIgeDE9XCIzXCIgeTI9XCIxXCIgeDI9XCIzXCI+PC9saW5lPlxuICAgICAgICAgICAgICAgIDxsaW5lIHkxPVwiMVwiIHgxPVwiMi41XCIgeTI9XCIxXCIgeDI9XCI5LjVcIj48L2xpbmU+XG4gICAgICAgICAgICAgICAgPGxpbmUgeTE9XCIxXCIgeDE9XCI5XCIgeTI9XCI3XCIgeDI9XCI5XCI+PC9saW5lPlxuICAgICAgICAgICAgICAgIDxsaW5lIHkxPVwiN1wiIHgxPVwiOS41XCIgeTI9XCI3XCIgeDI9XCI3XCI+PC9saW5lPlxuICAgICAgICAgICAgICA8L2c+XG4gICAgICAgICAgICA8L3N2Zz48L2Rpdj5cbiAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgIDxuZy10ZW1wbGF0ZSAjc2hvd01heGltaXplQnV0dG9uPlxuXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNzcGFuZWxfdGl0bGViYXJfYnV0dG9uIHNzcGFuZWxfdGl0bGViYXJfYnV0dG9uX21heGltaXplXCIgdGl0bGU9XCJ7e29wdGlvbnMuYnV0dG9uTWF4aW1pemVUZXh0fX1cIlxuICAgICAgICAgICAgKGNsaWNrKT1cIl9idXR0b25NYXhfQ2xpY2soJGV2ZW50KTtcIj48c3ZnIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgICAgICAgICAgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgdmlld0JveD1cIjAgMCAxMCAxMFwiIGhlaWdodD1cIjEwMCVcIiB3aWR0aD1cIjEwMCVcIj5cbiAgICAgICAgICAgICAgPGcgZmlsbD1cIm5vbmVcIj5cbiAgICAgICAgICAgICAgICA8cmVjdCB4PVwiMVwiIHk9XCIxXCIgaGVpZ2h0PVwiOFwiIHdpZHRoPVwiOFwiPjwvcmVjdD5cbiAgICAgICAgICAgICAgPC9nPlxuICAgICAgICAgICAgPC9zdmc+PC9kaXY+XG4gICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICA8L25nLWNvbnRhaW5lcj5cblxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIm9wdGlvbnMuYnV0dG9uQ2xvc2VcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNzcGFuZWxfdGl0bGViYXJfYnV0dG9uIHNzcGFuZWxfdGl0bGViYXJfYnV0dG9uX2Nsb3NlXCIgdGl0bGU9XCJ7e29wdGlvbnMuYnV0dG9uQ2xvc2VUZXh0fX1cIlxuICAgICAgICAgIChjbGljayk9XCJjbG9zZVBhbmVsKCRldmVudCk7XCI+XG4gICAgICAgICAgPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXG4gICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDEwIDEwXCIgaGVpZ2h0PVwiMTAwJVwiIHdpZHRoPVwiMTAwJVwiPlxuICAgICAgICAgICAgPGc+XG4gICAgICAgICAgICAgIDxsaW5lIHkyPVwiMFwiIHgyPVwiMTBcIiB5MT1cIjEwXCIgeDE9XCIwXCI+PC9saW5lPlxuICAgICAgICAgICAgICA8bGluZSB5Mj1cIjEwXCIgeDI9XCIxMFwiIHkxPVwiMFwiIHgxPVwiMFwiPjwvbGluZT5cbiAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICA8L3N2Zz48L2Rpdj5cbiAgICAgIDwvbmctY29udGFpbmVyPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJzc3BhbmVsX2NvbnRlbnRcIiAoY2xpY2spPVwiX2NvbnRlbnRDbGljaygkZXZlbnQpO1wiPlxuICAgICAgPG5nLXRlbXBsYXRlICN3aWRnZXRfY29udGVudD48L25nLXRlbXBsYXRlPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PiJdfQ==