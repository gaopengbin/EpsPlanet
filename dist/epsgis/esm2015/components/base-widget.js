import { Directive } from "@angular/core";
import * as _ from 'lodash';
import { WidgetPosition, WidgetState, WidgetType, WidgetWindowState } from "../models/base-widget";
import * as i0 from "@angular/core";
export class BaseWidget {
    constructor() {
        this.type = WidgetType.widget;
        this.id = "";
        this.label = undefined;
        this.icon = undefined;
        this.uri = undefined;
        this.originPosition = new WidgetPosition();
        this.position = new WidgetPosition();
        this.config = undefined;
        this.openAtStart = false;
        this.map = null;
        this.view = null;
        this.appConfig = null;
        this.folderUrl = null;
        this.state = WidgetState.closed;
        this.windowState = WidgetWindowState.normal;
        this.started = false;
        this.name = '';
        this.moveTopOnActive = true;
        this.widgetConfig = null;
        this.configId = null;
        this.style = "";
        this.title = "";
        this.tooltip = "";
        this.reqPara = undefined;
        this.gid = "";
        this.inPanel = true;
        this.isOnScreen = true;
        this.minZindex = 102;
        this._compInfo = { uri: "", name: "BaseWidgetComponent", path: "" };
    }
    afterNgOnInit() {
    }
    afterNgAfterViewInit() {
    }
    ngOnInit() {
        this.afterNgOnInit();
    }
    ngAfterViewInit() {
        this.afterNgAfterViewInit();
    }
    ngOnDestroy() {
    }
    getCompInfo() {
        return this._compInfo;
    }
    setServiceInjector(serviceInjector) {
        if (!serviceInjector)
            return;
        this.globalParams = serviceInjector.config;
        this.utils = serviceInjector.utils;
        this.commonService = serviceInjector.commonService;
        this.httpService = serviceInjector.httpService;
        this.configLoader = serviceInjector.configLoader;
        this.configManager = serviceInjector.configManager;
        this.mapManager = serviceInjector.mapManager;
        this.panelManager = serviceInjector.panelManager;
        this.widgetManager = serviceInjector.widgetManager;
        this.widgetPlaceHolder = serviceInjector.widgetPlaceHolder;
        this.layoutManager = serviceInjector.layoutManager;
        this.eventService = this.layoutManager.eventService;
        this.jsEventManager = serviceInjector.jsEventManager;
        this.componentLoader = serviceInjector.componentManager;
        this.modalManager = serviceInjector.modalManaer;
        this.settingService = serviceInjector.settingService;
    }
    setPosition(positionConfig) {
        this.position = this.commonService.getPosition(positionConfig);
        this.originPosition = _.cloneDeep(this.position);
    }
    changePosition(positionConfig) {
        this.position = this.commonService.getPosition(positionConfig);
    }
    setState(state) {
        this.state = state;
    }
    startup() {
        this.started = true;
    }
    onOpen() {
        this.state = WidgetState.opened;
    }
    resize(position) {
    }
    onDeActive() {
    }
    onClose() {
        this.state = WidgetState.closed;
    }
    onAction(name, data) {
    }
    setZIndex(index) {
        switch (index) {
            case "active":
                this.position.zIndex = this.minZindex;
                break;
            case "deactive":
                this.position.zIndex = "auto";
                break;
            default:
                this.position.zIndex = index;
                break;
        }
    }
    onNormalize() {
    }
    onMinimize() { }
    onMaximize() {
    }
    changeMap(map) {
        this.map = map;
        this.eventService.rss.emit(this.eventService._mapChanged, map);
    }
    onMapChange(map) {
    }
    changeView(view) {
        this.view = view;
        this.eventService.rss.emit(this.eventService._viewChanged, view);
    }
    onViewChange(view) {
    }
    get isSettingMode() {
        var _a;
        return ((_a = this.globalParams) === null || _a === void 0 ? void 0 : _a.urlParams["mode"]) === "config";
    }
}
BaseWidget.ɵfac = function BaseWidget_Factory(t) { return new (t || BaseWidget)(); };
BaseWidget.ɵdir = i0.ɵɵdefineDirective({ type: BaseWidget });
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && i0.ɵsetClassMetadata(BaseWidget, [{
        type: Directive
    }], function () { return []; }, null); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZS13aWRnZXQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9lcHNnaXMvY29tcG9uZW50cy9iYXNlLXdpZGdldC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQWlCLFNBQVMsRUFBNEIsTUFBTSxlQUFlLENBQUM7QUFFbkYsT0FBTyxLQUFLLENBQUMsTUFBTSxRQUFRLENBQUM7QUFJNUIsT0FBTyxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLGlCQUFpQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7O0FBY25HLE1BQU0sT0FBTyxVQUFVO0lBdUluQjtRQW5JQSxTQUFJLEdBQWUsVUFBVSxDQUFDLE1BQU0sQ0FBQztRQUlyQyxPQUFFLEdBQVcsRUFBRSxDQUFDO1FBSWhCLFVBQUssR0FBVyxTQUFTLENBQUM7UUFJMUIsU0FBSSxHQUFXLFNBQVMsQ0FBQztRQUl6QixRQUFHLEdBQVcsU0FBUyxDQUFDO1FBS3hCLG1CQUFjLEdBQW1CLElBQUksY0FBYyxFQUFFLENBQUM7UUFJdEQsYUFBUSxHQUFtQixJQUFJLGNBQWMsRUFBRSxDQUFDO1FBSWhELFdBQU0sR0FBUSxTQUFTLENBQUM7UUFJeEIsZ0JBQVcsR0FBWSxLQUFLLENBQUM7UUFJN0IsUUFBRyxHQUFRLElBQUksQ0FBQztRQUloQixTQUFJLEdBQVEsSUFBSSxDQUFDO1FBSWpCLGNBQVMsR0FBUSxJQUFJLENBQUM7UUFJdEIsY0FBUyxHQUFXLElBQUksQ0FBQztRQUl6QixVQUFLLEdBQWdCLFdBQVcsQ0FBQyxNQUFNLENBQUM7UUFJeEMsZ0JBQVcsR0FBc0IsaUJBQWlCLENBQUMsTUFBTSxDQUFDO1FBSTFELFlBQU8sR0FBWSxLQUFLLENBQUM7UUFJekIsU0FBSSxHQUFXLEVBQUUsQ0FBQztRQUlsQixvQkFBZSxHQUFZLElBQUksQ0FBQztRQUtoQyxpQkFBWSxHQUFRLElBQUksQ0FBQztRQUl6QixhQUFRLEdBQVcsSUFB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YUFBYTs7UUFDYixPQUFPLE9BQUEsSUFBSSxDQUFDLFlBQVksMENBQUUsU0FBUyxDQUFDLE1BQU0sT0FBTSxRQUFRLENBQUM7SUFDN0QsQ0FBQzs7b0VBeFVRLFVBQVU7K0NBQVYsVUFBVTt1RkFBVixVQUFVO2NBRHRCLFNBQVMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZnRlclZpZXdJbml0LCBEaXJlY3RpdmUsIElucHV0LCBPbkRlc3Ryb3ksIE9uSW5pdCB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBFdmVudE1hbmFnZXIgfSBmcm9tIFwiQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3NlclwiO1xuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgQ29tcG9uZW50TG9hZGVyU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9jb21wb25lbnQtbG9hZGVyLnNlcnZpY2VcIjtcbmltcG9ydCB7IEV2ZW50RW1pdHRlclNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXMvZXZlbnQtZW1pdHRlci5zZXJ2aWNlXCI7XG5pbXBvcnQgeyBTZXJ2aWNlSW5qZWN0b3IgfSBmcm9tIFwiLi4vc2VydmljZXMvc2VydmljZS1pbmplY3RvclwiO1xuaW1wb3J0IHsgV2lkZ2V0UG9zaXRpb24sIFdpZGdldFN0YXRlLCBXaWRnZXRUeXBlLCBXaWRnZXRXaW5kb3dTdGF0ZSB9IGZyb20gXCIuLi9tb2RlbHMvYmFzZS13aWRnZXRcIjtcbmltcG9ydCB7IEFwcEdsb2JhbENvbmZpZyB9IGZyb20gXCIuLi9tb2RlbHMvbW9kZWxzXCI7XG5pbXBvcnQgeyBDb21tb25TZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2NvbW1vbi5zZXJ2aWNlXCI7XG5pbXBvcnQgeyBDb25maWdMb2FkZXJTZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2NvbmZpZy1sb2FkZXIuc2VydmljZVwiO1xuaW1wb3J0IHsgQ29uZmlnTWFuYWdlclNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXMvY29uZmlnLW1hbmFnZXIuc2VydmljZVwiO1xuaW1wb3J0IHsgTWFwTWFuYWdlclNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXMvbWFwLW1hbmFnZXIuc2VydmljZVwiO1xuaW1wb3J0IHsgUGFuZWxNYW5hZ2VyU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9wYW5lbC1tYW5hZ2VyLnNlcnZpY2VcIjtcbmltcG9ydCB7IEh0dHBSZXFTZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2VzL3JlcXVlc3Quc2VydmljZVwiO1xuaW1wb3J0IHsgTGF5b3V0TWFuYWdlclNlcnZpY2UsIFdpZGdldE1hbmFnZXJTZXJ2aWNlLCBXaWRnZXRQbGFjZUhvbGRlclNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXMvc2VydmljZXNcIjtcbmltcG9ydCB7IFV0aWxzU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy91dGlscy5zZXJ2aWNlXCI7XG5pbXBvcnQgeyBNb2RhbE1hbmFnZXJTZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2VzL21vZGFsLW1hbmFnZXIuc2VydmljZVwiO1xuaW1wb3J0IHsgSUNvbXBvbmVudEluZm8gfSBmcm9tIFwiLi4vZGVjb3JhdG9yL2NvbXBvbmVudC1yZWdpc3Rlci5kZWNvcmF0b3JcIjtcbmltcG9ydCB7IFNldHRpbmdTZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2VzL3NldHRpbmcuc2VydmljZVwiO1xuQERpcmVjdGl2ZSgpXG5leHBvcnQgY2xhc3MgQmFzZVdpZGdldCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95IHtcbiAgICAvKipcbiAgICAgKiDnsbvlnovvvIx3aWRnZXR8cGFuZWx8aWNvblxuICAgICAqL1xuICAgIHR5cGU6IFdpZGdldFR5cGUgPSBXaWRnZXRUeXBlLndpZGdldDtcbiAgICAvKipcbiAgICAgKiDllK/kuIDmoIfor4ZcbiAgICAgKi9cbiAgICBpZDogc3RyaW5nID0gXCJcIjtcbiAgICAvKipcbiAgICAgKiDmoIfpophcbiAgICAgKi9cbiAgICBsYWJlbDogc3RyaW5nID0gdW5kZWZpbmVkO1xuICAgIC8qKlxuICAgICAqIOWbvuagh+WcsOWdgFxuICAgICAqL1xuICAgIGljb246IHN0cmluZyA9IHVuZGVmaW5lZDtcbiAgICAvKipcbiAgICAgKiDnu4Tku7blnLDlnYBcbiAgICAgKi9cbiAgICB1cmk6IHN0cmluZyA9IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIOacgOWIneeahOS9jee9ru+8jOi/kOihjOS4reS4jeS8muaUueWPmFxuICAgICAqL1xuICAgIG9yaWdpblBvc2l0aW9uOiBXaWRnZXRQb3NpdGlvbiA9IG5ldyBXaWRnZXRQb3NpdGlvbigpO1xuICAgIC8qKlxuICAgICAqIOS9jee9rlxuICAgICAqL1xuICAgIHBvc2l0aW9uOiBXaWRnZXRQb3NpdGlvbiA9IG5ldyBXaWRnZXRQb3NpdGlvbigpO1xuICAgIC8qKlxuICAgICAqIOe7hOS7tijkuJrliqHlip/og70p6YWN572u5L+h5oGvXG4gICAgICovXG4gICAgY29uZmlnOiBhbnkgPSB1bmRlZmluZWQ7XG4gICAgLyoqXG4gICAgICogXG4gICAgICovXG4gICAgb3BlbkF0U3RhcnQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiDkuoznu7TlnLDlm75cbiAgICAgKi9cbiAgICBtYXA6IGFueSA9IG51bGw7XG4gICAgLyoqXG4gICAgICog5LiJ57u05Zy65pmvXG4gICAgICovXG4gICAgdmlldzogYW55ID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiDpobnnm67phY3nva7kv6Hmga9cbiAgICAgKi9cbiAgICBhcHBDb25maWc6IGFueSA9IG51bGw7XG4gICAgLyoqXG4gICAgICog55uu5b2V5Zyw5Z2AXG4gICAgICovXG4gICAgZm9sZGVyVXJsOiBzdHJpbmcgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIOe7hOS7tueKtuaAgVxuICAgICAqL1xuICAgIHN0YXRlOiBXaWRnZXRTdGF0ZSA9IFdpZGdldFN0YXRlLmNsb3NlZDtcbiAgICAvKipcbiAgICAgKiBwYW5lbCDnirbmgIFcbiAgICAgKi9cbiAgICB3aW5kb3dTdGF0ZTogV2lkZ2V0V2luZG93U3RhdGUgPSBXaWRnZXRXaW5kb3dTdGF0ZS5ub3JtYWw7XG4gICAgLyoqXG4gICAgICog57uE5Lu25piv5ZCm5bey5ZCv5YqoXG4gICAgICovXG4gICAgc3RhcnRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIOe7hOS7tuWQjeensFxuICAgICAqL1xuICAgIG5hbWU6IHN0cmluZyA9ICcnO1xuICAgIC8qKlxuICAgICAqIOm8oOagh+enu+WKqOWIsOe7hOS7tuaXtuaYr+WQpua/gOa0u+e7hOS7tlxuICAgICAqL1xuICAgIG1vdmVUb3BPbkFjdGl2ZTogYm9vbGVhbiA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiDnu4Tku7bvvIjoh6rouqvlsZ7mgKfvvInphY3nva7kv6Hmga9cbiAgICAgKi9cbiAgICB3aWRnZXRDb25maWc6IGFueSA9IG51bGw7XG4gICAgLyoqXG4gICAgICogXG4gICAgICovXG4gICAgY29uZmlnSWQ6IHN0cmluZyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKi9cbiAgICBzdHlsZTogc3RyaW5nID0gXCJcIjtcbiAgICAvKipcbiAgICAgKiDmoIfpophcbiAgICAgKi9cbiAgICB0aXRsZTogc3RyaW5nID0gXCJcIjtcbiAgICAvKipcbiAgICAgKiDmj5DnpLpcbiAgICAgKi9cbiAgICB0b29sdGlwOiBzdHJpbmcgPSBcIlwiO1xuICAgIC8qKlxuICAgICAqIOivt+axguWPguaVsFxuICAgICAqL1xuICAgIHJlcVBhcmE6IGFueSA9IHVuZGVmaW5lZDtcbiAgICAvKipcbiAgICAgKiDliIbnu4RpZFxuICAgICAqL1xuICAgIGdpZDogc3RyaW5nID0gXCJcIjtcbiAgICBpblBhbmVsOiBib29sZWFuID0gdHJ1ZTtcbiAgICBpc09uU2NyZWVuOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIGdsb2JhbFBhcmFtczogQXBwR2xvYmFsQ29uZmlnO1xuICAgIHV0aWxzOiBVdGlsc1NlcnZpY2U7XG4gICAgY29tbW9uU2VydmljZTogQ29tbW9uU2VydmljZTtcbiAgICBodHRwU2VydmljZTogSHR0cFJlcVNlcnZpY2U7XG4gICAgY29uZmlnTG9hZGVyOiBDb25maWdMb2FkZXJTZXJ2aWNlO1xuICAgIGNvbmZpZ01hbmFnZXI6IENvbmZpZ01hbmFnZXJTZXJ2aWNlO1xuICAgIG1hcE1hbmFnZXI6IE1hcE1hbmFnZXJTZXJ2aWNlO1xuICAgIHBhbmVsTWFuYWdlcjogUGFuZWxNYW5hZ2VyU2VydmljZTtcbiAgICB3aWRnZXRNYW5hZ2VyOiBXaWRnZXRNYW5hZ2VyU2VydmljZTtcbiAgICB3aWRnZXRQbGFjZUhvbGRlcjogV2lkZ2V0UGxhY2VIb2xkZXJTZXJ2aWNlO1xuICAgIGxheW91dE1hbmFnZXI6IExheW91dE1hbmFnZXJTZXJ2aWNlO1xuICAgIGV2ZW50U2VydmljZTogRXZlbnRFbWl0dGVyU2VydmljZTtcbiAgICBqc0V2ZW50TWFuYWdlcjogRXZlbnRNYW5hZ2VyO1xuICAgIGNvbXBvbmVudExvYWRlcjogQ29tcG9uZW50TG9hZGVyU2VydmljZTtcbiAgICBtb2RhbE1hbmFnZXI6IE1vZGFsTWFuYWdlclNlcnZpY2U7XG4gICAgc2V0dGluZ1NlcnZpY2U6IFNldHRpbmdTZXJ2aWNlXG4gICAgcHJpdmF0ZSBtaW5aaW5kZXg6IG51bWJlciA9IDEwMjtcbiAgICAvKipcbiAgICAqIOe7hOS7tui3r+W+hO+8jOeUqOS6juiOt+WPlmNvbmZpbmcuanNvbuOAgW1hbmlmZXN0Lmpzb27ku6Xlj4rlm77niYfnrYnlvZPliY3nu4Tku7bnmoTpnZnmgIHotYTmupBcbiAgICAqL1xuICAgIC8vIGNvbXBvbmVudFBhdGg6IHN0cmluZyA9IFwiXCI7XG4gICAgLyoqXG4gICAgICog57uE5Lu25L+h5oGvXG4gICAgICovXG4gICAgcHJpdmF0ZSBfY29tcEluZm86IElDb21wb25lbnRJbmZvID0geyB1cmk6IFwiXCIsIG5hbWU6IFwiQmFzZVdpZGdldENvbXBvbmVudFwiLCBwYXRoOiBcIlwiIH07XG4gICAgLyoqXG4gICAgICogY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gICAgLyoqXG4gICAgICAgKiDnlKjkuo5BT1BcbiAgICAgICAqIOS5i+WJjeeahGFzcGVjdC5hZnRlcih0aGlzLmNvbVJlZk1hcC5pbnN0YW5jZSwgXCJuZ09uSW5pdFwiLCB0aGlzLnRlc3QpO1xuICAgICAgICog5peg5rOV5omn6KGM5LqG77yM5L2G6Ieq5a6a5LmJ55qE5Ye95pWw5Y+v5Lul77yM5omA5Lul6YCa6L+H5Zyo6ZKp5a2Q5Ye95pWw5Lit6LCD55So6Ieq5a6a5LmJ55qE5Ye95pWw5p2l5a6e546w44CCXG4gICAgICAgKiDkuZ/lsLHmmK/lnKhuZ09uSW5pdOS4reiwg+eUqGFmdGVyTmdPbkluaXRcbiAgICAgICAqIOeEtuWQjmFzcGVjdC5hZnRlcih0aGlzLmNvbVJlZk1hcC5pbnN0YW5jZSwgXCJhZnRlck5nT25Jbml0XCIsIHRoaXMudGVzdCk7XG4gICAgICAgKi9cbiAgICBhZnRlck5nT25Jbml0KCkge1xuXG4gICAgfVxuICAgIC8qKlxuICAgKiDnlKjkuo5BT1DvvIznsbvlkIxhZnRlck5nT25Jbml0XG4gICAqL1xuICAgIGFmdGVyTmdBZnRlclZpZXdJbml0KCkge1xuXG4gICAgfVxuICAgIC8qKlxuICAgKiDlrZDnu4Tku7blv4XpobvopoHosIPnlKjor6Xlh73mlbBcbiAgICovXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIC8v6L+Z5qC35a+86Ie055uR5ZCs5aSq5aSaXG4gICAgICAgIC8vIHRoaXMuZXZlbnRTZXJ2aWNlLnJzcy5vbih0aGlzLmV2ZW50U2VydmljZS5fdmlld0NoYW5nZWQsICh2aWV3KSA9PiB7XG4gICAgICAgIC8vICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgLy8gICB0aGlzLm9uVmlld0NoYW5nZSh0aGlzLnZpZXcpO1xuICAgICAgICAvLyB9KTtcbiAgICAgICAgLy8gdGhpcy5ldmVudFNlcnZpY2UucnNzLm9uKHRoaXMuZXZlbnRTZXJ2aWNlLl9tYXBDaGFuZ2VkLCAobWFwKSA9PiB7XG4gICAgICAgIC8vICAgdGhpcy5tYXAgPSBtYXA7XG4gICAgICAgIC8vICAgdGhpcy5vbk1hcENoYW5nZSh0aGlzLm1hcCk7XG4gICAgICAgIC8vIH0pO1xuICAgICAgICB0aGlzLmFmdGVyTmdPbkluaXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlrZDnu4Tku7blv4XpobvopoHosIPnlKjor6Xlh73mlbBcbiAgICAgKi9cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIHRoaXMuYWZ0ZXJOZ0FmdGVyVmlld0luaXQoKTtcbiAgICB9XG5cbiAgICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDov5Tlm57nu4Tku7bkv6Hmga9cbiAgICAgKi9cbiAgICBnZXRDb21wSW5mbygpOiBJQ29tcG9uZW50SW5mbyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wSW5mbztcbiAgICB9XG4gICAgLy8gY29uc3RydWN0b3IoXG4gICAgLy8gICBzZXJ2aWNlSW5qZWN0b3I6IFNlcnZpY2VJbmplY3Rvcikge1xuICAgIC8vICAgdGhpcy5nbG9iYWxQYXJhbXMgPSBzZXJ2aWNlSW5qZWN0b3IuY29uZmlnO1xuICAgIC8vICAgdGhpcy51dGlscyA9IHNlcnZpY2VJbmplY3Rvci51dGlscztcbiAgICAvLyAgIHRoaXMuY29tbW9uU2VydmljZSA9IHNlcnZpY2VJbmplY3Rvci5jb21tb25TZXJ2aWNlO1xuICAgIC8vICAgdGhpcy5odHRwU2VydmljZSA9IHNlcnZpY2VJbmplY3Rvci5odHRwU2VydmljZTtcbiAgICAvLyAgIHRoaXMuY29uZmlnTG9hZGVyID0gc2VydmljZUluamVjdG9yLmNvbmZpZ0xvYWRlcjtcbiAgICAvLyAgIHRoaXMuY29uZmlnTWFuYWdlciA9IHNlcnZpY2VJbmplY3Rvci5jb25maWdNYW5hZ2VyO1xuICAgIC8vICAgdGhpcy5tYXBNYW5hZ2VyID0gc2VydmljZUluamVjdG9yLm1hcE1hbmFnZXI7XG4gICAgLy8gICB0aGlzLnBhbmVsTWFuYWdlciA9IHNlcnZpY2VJbmplY3Rvci5wYW5lbE1hbmFnZXI7XG4gICAgLy8gICB0aGlzLndpZGdldE1hbmFnZXIgPSBzZXJ2aWNlSW5qZWN0b3Iud2lkZ2V0TWFuYWdlcjtcbiAgICAvLyAgIHRoaXMud2lkZ2V0UGxhY2VIb2xkZXIgPSBzZXJ2aWNlSW5qZWN0b3Iud2lkZ2V0UGxhY2VIb2xkZXI7XG4gICAgLy8gICB0aGlzLmxheW91dE1hbmFnZXIgPSBzZXJ2aWNlSW5qZWN0b3IubGF5b3V0TWFuYWdlcjtcbiAgICAvLyB9XG4gICAgLyoqXG4gICAgICog6K6+572u5pyN5YqhXG4gICAgICogQHBhcmFtIHNlcnZpY2VJbmplY3RvciBcbiAgICAgKi9cbiAgICBzZXRTZXJ2aWNlSW5qZWN0b3Ioc2VydmljZUluamVjdG9yOiBTZXJ2aWNlSW5qZWN0b3IpIHtcbiAgICAgICAgaWYgKCFzZXJ2aWNlSW5qZWN0b3IpIHJldHVybjtcblxuICAgICAgICB0aGlzLmdsb2JhbFBhcmFtcyA9IHNlcnZpY2VJbmplY3Rvci5jb25maWc7XG4gICAgICAgIHRoaXMudXRpbHMgPSBzZXJ2aWNlSW5qZWN0b3IudXRpbHM7XG4gICAgICAgIHRoaXMuY29tbW9uU2VydmljZSA9IHNlcnZpY2VJbmplY3Rvci5jb21tb25TZXJ2aWNlO1xuICAgICAgICB0aGlzLmh0dHBTZXJ2aWNlID0gc2VydmljZUluamVjdG9yLmh0dHBTZXJ2aWNlO1xuICAgICAgICB0aGlzLmNvbmZpZ0xvYWRlciA9IHNlcnZpY2VJbmplY3Rvci5jb25maWdMb2FkZXI7XG4gICAgICAgIHRoaXMuY29uZmlnTWFuYWdlciA9IHNlcnZpY2VJbmplY3Rvci5jb25maWdNYW5hZ2VyO1xuICAgICAgICB0aGlzLm1hcE1hbmFnZXIgPSBzZXJ2aWNlSW5qZWN0b3IubWFwTWFuYWdlcjtcbiAgICAgICAgdGhpcy5wYW5lbE1hbmFnZXIgPSBzZXJ2aWNlSW5qZWN0b3IucGFuZWxNYW5hZ2VyO1xuICAgICAgICB0aGlzLndpZGdldE1hbmFnZXIgPSBzZXJ2aWNlSW5qZWN0b3Iud2lkZ2V0TWFuYWdlcjtcbiAgICAgICAgdGhpcy53aWRnZXRQbGFjZUhvbGRlciA9IHNlcnZpY2VJbmplY3Rvci53aWRnZXRQbGFjZUhvbGRlcjtcbiAgICAgICAgdGhpcy5sYXlvdXRNYW5hZ2VyID0gc2VydmljZUluamVjdG9yLmxheW91dE1hbmFnZXI7XG4gICAgICAgIHRoaXMuZXZlbnRTZXJ2aWNlID0gdGhpcy5sYXlvdXRNYW5hZ2VyLmV2ZW50U2VydmljZTtcbiAgICAgICAgdGhpcy5qc0V2ZW50TWFuYWdlciA9IHNlcnZpY2VJbmplY3Rvci5qc0V2ZW50TWFuYWdlcjtcbiAgICAgICAgdGhpcy5jb21wb25lbnRMb2FkZXIgPSBzZXJ2aWNlSW5qZWN0b3IuY29tcG9uZW50TWFuYWdlcjtcbiAgICAgICAgdGhpcy5tb2RhbE1hbmFnZXIgPSBzZXJ2aWNlSW5qZWN0b3IubW9kYWxNYW5hZXI7XG4gICAgICAgIHRoaXMuc2V0dGluZ1NlcnZpY2UgPSBzZXJ2aWNlSW5qZWN0b3Iuc2V0dGluZ1NlcnZpY2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOWIneWni+WKoOi9veaXtuiuvue9ruWFg+e0oOS9jee9rlxuICAgICAqIEBwYXJhbSBwb3NpdGlvbkNvbmZpZyBcbiAgICAgKi9cbiAgICBzZXRQb3NpdGlvbihwb3NpdGlvbkNvbmZpZzogYW55KSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLmNvbW1vblNlcnZpY2UuZ2V0UG9zaXRpb24ocG9zaXRpb25Db25maWcpO1xuICAgICAgICB0aGlzLm9yaWdpblBvc2l0aW9uID0gXy5jbG9uZURlZXAodGhpcy5wb3NpdGlvbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOaUueWPmOWFg+e0oOS9jee9rlxuICAgICAqIEBwYXJhbSBwb3NpdGlvbkNvbmZpZyBcbiAgICAgKi9cbiAgICBjaGFuZ2VQb3NpdGlvbihwb3NpdGlvbkNvbmZpZzogYW55KSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSB0aGlzLmNvbW1vblNlcnZpY2UuZ2V0UG9zaXRpb24ocG9zaXRpb25Db25maWcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gc3RhdGUgXG4gICAgICovXG4gICAgc2V0U3RhdGUoc3RhdGU6IFdpZGdldFN0YXRlKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogXG4gICAgICovXG4gICAgc3RhcnR1cCgpIHtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogXG4gICAgICovXG4gICAgb25PcGVuKCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gV2lkZ2V0U3RhdGUub3BlbmVkO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIndpZGdldCBvbk9wZW5cIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFxuICAgICAqL1xuICAgIHJlc2l6ZShwb3NpdGlvbj86IGFueSkge1xuXG4gICAgfVxuICAgIG9uRGVBY3RpdmUoKSB7XG5cbiAgICB9XG4gICAgb25DbG9zZSgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFdpZGdldFN0YXRlLmNsb3NlZDtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJ3aWRnZXQgb25DbG9zZVwiKTtcbiAgICB9XG4gICAgb25BY3Rpb24obmFtZTogc3RyaW5nLCBkYXRhPzogYW55KSB7XG5cbiAgICB9XG4gICAgLyoqXG4gICAgICog5pS55Y+YemluZGV477yM5Y+v6YCJ5YC877ya4oCYYWN0aXZl4oCZLCdkZWFjdGl2ZScs5YW35L2T55qE5YC8XG4gICAgICovXG4gICAgc2V0WkluZGV4KGluZGV4OiBzdHJpbmcpIHtcbiAgICAgICAgc3dpdGNoIChpbmRleCkge1xuICAgICAgICAgICAgY2FzZSBcImFjdGl2ZVwiOlxuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24uekluZGV4ID0gdGhpcy5taW5aaW5kZXg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZGVhY3RpdmVcIjpcbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnpJbmRleCA9IFwiYXV0b1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnpJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICB9XG4gICAgb25Ob3JtYWxpemUoKSB7XG4gICAgfVxuICAgIG9uTWluaW1pemUoKSB7IH1cbiAgICBvbk1heGltaXplKCkge1xuXG4gICAgfVxuICAgIC8qKlxuICAgKiBcbiAgICogQHBhcmFtIG1hcCBcbiAgICovXG4gICAgY2hhbmdlTWFwKG1hcDogYW55KSB7XG4gICAgICAgIHRoaXMubWFwID0gbWFwO1xuICAgICAgICB0aGlzLmV2ZW50U2VydmljZS5yc3MuZW1pdCh0aGlzLmV2ZW50U2VydmljZS5fbWFwQ2hhbmdlZCwgbWFwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog5Zyw5Zu+5pS55Y+YXG4gICAgICogQHBhcmFtIG1hcCBcbiAgICAgKi9cbiAgICBvbk1hcENoYW5nZShtYXA6IGFueSkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gdmlldyBcbiAgICAgKi9cbiAgICBjaGFuZ2VWaWV3KHZpZXc6IGFueSkge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLmV2ZW50U2VydmljZS5yc3MuZW1pdCh0aGlzLmV2ZW50U2VydmljZS5fdmlld0NoYW5nZWQsIHZpZXcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDlnLrmma/mlLnlj5hcbiAgICAgKiBAcGFyYW0gdmlldyBcbiAgICAgKi9cbiAgICBvblZpZXdDaGFuZ2UodmlldzogYW55KSB7XG4gICAgfVxuXG4gICAgZ2V0IGlzU2V0dGluZ01vZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdsb2JhbFBhcmFtcz8udXJsUGFyYW1zW1wibW9kZVwiXSA9PT0gXCJjb25maWdcIjtcbiAgICB9XG59Il19